import{_ as e}from"./index107.js?v=1763625242172";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1763625242172";import{_ as l}from"./index99.js?v=1763625242172";import{o as s,x as i,_ as n,q as d,g as r,c as o,m as p,bW as u,b5 as _,p as c}from"./page_layout.js?v=1763625242172";import{k as v,P as m,a0 as f,ae as P,c as h,R as b,S as g,U as S,X as y,V as w,a3 as x,j as H,a4 as $,an as U,F as k,r as j,n as q,e as E,l as L,aj as R,v as I,a2 as z}from"./vue.js?v=1763625242172";import{g as C,f as M,aO as O,aP as B}from"./site.js?v=1763625242172";import{m as D,d as T,u as V,i as F,_ as J}from"./public.js?v=1763625242172";import{u as N}from"./index238.js?v=1763625242172";import{dV as Q,dU as A,dT as G,dP as W,au as X,d9 as K,dj as Y,dg as Z,dh as ee}from"./naive.js?v=1763625242172";import{D as ae}from"./domain-input.js?v=1763625242172";import{g as te}from"./git-ps.js?v=1763625242172";import{l as le}from"./php.js?v=1763625242172";import"./index98.js?v=1763625242172";import"./common.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";const se={class:"w-150px"},ie={key:0,class:"ml-8px"},ne=v({__name:"select-ftp",props:{value:{default:"0"},valueModifiers:{}},emits:["update:value"],setup(e){const{t:a}=m(),t=N(),{ftp:l}=f(t),i=P(e,"value"),n=[{label:a("Site.PHP.add_site_31"),value:"0"},{label:a("Site.PHP.add_site_34"),value:"1"}],d=h((()=>!l.value.setup)),r=()=>{D("pureftpd")};return(e,a)=>{const t=Q,l=s;return b(),g(k,null,[S("div",se,[y(t,{value:i.value,"onUpdate:value":a[0]||(a[0]=e=>i.value=e),class:"ftp-select",options:n,disabled:w(d)},null,8,["value","disabled"])]),w(d)?(b(),g("div",ie,[y(l,{onClick:r},{default:x((()=>[H($(e.$t("Site.PHP.add_site_33")),1)])),_:1})])):U("",!0)],64)}}}),de={class:"w-150px"},re={key:0,class:"ml-8px"},oe=v({__name:"select-database",props:{value:{default:"0"},valueModifiers:{}},emits:["update:value"],setup(e){const{t:a}=m(),t=N(),{mysql:l}=f(t),i=P(e,"value"),n=[{label:a("Site.PHP.add_site_31"),value:"0"},{label:a("Site.PHP.add_site_32"),value:"MySQL"}],d=h((()=>!l.value.setup)),r=()=>{D("mysql")};return(e,a)=>{const t=Q,l=s;return b(),g(k,null,[S("div",de,[y(t,{value:i.value,"onUpdate:value":a[0]||(a[0]=e=>i.value=e),class:"db-select",options:n,disabled:w(d)},null,8,["value","disabled"])]),w(d)?(b(),g("div",re,[y(l,{onClick:r},{default:x((()=>[H($(e.$t("Site.PHP.add_site_30")),1)])),_:1})])):U("",!0)],64)}}}),pe={class:"w-150px"},ue=v({__name:"select-php",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=P(e,"value"),{loading:t,setLoading:l}=T(),s=j([]);return(async()=>{try{l(!0);const{message:e}=await C(),t=i(e)?e:[];s.value=t.reverse().map((e=>({label:e.name,value:e.version}))),await q(),t.length>0&&(a.value=t[0].version)}finally{l(!1)}})(),(e,l)=>{const i=Q;return b(),g("div",pe,[y(i,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),class:"php-select",loading:w(t),options:w(s)},null,8,["value","loading","options"])])}}}),_e={class:"w-150px"},ce=v({__name:"select-category",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=P(e,"value"),{loading:t,setLoading:l}=T(),s=j([]);return(async()=>{try{l(!0);const{message:e}=await M();i(e)?(s.value=e.map((e=>({label:e.name,value:e.id}))),e.length>0&&(a.value=e[0].id)):s.value=[]}finally{l(!1)}})(),(e,l)=>{const i=Q;return b(),g("div",_e,[y(i,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),class:"type-select",loading:w(t),options:w(s)},null,8,["value","loading","options"])])}}}),ve={class:"flex items-center w-600px py-30px px-50px"},me={class:"w-120px text-primary"},fe={class:"flex flex-col gap-16px flex-1 ml-60px"},Pe={key:0,class:"leading-24px"},he={class:"flex items-center h-30px"},be={class:"mt-8px"},ge={class:"font-bold"},Se={class:"font-bold"},ye={key:1,class:"leading-24px"},we={class:"flex items-center h-30px"},xe={class:"mt-8px"},He={class:"font-bold"},$e={class:"font-bold"},Ue=v({__name:"site-result",props:{data:{}},setup(e){const a=e,{info:t}=a.data;return(e,a)=>{const l=n,s=d;return b(),g("div",ve,[S("div",me,[y(l,{name:"base-success",size:"120"})]),S("div",fe,[w(t).ftpStatus?(b(),g("div",Pe,[S("div",he,$(e.$t("Site.PHP.add_site_35")),1),y(s,{dashed:""}),S("div",be,[H($(e.$t("Site.PHP.add_site_37")),1),S("span",ge,$(w(t).ftpUser||"--"),1)]),S("div",null,[H($(e.$t("Site.PHP.add_site_38")),1),S("span",Se,$(w(t).ftpPass||"--"),1)])])):U("",!0),w(t).databaseStatus?(b(),g("div",ye,[S("div",we,$(e.$t("Site.PHP.add_site_36")),1),y(s,{dashed:""}),S("div",xe,[H($(e.$t("Site.PHP.add_site_37"))+" ",1),S("span",He,$(w(t).databaseUser||"--"),1)]),S("div",null,[H($(e.$t("Site.PHP.add_site_38"))+" ",1),S("span",$e,$(w(t).databasePass||"--"),1)])])):U("",!0)])])}}}),ke={class:"w-440px"},je={class:"w-400px"},qe={class:"w-400px"},Ee={class:"flex-1"},Le={class:"w-174px"},Re={class:"ml-8px"},Ie={class:"w-174px"},ze={class:"mt-8px text-desc"},Ce={class:"flex-1"},Me={class:"w-174px"},Oe={class:"ml-8px"},Be={class:"w-174px"},De={class:"mt-8px text-desc"},Te={class:"w-150px"},Ve=v({__name:"index",setup(e,{expose:s}){const{t:i}=m(),d=N(),u=j("0"),_=j("0"),c=j(null),v=j(null),f=j([]),P=E({type:0,domain:[""],webname:{domain:""},ps:"",path:d.sitePath,ftp:!1,ftp_username:"",ftp_password:"",sql:!1,codeing:"utf8",datauser:"",datapassword:"",version:null,type_id:null,set_ssl:!1,force_ssl:!1,is_create_default_file:!0}),h={"webname.domain":{required:!0,trigger:["blur","change"],validator:(e,a)=>""!==a.trim()||0!==P.type||new Error(i("Site.PHP.add_site_23"))},domain:{trigger:["blur"],validator:(e,a)=>!(!a[0]&&1===P.type)||new Error(i("Site.PHP.add_site_23"))},path:{trigger:["blur","change"],validator:(e,a)=>""!==a||new Error(i("Site.PHP.add_site_26"))},version:{trigger:"change",validator:(e,a)=>null!==a||new Error(i("Site.PHP.add_site_27"))},type_id:{trigger:"change",validator:(e,a)=>null!==a||new Error(i("Site.PHP.add_site_28"))}},k=e=>{if(!e)return void(P.webname.domain=P.domain.filter(Boolean).join("\n"));const a=P.webname.domain.trim();a!==P.domain.join("\n")&&(P.domain=a?a.split("\n").filter(Boolean):[""],P.domain.forEach(((e,a)=>{var t;return null==(t=c.value)?void 0:t.onDomainItemBlur(e,a)})))},q=e=>{const a=null==e?void 0:e.trim().split("\n")[0].split(":")[0];if(a){const e=a.replace(new RegExp(/([-.])/g),"_");P.ps=e,P.path="".concat(d.sitePath,"/").concat(a),P.ftp_username="ftp_".concat(e),P.ftp_password=r(16),P.datauser="sql_".concat(e),P.datapassword=r(16)}else P.ps="",P.path=d.sitePath,P.ftp_username="",P.ftp_password="",P.datauser="",P.datapassword=""},C=e=>{P.ftp="1"===e},M=e=>{P.sql="0"!==e&&e};return s({onConfirm:async()=>{var e;await new Promise(((e,a)=>{0===f.value.filter((e=>e.support.includes("auto"))).length&&1===P.type?(p.error(i("Site.PHP.add_site_58")),a(!1)):e(!0)})),await(null==(e=v.value)?void 0:e.validate());const{message:a}=await O((()=>{const{version:e,type_id:a}=P;if(null===e)throw p.error(i("Site.PHP.add_site_27")),new Error(i("Site.PHP.add_site_27"));if(null===a)throw p.error(i("Site.PHP.add_site_28")),new Error(i("Site.PHP.add_site_28"));const t=P.webname.domain.trim().split("\n"),l=t[0]+"\r",s=t[0].split(":")[1]||"80",n=t.length>1?t.slice(1):[],d=f.value.map((e=>({domain:e.domain,hash:e.hash,support:[...e.auto?["auto"]:[],...e.ssl_cert?["ssl_cert"]:[],...e.cf_proxy?["cf_proxy"]:[]]})));let r={webname:{domain:l,domainlist:n,count:n.length},parse_list:1===P.type&&d.length?JSON.stringify(d):null,port:s,type:"PHP",ps:P.ps,path:P.path,ftp:P.ftp,sql:P.sql,codeing:P.codeing,version:e,type_id:a,set_ssl:P.set_ssl?1:0,force_ssl:P.force_ssl?1:0,is_create_default_file:P.is_create_default_file};return P.ftp&&(r=Object.assign(r,{ftp_username:P.ftp_username,ftp_password:P.ftp_password})),P.sql&&(r=Object.assign(r,{datauser:P.datauser,datapassword:P.datapassword})),r})());var t;!o(a)||!1===a.ftpStatus&&!1===a.databaseStatus?p.success(i("Site.PHP.add_site_29")):(t=a,V({title:i("Site.PHP.add_site_29"),data:{info:t},component:Ue})),d.setRefresh(!0)}}),(e,s)=>{const i=A,d=G,r=n,o=W,p=l,m=X,j=t,E=K,O=Y,B=a;return b(),g("div",null,[y(B,{ref_key:"formRef",ref:v,model:w(P),rules:h},{default:x((()=>[y(o,{label:e.$t("SSL.index_1")},{default:x((()=>[y(d,{value:w(P).type,"onUpdate:value":[s[0]||(s[0]=e=>w(P).type=e),k]},{default:x((()=>[y(i,{value:0},{default:x((()=>[H($(e.$t("SSL.index_2")),1)])),_:1}),y(i,{value:1},{default:x((()=>[H($(e.$t("SSL.index_3")),1)])),_:1})])),_:1},8,["value"]),y(r,{name:"ssl-stars",size:22})])),_:1},8,["label"]),L(y(o,{label:e.$t("Site.PHP.add_site_4"),path:"domain"},{default:x((()=>[y(ae,{ref_key:"domainInputRef",ref:c,value:w(P).domain,"onUpdate:value":s[1]||(s[1]=e=>w(P).domain=e),"parse-list":w(f),"onUpdate:parseList":s[2]||(s[2]=e=>R(f)?f.value=e:null),"onUpdate:domain":q},null,8,["value","parse-list"])])),_:1},8,["label"]),[[I,1===w(P).type]]),L(y(o,{label:e.$t("Site.PHP.add_site_4"),path:"webname.domain"},{default:x((()=>[S("div",ke,[y(p,{value:w(P).webname.domain,"onUpdate:value":[s[3]||(s[3]=e=>w(P).webname.domain=e),q],name:"domain"},{default:x((()=>[S("p",null,$(e.$t("Site.PHP.add_site_5")),1),S("p",null,$(e.$t("Site.PHP.add_site_6")),1),S("p",null,$(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[I,0===w(P).type]]),y(o,{label:e.$t("Site.PHP.add_site_8"),path:"ps"},{default:x((()=>[S("div",je,[y(m,{value:w(P).ps,"onUpdate:value":s[4]||(s[4]=e=>w(P).ps=e),"input-props":{name:"ps"},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),y(o,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:x((()=>[S("div",qe,[y(j,{value:w(P).path,"onUpdate:value":s[5]||(s[5]=e=>w(P).path=e),"input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"]),y(o,{label:e.$t("Site.PHP.add_site_10")},{default:x((()=>[y(ne,{value:w(u),"onUpdate:value":[s[6]||(s[6]=e=>R(u)?u.value=e:null),C]},null,8,["value"])])),_:1},8,["label"]),"1"===w(u)?(b(),z(o,{key:0,label:e.$t("Site.PHP.add_site_11")},{default:x((()=>[S("div",Ee,[y(E,{class:"items-center"},{default:x((()=>[S("div",Le,[y(m,{value:w(P).ftp_username,"onUpdate:value":s[7]||(s[7]=e=>w(P).ftp_username=e),"input-props":{name:"ftp_username"},placeholder:e.$t("Site.PHP.add_site_12")},null,8,["value","placeholder"])]),S("div",Re,$(e.$t("Site.PHP.add_site_13")),1),S("div",Ie,[y(m,{value:w(P).ftp_password,"onUpdate:value":s[8]||(s[8]=e=>w(P).ftp_password=e),"input-props":{name:"ftp_password"},placeholder:e.$t("Site.PHP.add_site_14")},null,8,["value","placeholder"])])])),_:1}),S("div",ze,$(e.$t("Site.PHP.add_site_15")),1)])])),_:1},8,["label"])):U("",!0),y(o,{label:e.$t("Site.PHP.add_site_16")},{default:x((()=>[y(oe,{value:w(_),"onUpdate:value":[s[9]||(s[9]=e=>R(_)?_.value=e:null),M]},null,8,["value"])])),_:1},8,["label"]),"MySQL"===w(_)?(b(),z(o,{key:1,label:e.$t("Site.PHP.add_site_17")},{default:x((()=>[S("div",Ce,[y(E,{class:"items-center"},{default:x((()=>[S("div",Me,[y(m,{value:w(P).datauser,"onUpdate:value":s[10]||(s[10]=e=>w(P).datauser=e),"input-props":{name:"db_username"},placeholder:e.$t("Site.PHP.add_site_18")},null,8,["value","placeholder"])]),S("div",Oe,$(e.$t("Site.PHP.add_site_13")),1),S("div",Be,[y(m,{value:w(P).datapassword,"onUpdate:value":s[11]||(s[11]=e=>w(P).datapassword=e),"input-props":{name:"db_password"},placeholder:e.$t("Site.PHP.add_site_19")},null,8,["value","placeholder"])])])),_:1}),S("div",De,$(e.$t("Site.PHP.add_site_20")),1)])])),_:1},8,["label"])):U("",!0),y(o,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:x((()=>[S("div",Te,[y(ue,{value:w(P).version,"onUpdate:value":s[12]||(s[12]=e=>w(P).version=e)},null,8,["value"])])])),_:1},8,["label"]),y(o,{label:e.$t("Site.PHP.add_site_22"),path:"type_id"},{default:x((()=>[y(ce,{value:w(P).type_id,"onUpdate:value":s[13]||(s[13]=e=>w(P).type_id=e)},null,8,["value"])])),_:1},8,["label"]),y(o,{label:e.$t("SSL.SiteSSL.index_18")},{default:x((()=>[y(O,{value:w(P).is_create_default_file,"onUpdate:value":s[14]||(s[14]=e=>w(P).is_create_default_file=e)},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),Fe={class:"px-10px"},Je={class:"mt-8px leading-22px text-default"},Ne={class:"mt-6px"},Qe=v({__name:"index",setup(e,{expose:t}){const{t:s}=m(),i=N(),n=E({domain:"domain|1|0|0|0\ndomain|1|0|0|0\ndomain|1|0|0|0"}),d=j([{key:"name",title:s("Site.TableRow.index_1")},{key:"ftp",title:s("Site.PHP.add_site_10"),render:e=>e.succesInfo?e.succesInfo.ftp_status?y("span",{class:"text-primary"},[s("Site.PHP.index_35")]):"".concat(s("Site.PHP.index_37")):"--"},{key:"database",title:s("Site.PHP.add_site_16"),render:e=>e.succesInfo?e.succesInfo.db_status?y("span",{class:"text-primary"},[s("Site.PHP.index_35")]):"".concat(s("Site.PHP.index_37")):"--"},{key:"result",title:s("Site.DelSite.index_10"),render:e=>"error"===e.status?y("span",{class:"text-error"},[e.errorMsg]):y("span",{class:"text-primary"},[s("Site.PHP.index_35")])}]);return t({onConfirm:async()=>{let e=[];const a=n.domain.trim().split("\n");for(let l=0;l<a.length;l++){const t=a[l].split("|");for(let a=0;a<t.length;a++){const i=l+1,n=t[a].trim();switch(a){case 0:e=n.split(",");for(let a=0;a<e.length;a++){const a=e[0],t=a.split(":");if(!u(t[0]))return void p.error("".concat(s("Site.PHP.index_39")," ").concat(i,", ").concat(s("Site.PHP.index_40")," [").concat(a,"]"));if(void 0!==t[1]&&_(t[1]))return void p.error("".concat(s("Site.PHP.index_39")," ").concat(i,", ").concat(s("Site.PHP.index_41")," [").concat(t[1],"]"))}break;case 1:if("1"!==n&&n.indexOf("/")<-1)return void p.error("".concat(s("Site.PHP.index_39")," ").concat(i,", ").concat(s("Site.PHP.index_42")," [").concat(n,"]"))}}}const{message:t}=await B({websites_content:a});o(t)&&(p.success(t.msg),(e=>{const a=[];Object.entries(e.error).forEach((([e,t])=>{a.push({name:e,status:"error",errorMsg:t.result})})),Object.entries(e.success).forEach((([e,t])=>{a.push({name:e,status:"success",succesInfo:t})})),V({title:s("Site.PHP.index_38"),content:()=>y("div",{class:"w-500px p-20px"},[y(Z,{data:a,columns:d.value},null)])})})(t)),i.setRefresh(!0)}}),(e,t)=>{const s=l,i=W,d=a;return b(),g("div",Fe,[y(d,{ref:"formRef"},{default:x((()=>[y(i,{label:""},{default:x((()=>[y(s,{value:w(n).domain,"onUpdate:value":t[0]||(t[0]=e=>w(n).domain=e),rows:10,name:"batch-domain"},null,8,["value"])])),_:1})])),_:1},512),S("div",Je,[S("p",null,$(e.$t("Site.PHP.add_site_39")),1),S("p",Ne,$(e.$t("Site.PHP.add_site_40")),1),S("p",null,$(e.$t("Site.PHP.add_site_41")),1),S("p",null,$(e.$t("Site.PHP.add_site_42")),1),S("p",null,$(e.$t("Site.PHP.add_site_43")),1),S("p",null,$(e.$t("Site.PHP.add_site_44")),1),t[1]||(t[1]=S("p",{class:"mt-6px"},"Eq, bt.cn,test.cn:8081|/www/wwwroot/bt.cn|1|1|56",-1))])])}}}),Ae={class:"w-440px"},Ge={class:"w-400px"},We={key:0},Xe={class:"text-primary cursor-pointer"},Ke=["src"],Ye=v({__name:"index",setup(e,{expose:i}){const{t:d}=m(),u=N(),_=j(null),c=j(null),v=j([]),f=E({type:0,domain:[""],webname:{domain:""},ps:"",path:u.sitePath,ftp:!1,ftp_username:"",ftp_password:"",sql:!1,codeing:"utf8",datauser:"",datapassword:"",version:null,type_id:null,set_ssl:!1,force_ssl:!1,deploy_type:"ssh",git_repo:null,git_branch:null,ssh_key:"",ssh_repo:null,deploy_script:"",ssh_branch:""}),P={"webname.domain":{required:!0,trigger:["blur","change"],validator:(e,a)=>""!==a.trim()||0!==f.type||new Error(d("Site.PHP.add_site_23"))},domain:{trigger:["blur"],validator:(e,a)=>!(!a[0]&&1===f.type)||new Error(d("Site.PHP.add_site_23"))},path:{trigger:["blur","change"],validator:(e,a)=>""!==a||new Error(d("Site.PHP.add_site_26"))},version:{trigger:"change",validator:(e,a)=>null!==a||new Error(d("Site.PHP.add_site_27"))},type_id:{trigger:"change",validator:(e,a)=>null!==a||new Error(d("Site.PHP.add_site_28"))},git_repo:{required:!0,trigger:["blur","change"],message:d("Site.PHP.add_site_53")},git_branch:{required:!0,trigger:["blur","change"],message:d("Site.PHP.add_site_54")},ssh_repo:{required:!0,trigger:["blur","change"],message:d("Site.PHP.add_site_55")},deploy_script:{required:!0,trigger:["blur","change"],message:d("Site.PHP.add_site_56")},ssh_branch:{required:!0,trigger:["blur","change"],message:d("Site.PHP.add_site_57")}},h=j([]),k=j([]),q=e=>{if(!e)return void(f.webname.domain=f.domain.filter(Boolean).join("\n"));const a=f.webname.domain.trim();a!==f.domain.join("\n")&&(f.domain=a?a.split("\n").filter(Boolean):[""],f.domain.forEach(((e,a)=>{var t;return null==(t=_.value)?void 0:t.onDomainItemBlur(e,a)})))},C=()=>{F(f.ssh_key)},M=e=>{const a=null==e?void 0:e.trim().split("\n")[0].split(":")[0];if(a){const e=a.replace(new RegExp(/([-.])/g),"_");f.ps=e,f.path="".concat(u.sitePath,"/").concat(a),f.ftp_username="ftp_".concat(e),f.ftp_password=r(16),f.datauser="sql_".concat(e),f.datapassword=r(16)}else f.ps="",f.path=u.sitePath,f.ftp_username="",f.ftp_password="",f.datauser="",f.datapassword=""};return(async()=>{const{message:e}=await le();o(e)&&(f.ssh_key=e.result)})(),i({onConfirm:async()=>{var e;await new Promise(((e,a)=>{0===v.value.filter((e=>e.support.includes("auto"))).length&&1===f.type?(p.error(d("Site.PHP.add_site_58")),a(!1)):e(!0)})),await(null==(e=c.value)?void 0:e.validate());const{message:a}=await O((()=>{const{version:e}=f;if(null===e)throw p.error(d("Site.PHP.add_site_27")),new Error(d("Site.PHP.add_site_27"));const a=f.webname.domain.trim().split("\n"),t=a[0]+"\r",l=a[0].split(":")[1]||"80",s=a.length>1?a.slice(1):[],i=v.value.map((e=>({domain:e.domain,hash:e.hash,support:[...e.auto?["auto"]:[],...e.ssl_cert?["ssl_cert"]:[],...e.cf_proxy?["cf_proxy"]:[]]})));return{webname:{domain:t,domainlist:s,count:s.length},parse_list:1===f.type&&i.length?JSON.stringify(i):null,port:l,type:"PHP",ps:f.ps,path:f.path,ftp:f.ftp,sql:f.sql,codeing:f.codeing,version:e,type_id:null,set_ssl:f.set_ssl?1:0,force_ssl:f.force_ssl?1:0,deploy_type:f.deploy_type,deploy_script:f.deploy_script,repo:f.ssh_repo,branch:"ssh"===f.deploy_type?f.ssh_branch:f.git_branch}})());o(a)&&(p.success(a.result),u.setRefresh(!0))}}),(e,i)=>{const d=A,r=G,o=n,p=W,u=l,m=t,j=K,E=Q,O=X,B=ee,D=a,T=s,V=J;return b(),g("div",null,[y(D,{ref_key:"formRef",ref:c,model:w(f),rules:P},{default:x((()=>[y(p,{label:e.$t("SSL.index_1")},{default:x((()=>[y(r,{value:w(f).type,"onUpdate:value":[i[0]||(i[0]=e=>w(f).type=e),q]},{default:x((()=>[y(d,{value:0},{default:x((()=>[H($(e.$t("SSL.index_2")),1)])),_:1}),y(d,{value:1},{default:x((()=>[H($(e.$t("SSL.index_3")),1)])),_:1})])),_:1},8,["value"]),y(o,{name:"ssl-stars",size:22})])),_:1},8,["label"]),L(y(p,{label:e.$t("Site.PHP.add_site_4"),path:"domain"},{default:x((()=>[y(ae,{ref_key:"domainInputRef",ref:_,value:w(f).domain,"onUpdate:value":i[1]||(i[1]=e=>w(f).domain=e),"parse-list":w(v),"onUpdate:parseList":i[2]||(i[2]=e=>R(v)?v.value=e:null),"onUpdate:domain":M},null,8,["value","parse-list"])])),_:1},8,["label"]),[[I,1===w(f).type]]),L(y(p,{label:e.$t("Site.PHP.add_site_4"),path:"webname.domain"},{default:x((()=>[S("div",Ae,[y(u,{value:w(f).webname.domain,"onUpdate:value":[i[3]||(i[3]=e=>w(f).webname.domain=e),M],name:"domain"},{default:x((()=>[S("p",null,$(e.$t("Site.PHP.add_site_5")),1),S("p",null,$(e.$t("Site.PHP.add_site_6")),1),S("p",null,$(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[I,0===w(f).type]]),y(p,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:x((()=>[S("div",Ge,[y(m,{value:w(f).path,"onUpdate:value":i[4]||(i[4]=e=>w(f).path=e),"input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"]),y(p,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:x((()=>[y(ue,{class:"w-400px",value:w(f).version,"onUpdate:value":i[5]||(i[5]=e=>w(f).version=e)},null,8,["value"])])),_:1},8,["label"]),y(p,{label:e.$t("Site.PHP.add_site_47"),path:"deploy_type"},{default:x((()=>[y(r,{value:w(f).deploy_type,"onUpdate:value":i[6]||(i[6]=e=>w(f).deploy_type=e)},{default:x((()=>[U("",!0),y(d,{value:"ssh"},{default:x((()=>[y(j,{class:"items-center",size:2},{default:x((()=>[i[14]||(i[14]=S("i",{class:"i-octicon:git-branch-16 text-18px"},null,-1)),S("span",null,$(e.$t("Public.Search.Custom")),1)])),_:1,__:[14]})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),"github"===w(f).deploy_type?(b(),g("div",We,[y(p,{label:" "},{default:x((()=>[S("div",null,[y(p,{label:e.$t("Site.PHP.add_site_48"),path:"git_repo","label-placement":"top"},{default:x((()=>[y(E,{class:"w-400px",value:w(f).git_repo,"onUpdate:value":i[7]||(i[7]=e=>w(f).git_repo=e),name:"git_repo",options:w(h)},null,8,["value","options"])])),_:1},8,["label"]),y(p,{label:e.$t("Site.PHP.add_site_49"),path:"git_branch","label-placement":"top"},{default:x((()=>[y(E,{class:"w-400px",value:w(f).git_branch,"onUpdate:value":i[8]||(i[8]=e=>w(f).git_branch=e),name:"git_branch",options:w(k)},null,8,["value","options"])])),_:1},8,["label"])])])),_:1}),y(p,{label:e.$t("Site.PHP.add_site_50"),path:"deploy_script"},{default:x((()=>[y(O,{autosize:{minRows:4},class:"w-400px!",type:"textarea",value:w(f).deploy_script,"onUpdate:value":i[9]||(i[9]=e=>w(f).deploy_script=e),placeholder:'cd /www/wwwroot/aapanel.com\ngit pull origin master\necho "" | sudo -S service php8.3-fpm reload\necho "ðŸš€ Application deployed!"',name:"deploy_script"},null,8,["value"])])),_:1},8,["label"])])):U("",!0),"ssh"===w(f).deploy_type?(b(),z(p,{key:1,label:" "},{default:x((()=>[S("div",null,[y(p,{label:"SSH key","label-placement":"top"},{default:x((()=>[y(j,null,{default:x((()=>[y(j,{class:"items-center"},{default:x((()=>[y(O,{readonly:"",type:"textarea",class:"w-400px!",value:w(f).ssh_key,"onUpdate:value":i[10]||(i[10]=e=>w(f).ssh_key=e)},null,8,["value"]),y(o,{class:"cursor-pointer",name:"common-copy",size:22,onClick:C})])),_:1}),S("div",null,$(e.$t("Site.PHP.add_site_51")),1)])),_:1})])),_:1}),y(p,{label:e.$t("Site.PHP.add_site_48"),path:"ssh_repo","label-placement":"top"},{default:x((()=>[y(j,null,{default:x((()=>[y(O,{class:"w-400px!",value:w(f).ssh_repo,"onUpdate:value":i[11]||(i[11]=e=>w(f).ssh_repo=e)},null,8,["value"]),i[15]||(i[15]=S("div",null,"(e.g. git@github.com:username/repo.git)",-1)),y(B,{trigger:"hover"},{trigger:x((()=>[S("span",Xe,$(e.$t("Site.PHP.add_site_52")),1)])),default:x((()=>[S("img",{width:"400px",src:w(te),alt:"git desc"},null,8,Ke)])),_:1})])),_:1,__:[15]})])),_:1},8,["label"]),y(p,{label:e.$t("Site.PHP.add_site_49"),path:"ssh_branch","label-placement":"top"},{default:x((()=>[y(j,{class:"flex-col!"},{default:x((()=>[y(O,{class:"w-400px!",value:w(f).ssh_branch,"onUpdate:value":i[12]||(i[12]=e=>w(f).ssh_branch=e)},null,8,["value"]),i[16]||(i[16]=S("div",null,"(e.g. master)",-1))])),_:1,__:[16]})])),_:1},8,["label"])])])),_:1})):U("",!0)])),_:1},8,["model"]),y(V,null,{default:x((()=>[S("li",null,[i[18]||(i[18]=S("span",null,"How to create website using Git?",-1)),y(T,{class:"ml-5px",target:"_blank",href:"https://www.aapanel.com/docs/Function/Tutorial/create_for_git.html"},{default:x((()=>i[17]||(i[17]=[H("View")]))),_:1,__:[17]})])])),_:1})])}}}),Ze={class:"p-20px h-full"},ea=c(v({__name:"index",setup(a,{expose:t}){const{t:l}=m(),s=j("single"),i=j(),n=[{key:"single",label:l("Site.PHP.add_site_1"),isLazy:!0,component:Ve},{key:"git",label:l("Site.PHP.add_site_59"),isLazy:!0,component:Ye},{key:"batch",label:l("Site.PHP.add_site_2"),isLazy:!0,component:Qe}];return t({onConfirm:async()=>{var e;await(null==(e=i.value)?void 0:e.onConfirm())}}),(a,t)=>{const l=e;return b(),g("div",Ze,[y(l,{ref_key:"tabsRef",ref:i,value:w(s),"onUpdate:value":t[0]||(t[0]=e=>R(s)?s.value=e:null),options:n},null,8,["value"])])}}}),[["__scopeId","data-v-828de32f"]]);export{ea as default};
