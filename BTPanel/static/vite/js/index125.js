import{M as t,o as a,p as s,k as e,_ as o,d as n,e as l}from"./page_layout.js?v=1752142539265";import{c as i,d as u}from"./public.js?v=1752142539265";import{g as r,s as c}from"./php.js?v=1752142539265";import{u as m}from"./soft.js?v=1752142539265";import{b$ as p,bX as f,ay as d}from"./naive.js?v=1752142539265";import{k as _,P as v,r as S,c as b,a1 as y,X as g,a2 as k,Q as x,W as P,j as C,a3 as $,V as j,H as h}from"./vue.js?v=1752142539265";const w={class:"m-2px"},N=l(_({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(l){const _=l,{t:N}=v(),R=S({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),z=b((()=>t(R.value.name)+" "+R.value.version)),{loading:L,setLoading:M}=i(),X=async()=>{try{M(!0);const{message:t}=await r({name:_.softName});n(t)&&(R.value=t)}finally{M(!1)}},q=(a,s)=>{const e="".concat(s," ").concat(z.value),o=N("Component.SoftState.index_1",[s.toLowerCase(),t(R.value.name)]);u({title:e,content:o,onConfirm:async()=>{await c({name:R.value.s_version,type:a}),X()}})},D=()=>{m({name:_.openSoft?_.openSoft:_.softName,title:t(R.value.name),admin:!1})};return X(),(t,n)=>{const l=e,i=o,u=d,r=a,c=s,m=f,_=p;return g(),y(_,{trigger:"hover"},{trigger:k((()=>[P(L)?(g(),y(l,{key:0,width:120,height:32,sharp:!1})):(g(),y(u,{key:1,class:"min-w-120px soft-btn",type:P(R).s_status?"default":"error",onClick:D},{default:k((()=>[x(i,{name:"soft-".concat(t.softName),size:"20"},null,8,["name"]),j("span",w,$(P(z)),1),j("span",{class:h(["iconfont","icon-".concat(P(R).s_status?"start":"stop")])},null,2)])),_:1},8,["type"]))])),default:k((()=>[x(m,{class:"items-center",size:8},{default:k((()=>[x(r,{onClick:n[0]||(n[0]=a=>q(P(R).s_status?"stop":"start",P(R).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")))},{default:k((()=>[C($(P(R).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")),1)])),_:1}),x(c,{class:"mx-0!",vertical:""}),x(r,{onClick:n[1]||(n[1]=t=>q("restart",P(N)("Public.Status.Restart")))},{default:k((()=>[C($(t.$t("Public.Status.Restart")),1)])),_:1}),x(c,{class:"mx-0!",vertical:""}),x(r,{onClick:n[2]||(n[2]=t=>q("reload",P(N)("Public.Status.Reload")))},{default:k((()=>[C($(t.$t("Public.Status.Reload")),1)])),_:1}),x(c,{class:"mx-0!",vertical:""}),x(r,{onClick:D},{default:k((()=>[C($(t.$t("Database.Mysql.index_26")),1)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-155ce671"]]);export{N as _};
