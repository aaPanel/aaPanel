import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1762424784323";import{bQ as e,fL as l}from"./page_layout.js?v=1762424784323";import"./public.js?v=1762424784323";import{k as s,P as o,r as t,e as r,R as p,V as u,W as n,a3 as m,S as i,U as c,N as d}from"./vue.js?v=1762424784323";import{dR as _,dV as v,au as f}from"./naive.js?v=1762424784323";import"./common.js?v=1762424784323";import"./__commonjsHelpers__.js?v=1762424784323";const g={class:"px-20px pt-24px pb-8px"},b={class:"w-240px"},x={class:"w-240px"},h=s({__name:"index",props:{row:{},list:{default:()=>[]}},setup(s,{expose:h}){const j=s,{t:k}=o(),w=e(),D=t(null),L=r({name:"",tag:""}),y=t([]),I={tag:{trigger:["blur","input"],validator:()=>""===L.tag.trim()?new Error(k("Docker.LocalImage.push_4")):!!L.tag.includes(":")||new Error(k("Docker.LocalImage.push_5"))}};return(()=>{const a=j.list.filter(a=>"Docker public repository"!==a.name);y.value=a.map(a=>({label:a.name,value:a.name})),L.name=a[0].name})(),h({onConfirm:async()=>{var a;await(null==(a=D.value)?void 0:a.validate()),await l({...d(L),id:j.row.id}),w.setRefresh(!0)}}),(e,l)=>{const s=v,o=_,t=f,r=a;return u(),p("div",g,[n(r,{ref_key:"formRef",ref:D,model:c(L),rules:I},{default:m(()=>[n(o,{label:e.$t("Docker.LocalImage.push_1")},{default:m(()=>[i("div",b,[n(s,{value:c(L).name,"onUpdate:value":l[0]||(l[0]=a=>c(L).name=a),options:c(y)},null,8,["value","options"])])]),_:1},8,["label"]),n(o,{label:e.$t("Docker.LocalImage.push_2"),path:"tag"},{default:m(()=>[i("div",x,[n(t,{value:c(L).tag,"onUpdate:value":l[1]||(l[1]=a=>c(L).tag=a),placeholder:e.$t("Docker.LocalImage.push_3")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"])])}}});export{h as default};
