System.register(["./page_layout-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./soft-legacy2.js?v=1769066082311","./soft-legacy.js?v=1769066082311","./site-legacy.js?v=1769066082311"],function(e,t){"use strict";var l,s,a,n,o,i,c,r,p,u,d,x,g,f,m,v,y,k,h,b,_,j,w,C,T,$,L,P,H,R,S;return{setters:[e=>{l=e.p,s=e.d,a=e.n,n=e.x},e=>{o=e.k,i=e.a},e=>{c=e.a4,r=e.w,p=e.a5},e=>{u=e.k,d=e.av,x=e.w,g=e.R,f=e.V,m=e.n,v=e.P,y=e.r,k=e.c,h=e.S,b=e.a2,_=e.an,j=e.W,w=e.a3,C=e.a4,T=e.U,$=e.j,L=e.F,P=e.O},e=>{H=e.dd,R=e.aC,S=e.bJ},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".task-logs[data-v-6b50825f]{height:180px;line-height:1.4;padding:10px;background-color:#333;border-bottom-left-radius:10px;border-bottom-right-radius:10px;color:#ececec;overflow:auto}.task-logs[data-v-a04e1252]{max-height:180px;padding:10px;background-color:#333;border-bottom-left-radius:10px;border-bottom-right-radius:10px;color:#ececec;overflow:auto}\n/*$vite$:1*/",document.head.appendChild(t);const F=["innerHTML"],I=l(u({__name:"FileTaskLogs",props:{value:{type:String,default:""}},setup(e){const t=e,l=d("logsRef");return x(()=>t.value,()=>{m(()=>{const e=l.value;if(e){const{scrollHeight:t}=e;e.scrollTop=t}})},{immediate:!0}),(t,s)=>(f(),g("div",{ref_key:"logsRef",ref:l,class:"task-logs",innerHTML:e.value||t.$t("file.task.noLogs")},null,8,F))}}),[["__scopeId","data-v-6b50825f"]]),M={class:"p-16px"},O={class:"flex items-center justify-between h-36px px-10px rounded-tl-10px rounded-tr-10px bg-#f5f5f5"},q={class:"max-w-360px"},z={class:"text-desc text-14px"},A={key:0,class:"p-10px"},B={class:"flex items-center justify-between mt-4px"},D={class:"flex"},E={class:"mr-24px"},J={key:2,class:"mt-10px"},U={class:"flex items-center justify-between h-36px px-10px rounded-tl-10px rounded-tr-10px bg-#f5f5f5"},V={class:"text-desc text-14px"},W={class:"flex-1 w-0"},G={class:"min-w-0"},K={class:"text-weak text-14px"},N=["onClick"];e("default",l(u({__name:"FileTask",props:{taskList:{type:Array,default:()=>[]},store:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const l=t,{t:u}=v(),d=y(e.taskList),x=k(()=>d.value[0]||{log:"",name:"",shell:""}),m=async()=>{const{message:t}=await c();n(t)&&t.length>0?d.value=t:(r(e.store),l("close"))},{loop:F,clearTimer:Q}=o(m,2);F();const X=e=>{i({title:u("file.task.deleteTask"),content:u("file.task.confirmDeleteTask",{name:e.name,shell:e.shell}),onConfirm:async()=>{await p(e.id),(async()=>{Q(),await m(),F()})()}})};return(e,t)=>{const l=H,n=R,o=S;return f(),g("div",M,[h("div",O,[h("div",q,[j(l,null,{default:w(()=>[h("span",z,C(T(x).name+e.$t("Public.Punctuation.Colon")+T(x).shell),1)]),_:1})]),j(n,{type:"primary",text:"",onClick:t[0]||(t[0]=e=>X(T(x)))},{default:w(()=>[$(C(e.$t("Public.Btn.Cancel")),1)]),_:1})]),T(s)(T(x).log)?(f(),g("div",A,[j(o,{type:"line",height:3,"show-indicator":!1,percentage:T(x).log.pre||0},null,8,["percentage"]),h("div",B,[h("span",D,[h("span",E,C(T(x).log.used)+" / "+C(T(a)(T(x).log.total)),1),h("span",null,C(e.$t("file.task.estimatedRemaining"))+": "+C(T(x).log.total),1)]),h("span",null,C(T(x).log.speed)+"/s",1)])])):(f(),b(I,{key:1,value:T(x).log},null,8,["value"])),T(d).length>1?(f(),g("div",J,[h("div",U,[h("span",V,C(e.$t("file.task.waitingTasks")),1)]),(f(!0),g(L,null,P(T(d).slice(1),s=>(f(),g("div",{key:s.id,class:"flex items-center h-36px px-10px"},[h("div",W,[h("div",G,[j(l,null,{default:w(()=>[h("span",K,C(s.name+e.$t("Public.Punctuation.Colon")+s.shell),1)]),_:2},1024)])]),h("div",{class:"flex items-center ml-12px cursor-pointer",onClick:e=>X(s)},t[1]||(t[1]=[h("i",{class:"i-streamline:delete-1-solid text-10px text-error"},null,-1)]),8,N)]))),128))])):_("",!0)])}}}),[["__scopeId","data-v-a04e1252"]]))}}});
