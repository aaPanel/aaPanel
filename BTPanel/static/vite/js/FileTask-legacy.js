System.register(["./page_layout-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index-legacy38.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./index-legacy.js?v=1767769852656","./soft-legacy2.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./file-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,t){"use strict";var l,s,a,n,o,i,c,r,u,p,d,x,g,f,m,y,v,k,h,b,_,j,w,C,T,$,L,P,H,R,F;return{setters:[e=>{l=e.p,s=e.d,a=e.n,n=e.x},e=>{o=e.k,i=e.a},e=>{c=e.m,r=e.g,u=e.n},e=>{p=e.k,d=e.av,x=e.w,g=e.R,f=e.V,m=e.n,y=e.P,v=e.r,k=e.c,h=e.S,b=e.a2,_=e.an,j=e.W,w=e.a3,C=e.a4,T=e.U,$=e.j,L=e.F,P=e.O},e=>{H=e.dc,R=e.aC,F=e.bH},null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".task-logs[data-v-6b50825f]{height:180px;line-height:1.4;padding:10px;background-color:#333;border-bottom-left-radius:10px;border-bottom-right-radius:10px;color:#ececec;overflow:auto}.task-logs[data-v-a04e1252]{max-height:180px;padding:10px;background-color:#333;border-bottom-left-radius:10px;border-bottom-right-radius:10px;color:#ececec;overflow:auto}\n/*$vite$:1*/",document.head.appendChild(t);const S=["innerHTML"],I=l(p({__name:"FileTaskLogs",props:{value:{type:String,default:""}},setup(e){const t=e,l=d("logsRef");return x(()=>t.value,()=>{m(()=>{const e=l.value;if(e){const{scrollHeight:t}=e;e.scrollTop=t}})},{immediate:!0}),(t,s)=>(f(),g("div",{ref_key:"logsRef",ref:l,class:"task-logs",innerHTML:e.value||t.$t("file.task.noLogs")},null,8,S))}}),[["__scopeId","data-v-6b50825f"]]),M={class:"p-16px"},O={class:"flex items-center justify-between h-36px px-10px rounded-tl-10px rounded-tr-10px bg-#f5f5f5"},q={class:"max-w-360px"},A={class:"text-desc text-14px"},B={key:0,class:"p-10px"},D={class:"flex items-center justify-between mt-4px"},E={class:"flex"},U={class:"mr-24px"},V={key:2,class:"mt-10px"},W={class:"flex items-center justify-between h-36px px-10px rounded-tl-10px rounded-tr-10px bg-#f5f5f5"},z={class:"text-desc text-14px"},G={class:"flex-1 w-0"},J={class:"min-w-0"},K={class:"text-weak text-14px"},N=["onClick"];e("default",l(p({__name:"FileTask",props:{taskList:{type:Array,default:()=>[]},store:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const l=t,{t:p}=y(),d=v(e.taskList),x=k(()=>d.value[0]||{log:"",name:"",shell:""}),m=async()=>{const{message:t}=await c();n(t)&&t.length>0?d.value=t:(r(e.store),l("close"))},{loop:S,clearTimer:Q}=o(m,2);S();const X=e=>{i({title:p("file.task.deleteTask"),content:p("file.task.confirmDeleteTask",{name:e.name,shell:e.shell}),onConfirm:async()=>{await u(e.id),(async()=>{Q(),await m(),S()})()}})};return(e,t)=>{const l=H,n=R,o=F;return f(),g("div",M,[h("div",O,[h("div",q,[j(l,null,{default:w(()=>[h("span",A,C(T(x).name+e.$t("Public.Punctuation.Colon")+T(x).shell),1)]),_:1})]),j(n,{type:"primary",text:"",onClick:t[0]||(t[0]=e=>X(T(x)))},{default:w(()=>[$(C(e.$t("Public.Btn.Cancel")),1)]),_:1})]),T(s)(T(x).log)?(f(),g("div",B,[j(o,{type:"line",height:3,"show-indicator":!1,percentage:T(x).log.pre||0},null,8,["percentage"]),h("div",D,[h("span",E,[h("span",U,C(T(x).log.used)+" / "+C(T(a)(T(x).log.total)),1),h("span",null,C(e.$t("file.task.estimatedRemaining"))+": "+C(T(x).log.total),1)]),h("span",null,C(T(x).log.speed)+"/s",1)])])):(f(),b(I,{key:1,value:T(x).log},null,8,["value"])),T(d).length>1?(f(),g("div",V,[h("div",W,[h("span",z,C(e.$t("file.task.waitingTasks")),1)]),(f(!0),g(L,null,P(T(d).slice(1),s=>(f(),g("div",{key:s.id,class:"flex items-center h-36px px-10px"},[h("div",G,[h("div",J,[j(l,null,{default:w(()=>[h("span",K,C(s.name+e.$t("Public.Punctuation.Colon")+s.shell),1)]),_:2},1024)])]),h("div",{class:"flex items-center ml-12px cursor-pointer",onClick:e=>X(s)},t[1]||(t[1]=[h("i",{class:"i-streamline:delete-1-solid text-10px text-error"},null,-1)]),8,N)]))),128))])):_("",!0)])}}}),[["__scopeId","data-v-a04e1252"]]))}}});
