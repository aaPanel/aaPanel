System.register(["./echartsGl-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./interface-legacy.js?v=1769066082311","./index-legacy77.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./echarts-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./setting-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1769066082311","./index-legacy208.js?v=1769066082311","./tools-legacy2.js?v=1769066082311","./rules-legacy.js?v=1769066082311"],function(e,t){"use strict";var a,l,o,i,r,n,s,d,c,u,p;return{setters:[null,e=>{a=e._},null,e=>{l=e.g},e=>{o=e.d},e=>{i=e.k,r=e.av,n=e.r,s=e.o,d=e.b,c=e.R,u=e.V},e=>{p=e.ac},null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.attack-map{width:100%;height:100%}.attack-map>div:first-child:before{content:"";background:radial-gradient(closest-side,#fff,var(--color-bg-1));border-radius:100%;width:336px;height:336px;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;border:26px solid var(--color-bg-2)}.attack-map>div:first-child:after{content:"";background:var(--color-bg-2);border-radius:100%;display:inline-block;width:366px;height:366px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1;border:10px solid var(--color-bg-1)}.attack-map canvas{z-index:4}\n/*$vite$:1*/',document.head.appendChild(t),e("default",i({__name:"map3d",setup(e){const t=r("mapRef");let i=null;const g=n(0),f=n(0),y=n([]),b=()=>{const e=document.createElement("canvas"),t=p.init(e,null,{width:4096,height:2048});return t.setOption({backgroundColor:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"#9ed6ff"},{offset:.7,color:"#fafcfa"},{offset:1,color:"#9ed6ff"}]},series:[{type:"map",map:"world",left:0,top:0,right:0,bottom:0,boundingCoords:[[-180,90],[180,-90]],label:{show:!1,color:"#fff",fontSize:20},itemStyle:{areaColor:"#44b359",borderColor:"#fff",borderWidth:1}}]}),t},m=async()=>{if(!t.value)return;const{message:e}=await l();o(e)&&(g.value=e.load_ip.latitude,f.value=e.load_ip.longitude,y.value=e.attack_ip.map(t=>({coords:[[t.ip_longitude,t.ip_latitude],[e.load_ip.longitude,e.load_ip.latitude]],value:1}))),i=p.init(t.value);const a={tooltip:{show:!0},globe:{silent:!0,shading:"color",baseTexture:b(),viewControl:{distance:240,targetCoord:[f.value,g.value],maxDistance:240,minDistance:240,rotateSensitivity:2,autoRotateSpeed:10}},series:[{type:"bar3D",coordinateSystem:"globe",shading:"lambert",opacity:1,bevelSize:.2,itemStyle:{color:"#EBE806"},label:{show:!1,formatter:"{b}"},data:[]},{name:"lines3D",type:"lines3D",coordinateSystem:"globe",effect:{show:!0,period:2,trailWidth:4,trailLength:.5,trailOpacity:1,trailColor:"red"},blendMode:"lighter",lineStyle:{width:1,color:"red",opacity:0},data:y.value,silent:!1},{type:"lines3D",coordinateSystem:"globe",effect:{show:!0,trailWidth:5,trailOpacity:1,trailLength:.2,constantSpeed:5},blendMode:"lighter",lineStyle:{color:"#EBE806",width:1,opacity:1},data:[]}]};i.setOption(a)},h=()=>{i?.resize()};return s(async()=>{await(async()=>{const{data:e}=await a.get("/static/vite/data/world.json");p.registerMap("world",e)})(),m(),window.addEventListener("resize",h)}),d(()=>{i?.dispose(),i=null,window.removeEventListener("resize",h)}),(e,a)=>(u(),c("div",{ref_key:"mapRef",ref:t,class:"attack-map"},null,512))}}))}}});
