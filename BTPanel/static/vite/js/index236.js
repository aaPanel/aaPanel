import{_ as e}from"./index243.js?v=1762424784323";import{_ as t}from"./index107.js?v=1762424784323";import{u as a}from"./index84.js?v=1762424784323";import l from"./index100.js?v=1762424784323";import{aC as n,dR as i,dV as s,dj as o}from"./naive.js?v=1762424784323";import{k as u,P as r,r as p,o as d,R as _,V as v,W as m,S as c,U as f,ak as x,a3 as P,j as h,a4 as g,n as y,e as w,N as j}from"./vue.js?v=1762424784323";import{d as S,_ as b}from"./public.js?v=1762424784323";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang.js?v=1762424784323";import{d as k,w as $,h as C,m as U}from"./page_layout.js?v=1762424784323";import{b8 as R,b9 as D,c as L,ba as V}from"./site.js?v=1762424784323";import{C as B,D as E}from"./php.js?v=1762424784323";import"./index132.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1762424784323";import"./index130.js?v=1762424784323";import"./soft.js?v=1762424784323";import"./soft2.js?v=1762424784323";import"./useOperate.js?v=1762424784323";import"./useModal2.js?v=1762424784323";import"./common.js?v=1762424784323";import"./__commonjsHelpers__.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1762424784323";import"./index.js?v=1762424784323";import"./theme-monokai.js?v=1762424784323";import"./file.js?v=1762424784323";const M={class:"mt-12px"},q=u({__name:"DefaultPage",setup(e){const{t:i}=r(),s=a(),o=p(null),u=p("index"),w=new Map([["index",{label:i("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:i("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:i("Site.PHP.index_53"),path:"nginx"===s.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:i("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),j=(()=>{const e=[];return w.forEach((t,a)=>{e.push({key:a,label:t.label})}),e})(),S=()=>{var e;return(null==(e=w.get(u.value))?void 0:e.path)||""},b=p(S()),H=()=>{b.value=S()},k=()=>{y(()=>{var e;null==(e=o.value)||e.getContent()})},$=async()=>{var e;null==(e=o.value)||e.saveFile()};return d(()=>{var e;null==(e=o.value)||e.getContent()}),(e,a)=>{const i=t,s=n;return v(),_("div",null,[m(i,{value:f(u),"onUpdate:value":[a[0]||(a[0]=e=>x(u)?u.value=e:null),H],options:f(j),onClick:k},null,8,["value","options"]),m(l,{ref_key:"configRef",ref:o,path:f(b),"onUpdate:path":a[1]||(a[1]=e=>x(b)?b.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),c("div",M,[m(s,{type:"primary",onClick:$},{default:P(()=>[h(g(e.$t("Site.Cert.index_60")),1)]),_:1})])])}}}),F={class:"w-300px"},N=u({__name:"DefaultSite",setup(e,{expose:t}){const{t:a}=r(),l=p(null),{loading:o,setLoading:u}=S(),d=w({name:"0"}),x=p([]),y=async()=>{try{u(!0);const{message:e}=await R();if(k(e)){const{sites:t,defaultSite:a}=e;x.value=$(t)?t.map(e=>({label:e.name,value:e.name})):[],U(),d.name=C(a)?a:"0"}}finally{u(!1)}},U=()=>{x.value.unshift({label:a("Site.PHP.index_58"),value:"0"})},L=async()=>{var e;await(null==(e=l.value)?void 0:e.validate()),await D(j(d))};return U(),y(),t({init:y}),(e,t)=>{const a=s,u=i,r=H,p=n,y=b;return v(),_("div",null,[m(r,{ref_key:"formRef",ref:l,model:f(d)},{default:P(()=>[m(u,{label:e.$t("Site.PHP.index_11")},{default:P(()=>[c("div",F,[m(a,{value:f(d).name,"onUpdate:value":t[0]||(t[0]=e=>f(d).name=e),class:"name-select",loading:f(o),options:f(x)},null,8,["value","loading","options"])])]),_:1},8,["label"])]),_:1},8,["model"]),m(p,{type:"primary",onClick:L},{default:P(()=>[h(g(e.$t("Public.Btn.Save")),1)]),_:1}),m(y,{class:"mt-20px"},{default:P(()=>[c("li",null,g(e.$t("Site.PHP.index_56")),1),c("li",null,g(e.$t("Site.PHP.index_57")),1)]),_:1})])}}}),O={class:"w-300px"},W=u({__name:"PhpVersion",setup(e,{expose:t}){const{t:a}=r(),l=p(null),{loading:o,setLoading:u}=S(),d=w({php_version:null}),x={php_version:{required:!0,message:a("Site.PHP.index_67"),trigger:"change"}},y=p([]),j=async()=>{try{u(!0);const{message:e}=await L();if(k(e)){const t=$(e.versions)?e.versions:[];y.value=t.map(e=>({label:e.name,value:e.version})),k(e.select)&&(d.php_version="".concat(e.select.version))}}finally{u(!1)}},C=async()=>{var e;await(null==(e=l.value)?void 0:e.validate());const t=(()=>{const e=d.php_version;if(null===e)throw U.error(a("Site.PHP.index_67")),new Error(a("Site.PHP.index_67"));return{php_version:e}})();await V(t)};return j(),t({init:j}),(e,t)=>{const a=s,u=i,r=H,p=n,w=b;return v(),_("div",null,[m(r,{ref_key:"formRef",ref:l,model:f(d),rules:x},{default:P(()=>[m(u,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:P(()=>[c("div",O,[m(a,{value:f(d).php_version,"onUpdate:value":t[0]||(t[0]=e=>f(d).php_version=e),class:"php-version-select",loading:f(o),options:f(y)},null,8,["value","loading","options"])])]),_:1},8,["label"])]),_:1},8,["model"]),m(p,{type:"primary",onClick:C},{default:P(()=>[h(g(e.$t("Public.Btn.Save")),1)]),_:1}),m(w,{class:"mt-20px"},{default:P(()=>[c("li",null,g(e.$t("Site.PHP.index_68")),1),c("li",null,g(e.$t("Site.PHP.index_69")),1)]),_:1})])}}}),z={class:"w-300px"},A=u({__name:"Https",setup(e,{expose:t}){const{loading:a,setLoading:l}=S(),n=w({value:!1}),s=async()=>{try{l(!0),await B()}catch(e){n.value=!n.value}finally{l(!1)}},u=async()=>{try{l(!0);const{message:e}=await E();k(e)&&(n.value=e.result)}finally{l(!1)}};return u(),t({init:u}),(e,t)=>{const l=o,u=i,r=H,p=b;return v(),_("div",null,[m(r,{model:f(n)},{default:P(()=>[m(u,{label:e.$t("Site.PHP.index_86")},{default:P(()=>[c("div",z,[m(l,{value:f(n).value,"onUpdate:value":[t[0]||(t[0]=e=>f(n).value=e),s],loading:f(a)},null,8,["value","loading"])])]),_:1},8,["label"])]),_:1},8,["model"]),m(p,{class:"mt-8px"},{default:P(()=>[c("li",null,g(e.$t("Site.PHP.index_87")),1),c("li",null,g(e.$t("Site.PHP.index_88")),1)]),_:1})])}}}),G={class:"h-full"},I=u({__name:"index",props:{menu:{type:String,default:"default-page"}},setup(t){const{t:a}=r(),l=p(t.menu),n=[{key:"default-page",label:a("Site.PHP.index_5"),component:q},{key:"default-site",label:a("Site.PHP.index_6"),component:N},{key:"php-version",label:a("Site.PHP.index_7"),component:W},{key:"https",label:a("Site.PHP.index_86"),component:A}];return(t,a)=>{const i=e;return v(),_("div",G,[m(i,{value:f(l),"onUpdate:value":a[0]||(a[0]=e=>x(l)?l.value=e:null),data:n},null,8,["value"])])}}});export{I as default};
