System.register(["./index-legacy135.js?v=1767769852656","./public-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./logo-legacy.js?v=1767769852656","./useOperate-legacy.js?v=1767769852656","./php-legacy.js?v=1767769852656","./index-legacy244.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./useModal-legacy2.js?v=1767769852656"],function(e,t){"use strict";var a,s,l,o,r,i,n,p,u,c,y,d,f,_,v,x,m,b,g,h,T,k,j,w,S,$,A,C,q,L,P,U,V,M,R,W,I,z,O,B,D,G,F,H,E;return{setters:[e=>{a=e._},e=>{s=e.d,l=e._},e=>{o=e.u,r=e.T,i=e._,n=e.q,p=e.o,u=e.n,c=e.d,y=e.p},e=>{d=e._},e=>{f=e.u},e=>{_=e.J,v=e.K},e=>{x=e.u},e=>{m=e.k,b=e.ad,g=e.ae,h=e.R,T=e.V,k=e.a2,j=e.an,w=e.W,S=e.a3,$=e.j,A=e.a4,C=e.P,q=e.a0,L=e.c,P=e.r,U=e.e,V=e.aG,M=e.o,R=e.a5,W=e.U,I=e.F,z=e.O,O=e.S},e=>{B=e._},e=>{D=e.dT,G=e.e1,F=e.da,H=e.aC,E=e.G},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".circle[data-v-dba23c8a]{margin-right:5px;display:inline-block;width:10px;height:10px;border-radius:9999px;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity))}\n/*$vite$:1*/",document.head.appendChild(t);const J={class:"flex gap-4"},K=m({__name:"tren-type",props:b({showSort:{type:Boolean,default:!0}},{sort:{default:"desc"},sortModifiers:{},type:{default:"traffic"},typeModifiers:{}}),emits:["update:sort","update:type"],setup(e){const t=g(e,"sort"),a=g(e,"type");return(s,l)=>{const o=G,r=D;return T(),h("div",J,[e.showSort?(T(),k(r,{key:0,value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),size:"small"},{default:S(()=>[w(o,{value:"desc"},{default:S(()=>[$(A(s.$t("Desc")),1)]),_:1}),w(o,{value:"asc"},{default:S(()=>[$(A(s.$t("Asc")),1)]),_:1})]),_:1},8,["value"])):j("",!0),w(r,{value:a.value,"onUpdate:value":l[1]||(l[1]=e=>a.value=e),size:"small"},{default:S(()=>[w(o,{value:"traffic"},{default:S(()=>[$(A(s.$t("Traffic")),1)]),_:1}),w(o,{value:"req_count"},{default:S(()=>[$(A(s.$t("Requests")),1)]),_:1}),w(o,{value:"ip_count"},{default:S(()=>l[2]||(l[2]=[$("IP",-1)])),_:1,__:[2]}),w(o,{value:"uv"},{default:S(()=>l[3]||(l[3]=[$("UV",-1)])),_:1,__:[3]}),w(o,{value:"pv"},{default:S(()=>l[4]||(l[4]=[$("PV",-1)])),_:1,__:[4]})]),_:1},8,["value"])])}}}),Y=["textContent"],N={key:1},Q={class:"font-bold text-16px text-font2"},X={class:"text-font2"},Z={class:"text-font2"},ee={class:"font-bold text-16px text-font2"},te={class:"font-bold text-16px text-font2"},ae=m({__name:"index",props:{name:{type:String,default:""},showTops5:{type:Boolean,default:!0}},setup(e){const{t:t}=C(),{openMonitor:y}=f(),m=x(),b=o(),{siteMonitorStatus:g}=q(b),{webserver:D,isMonitorInstall:G}=q(m),J=L(()=>"openlitespeed"!==D.value&&(G.value||g.value)),ae=P(!1),se=e,le=U({sort:"desc",top5Type:"traffic",trenType:"traffic"}),oe={traffic:t("Traffic"),req_count:t("Requests"),ip_count:"IP",uv:"UV",pv:"PV"},re=P([]),ie=L(()=>oe[le.trenType]),ne=e=>"traffic"===e?"traffic_bytes":e,pe=(e,t)=>"traffic"===t?u(e):e,ue=U({today:{traffic_human:"-",req_count:"-",ip_count:"-",uv:"-",pv:"-"},yesterday:{traffic_human:"-",req_count:"-",ip_count:"-",uv:"-",pv:"-"},day_before:{traffic_human:"-",req_count:"-",ip_count:"-",uv:"-",pv:"-"}}),ce=[{key:"traffic_human",label:t("Traffic")},{key:"req_count",label:t("Requests")},{key:"ip_count",label:"IP"},{key:"uv",label:"UV"},{key:"pv",label:"PV"}],ye=V({grid:{left:150,right:50,top:20,bottom:20},tooltip:{trigger:"axis",backgroundColor:"var(--chart-tooltip-bg-color)",textStyle:{color:"var(--chart-tooltip-text-color)"},formatter:e=>{const t=Array.isArray(e)?e[0]:e,a=t.name||t.axisValueLabel||"",s=Array.isArray(t.value)?t.value[0]:t.value;return`${a}<br/>${oe[le.top5Type]}: ${pe(s,le.top5Type)}`}},xAxis:{type:"value",axisLabel:{formatter:e=>pe(e,le.top5Type)}},yAxis:{type:"category",data:[],axisTick:{show:!1},axisLine:{show:!1},axisLabel:{width:130,overflow:"truncate",ellipsis:"...",lineHeight:18,margin:4,align:"right"}},series:[{type:"bar",data:[],barWidth:14,label:{show:!0,position:"right",color:"#666",formatter:e=>pe(e.value,le.top5Type)},itemStyle:{color:"#20a53a",borderRadius:[0,6,6,0]}}]}),de=V({grid:{left:80,right:30,top:20,bottom:20},tooltip:{trigger:"axis",backgroundColor:"var(--chart-tooltip-bg-color)",textStyle:{color:"var(--chart-tooltip-text-color)"},formatter:e=>{const t=Array.isArray(e)?e[0]:e,a=t.name||t.axisValueLabel||"",s=Array.isArray(t.value)?t.value[1]??t.value[0]:t.value;return`${a}<br/>${ie.value}: ${pe(s,le.trenType)}`}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",axisLabel:{formatter:e=>pe(e,le.trenType)}},series:[{type:"line",data:[],smooth:!0,symbol:"circle",symbolSize:6,itemStyle:{color:"#fff",borderColor:"#20a53a",borderWidth:2},lineStyle:{color:"#20a53a",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32,165,58,0.35)"},{offset:1,color:"rgba(32,165,58,0.05)"}]}}}]}),fe=()=>{const e=ne(le.trenType);de.xAxis={...de.xAxis,data:re.value.map(e=>e.date.substring(5))},de.series=[{...de.series?.[0],data:re.value.map(t=>t[e]||0)}]},{loading:_e,setLoading:ve}=s(),xe=async()=>{try{let e;ve(!0),e=se.name?(await _({site_name:se.name})).message:(await v({metric:le.top5Type,order:le.sort})).message,c(e)&&(re.value=e.trend_7days.points,Object.assign(ue,e.overview_three_days),fe(),se.name||(e=>{ae.value=0===e.top5_sites.items.length;const t=ne(le.top5Type);ye.yAxis={...ye.yAxis,data:e.top5_sites.items.map(e=>e.site).reverse()},ye.series=[{...ye.series?.[0],data:e.top5_sites.items.map(e=>e[t]||0).reverse()}]})(e))}finally{ve(!1)}};return M(()=>{"openlitespeed"!==D.value&&(G.value||g.value)&&xe()}),(e,t)=>{const s=p,o=R("i18n-t"),u=F,c=i,f=H,_=E,v=n,x=l,m=r,b=a;return T(),k(b,{install:W(J)},{desc:S(()=>["openlitespeed"==W(D)?(T(),h("span",{key:0,textContent:A(e.$t("This feature is not currently supported by the OpenLiteSpeed service"))},null,8,Y)):(T(),h("span",N,[w(o,{keypath:"Please use {a} or enable Site Monitor in the Settings"},{a:S(()=>[w(s,{class:"font-bold",onClick:t[0]||(t[0]=e=>W(y)(se.name))},{default:S(()=>t[5]||(t[5]=[$("Website statistics-v2",-1)])),_:1,__:[5]})]),_:1})]))]),default:S(()=>[w(m,{class:"py-16px px-30px",show:W(_e)},{default:S(()=>[w(u,{class:"justify-between!"},{default:S(()=>[(T(),h(I,null,z(ce,a=>w(u,{class:"flex-col! items-center",key:a.key},{default:S(()=>[O("span",null,[t[6]||(t[6]=O("span",{class:"circle"},null,-1)),O("span",null,A(a.label),1)]),O("span",Q,A(W(ue).today[a.key]),1),O("span",X,A(e.$t("Public.Search.Yesterday"))+" "+A(W(ue).yesterday[a.key]),1),O("span",Z,A(e.$t("Day Before"))+" "+A(W(ue).day_before[a.key]),1)]),_:2},1024)),64)),w(u,{class:"flex-col! items-center justify-center! cursor-pointer",onClick:xe},{default:S(()=>[w(u,{class:"items-center",size:5},{default:S(()=>[w(c,{name:"base-refresh",color:"#20a53a"}),w(f,{type:"primary",text:""},{default:S(()=>[$(A(e.$t("Refresh")),1)]),_:1})]),_:1}),t[7]||(t[7]=O("img",{src:d,class:"w-40px h-40px"},null,-1))]),_:1,__:[7]})]),_:1}),se.showTops5?(T(),h(I,{key:0},[w(u,{class:"my-25px justify-between! items-center"},{default:S(()=>[O("div",ee,A(e.$t("Today Top 5 Websites")),1),w(K,{sort:W(le).sort,"onUpdate:sort":[t[1]||(t[1]=e=>W(le).sort=e),xe],type:W(le).top5Type,"onUpdate:type":[t[2]||(t[2]=e=>W(le).top5Type=e),xe]},null,8,["sort","type"])]),_:1}),W(ae)?(T(),k(_,{key:0,class:"h-200px justify-center"})):(T(),k(B,{key:1,type:"bar",height:"200px",option:W(ye)},null,8,["option"]))],64)):j("",!0),w(u,{class:"my-25px justify-between! items-center"},{default:S(()=>[O("div",te,A(e.$t("Last 7 Days Statistics")),1),w(K,{showSort:!1,type:W(le).trenType,"onUpdate:type":[t[3]||(t[3]=e=>W(le).trenType=e),fe]},null,8,["type"])]),_:1}),w(B,{type:"line",height:"260px",option:W(de)},null,8,["option"]),w(v),w(x,{class:"mt-10px"},{default:S(()=>[O("li",null,[$(A(e.$t("This is a simplified website statistics report. For more detailed data, please use"))+" ",1),w(f,{type:"primary",text:"",onClick:t[4]||(t[4]=e=>W(y)(se.name))},{default:S(()=>t[8]||(t[8]=[$("Website statistics-v2",-1)])),_:1,__:[8]})])]),_:1})]),_:1},8,["show"])]),_:1},8,["install"])}}});e("default",y(ae,[["__scopeId","data-v-dba23c8a"]]))}}});
