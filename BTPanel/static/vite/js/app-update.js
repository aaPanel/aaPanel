import{_ as e}from"./index.js?v=1763625242172";import{e as t,_ as a}from"./public.js?v=1763625242172";import{u as s,b as i,c as n,q as l,W as o,m as p,X as r,p as m}from"./page_layout.js?v=1763625242172";import{u}from"./soft.js?v=1763625242172";import{g as _}from"./soft2.js?v=1763625242172";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1763625242172";import{dX as d,d9 as f,aC as v}from"./naive.js?v=1763625242172";import{k as x,P as j,r as h,V as w,R as y,S as g,X as k,a3 as b,U as S,a4 as H,j as P,an as $}from"./vue.js?v=1763625242172";import"./common.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";import"./site.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import"./index100.js?v=1763625242172";import"./theme-monokai.js?v=1763625242172";import"./file.js?v=1763625242172";const C={key:0,class:"p-30px"},T=["src"],U=["title"],W={class:"color-#888888"},X={class:"font-600 mt-30px"},q=["innerHTML"],I=m(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(m){const{t:x}=j(),I=s(),L=m,{row:M}=L,N=["nginx","apache","mysql","php"],R=h(),O=h(),V=h(),z=async(e=1)=>{var t;const{message:a}=await o({sName:M.name,version:5===V.value?M.m_version:O.value,upgrade:5===V.value?M.m_version:O.value,type:e});if(n(a)){if(a.result)return p.success(a.result),I.taskCount+=1,null==(t=L.callback)||t.call(L),L.hide(),void r();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=L.callback)||e.call(L)}))}L.hide()},A=()=>{var e;(e=M.name,N.includes(e)||e.startsWith("php-"))?B.show=!0:z(1)},B=t(x("Home.Install.index_7"),{name:M.name,callback:()=>{z(0)}});return(async()=>{const{message:e}=await i({sName:M.name},!0);n(e)&&(V.value=e.type,O.value=M.m_version+"."+M.version,R.value=e.version)})(),(t,s)=>{const i=d,n=f,o=v,p=l,r=a,m=e;return w(M)?(y(),g("div",C,[k(n,{class:"justify-between! items-center"},{default:b((()=>[k(n,{class:"items-center"},{default:b((()=>[S("img",{class:"w-40px",src:w(_)(w(M).name)},null,8,T),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(w(M).title," ").concat(w(R))},H(w(M).title)+" "+H(w(M).title.indexOf("PHP-")>-1?"":w(R)),9,U),k(i,{dot:""},{default:b((()=>[S("p",W,H(t.$t("Soft.index_51"))+"："+H(w(O)),1)])),_:1})])])),_:1}),k(n,null,{default:b((()=>[k(o,{type:"primary",onClick:A},{default:b((()=>[P(H(t.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),k(p)])),_:1}),S("div",X,H(w(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px text-font2",innerHTML:w(M).update_msg},null,8,q),k(r,null,{default:b((()=>[S("li",null,H(t.$t("Soft.index_35")),1),S("li",null,H(w(x)("Soft.index_53")),1),S("li",null,H(w(x)("Soft.index_54")),1)])),_:1}),k(m,{show:w(B).show,"onUpdate:show":s[0]||(s[0]=e=>w(B).show=e),title:w(B).title,data:w(B).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):$("",!0)}}}),[["__scopeId","data-v-3023c531"]]);export{I as default};
