import{_ as e}from"./index.js?v=1764830988434";import{e as t,_ as a}from"./public.js?v=1764830988434";import{u as s,q as i,c as n,d as l,W as o,m as p,X as r,p as m}from"./page_layout.js?v=1764830988434";import{u}from"./soft.js?v=1764830988434";import{g as _}from"./soft2.js?v=1764830988434";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1764830988434";import{da as d,dX as f,aC as v}from"./naive.js?v=1764830988434";import{k as x,P as j,r as h,R as w,an as y,U as g,V as k,W as b,S,a3 as H,a4 as P,j as W}from"./vue.js?v=1764830988434";import"./common.js?v=1764830988434";import"./__commonjsHelpers__.js?v=1764830988434";import"./site.js?v=1764830988434";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1764830988434";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1764830988434";import"./index.vue_vue_type_script_setup_true_lang.js?v=1764830988434";import"./index98.js?v=1764830988434";import"./theme-monokai.js?v=1764830988434";import"./file.js?v=1764830988434";const $={key:0,class:"p-30px"},C=["src"],T=["title"],U={class:"color-#888888"},q={class:"font-600 mt-30px"},I=["innerHTML"],L=m(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(m){const{t:x}=j(),L=s(),M=m,{row:N}=M,R=["nginx","apache","mysql","php"],X=h(),O=h(),V=h(),z=async(e=1)=>{var t;const{message:a}=await o({sName:N.name,version:5===V.value?N.m_version:O.value,upgrade:5===V.value?N.m_version:O.value,type:e});if(l(a)){if(a.result)return p.success(a.result),L.taskCount+=1,null==(t=M.callback)||t.call(M),M.hide(),void r();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},()=>{var e;null==(e=M.callback)||e.call(M)})}M.hide()},A=()=>{var e;(e=N.name,R.includes(e)||e.startsWith("php-"))?B.show=!0:z(1)},B=t(x("Home.Install.index_7"),{name:N.name,callback:()=>{z(0)}});return(async()=>{const{message:e}=await n({sName:N.name},!0);l(e)&&(V.value=e.type,O.value=N.m_version+"."+N.version,X.value=e.version)})(),(t,s)=>{const n=f,l=d,o=v,p=i,r=a,m=e;return g(N)?(k(),w("div",$,[b(l,{class:"justify-between! items-center"},{default:H(()=>[b(l,{class:"items-center"},{default:H(()=>[S("img",{class:"w-40px",src:g(_)(g(N).name)},null,8,C),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(g(N).title," ").concat(g(X))},P(g(N).title)+" "+P(g(N).title.indexOf("PHP-")>-1?"":g(X)),9,T),b(n,{dot:""},{default:H(()=>[S("p",U,P(t.$t("Soft.index_51"))+"："+P(g(O)),1)]),_:1})])]),_:1}),b(l,null,{default:H(()=>[b(o,{type:"primary",onClick:A},{default:H(()=>[W(P(t.$t("Home.Update.index_19")),1)]),_:1})]),_:1}),b(p)]),_:1}),S("div",q,P(g(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px text-font2",innerHTML:g(N).update_msg},null,8,I),b(r,null,{default:H(()=>[S("li",null,P(t.$t("Soft.index_35")),1),S("li",null,P(g(x)("Soft.index_53")),1),S("li",null,P(g(x)("Soft.index_54")),1)]),_:1}),b(m,{show:g(B).show,"onUpdate:show":s[0]||(s[0]=e=>g(B).show=e),title:g(B).title,data:g(B).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):y("",!0)}}}),[["__scopeId","data-v-3023c531"]]);export{L as default};
