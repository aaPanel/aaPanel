const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index144.js?v=1756367574781","js/page_layout.js?v=1756367574781","js/vue.js?v=1756367574781","js/__commonjsHelpers__.js?v=1756367574781","js/naive.js?v=1756367574781","js/common.js?v=1756367574781","js/public.js?v=1756367574781","css/public.css?v=1756367574781","css/page_layout.css?v=1756367574781","css/index68.css?v=1756367574781"])))=>i.map(i=>d[i]);
import{k as e,a0 as a,R as t,V as o,H as s,U as n,S as r,c as u,a2 as p,W as l,j as c,u as i,ar as d,r as m,e as x,an as _,a4 as v,_ as f}from"./vue.js?v=1756367574781";import{u as b,p as h,bA as g,bB as y,a as C,d as k}from"./page_layout.js?v=1756367574781";import{b as j,u as q}from"./public.js?v=1756367574781";import{dd as w,d_ as R}from"./naive.js?v=1756367574781";const z=h(e({__name:"index",props:{source:{type:Number,default:27}},setup(e){const{isPro:u}=a(b()),p=()=>{j({source:e.source})};return(e,a)=>(o(),t("div",{class:s(["pro-badge",{pro:n(u)}]),onClick:p},a[0]||(a[0]=[r("i",{class:"i-common:pro text-14px color-white"},null,-1),r("span",{class:"text"},"PRO",-1)]),2))}}),[["__scopeId","data-v-2e4cedc1"]]);function I(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i(e)}const O=e({__name:"time",props:{endtime:{default:0}},emits:["finish"],setup(e,{emit:a}){const t=e,s=a,r=u(()=>{const e=Date.now(),a=1e3*t.endtime;return Math.max(0,a-e)}),i=e=>e.toString().padStart(2,"0"),d=({hours:e,minutes:a,seconds:t})=>{let o,s,n,r;const u=Math.floor(e/24);return e%=24,l("div",{class:"inline-flex items-center"},[u>0?l(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(o=i(u))?o:{default:()=>[o]}):"",u>0?l("span",{class:"mx-4px"},[c(":")]):"",l(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(s=i(e))?s:{default:()=>[s]}),l("span",{class:"mx-4px"},[c(":")]),l(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(n=i(a))?n:{default:()=>[n]}),l("span",{class:"mx-4px"},[c(":")]),l(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(r=i(t))?r:{default:()=>[r]})])},m=()=>{t.endtime>0&&s("finish")};return(e,a)=>{const t=g;return o(),p(t,{duration:n(r),render:d,"on-finish":m},null,8,["duration"])}}}),P={class:"text-pro"},S={key:0,class:"font-bold"},$={key:1,class:"flex items-center"},A={class:"mr-6px"},D=h(e({__name:"index",setup(e){const s=y(),{showCoupon:p,receiveCoupon:c}=a(s),{width:i}=d(),b=m([]),h=u(()=>b.value.length),g=u(()=>0===h.value?0:b.value[h.value-1].deduct_amount),w=x({quota:0,total:0,received:0}),z=()=>{1!==c.value.status?c.value.total>0&&j({source:176}):q({width:400,bgColor:"transparent",data:{obtainId:c.value.obtain_id,endTime:c.value.end_time,couponQuota:w,couponList:b.value,onReceive:()=>{j({source:176})}},component:f(()=>C(()=>import("./index144.js?v=1756367574781"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))})};return(async()=>{const e=await s.getReceiveCoupon();k(e)&&(R(e.coupons,"deduct_amount"),b.value=e.coupons,e.package_quota&&(w.quota=e.package_quota.quota,w.total=e.package_quota.total,w.received=e.package_quota.total-e.package_quota.quota))})(),(e,a)=>n(p)?(o(),t("div",{key:0,class:"coupon-box",onClick:z},[a[0]||(a[0]=r("div",{class:"coupon-logo"},null,-1)),r("div",P,[1===n(c).status?(o(),t("div",S,v(n(i)>1500?e.$t("Component.Coupon.index_11",[n(g)]):e.$t("Component.Coupon.index_12",[n(h)])),1)):n(c).total>0?(o(),t("div",$,[r("span",A,v(e.$t("Component.Coupon.index_4")),1),l(O,{endtime:n(c).end_time},null,8,["endtime"])])):_("",!0)])])):_("",!0)}}),[["__scopeId","data-v-2376ded0"]]);export{D as H,z as P};
