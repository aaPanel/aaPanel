System.register(["./index-legacy223.js?v=1769066082311","./public-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./ssh-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1769066082311"],function(e,a){"use strict";var t,l,i,n,s,u,c,o,p,r,m,g,d,_,y,v,S,x,h,f,w,j,b,k,B,L,z,A,H,U,N,C,P,R,$,q,O;return{setters:[e=>{t=e._},e=>{l=e.c,i=e.h,n=e._,s=e.f},e=>{u=e._},e=>{c=e._},e=>{o=e.d,p=e.x,r=e.y,m=e.m},e=>{g=e.m,d=e.n,_=e.f,y=e.p,v=e.q,S=e.t},e=>{x=e.k,h=e.P,f=e.r,w=e.e,j=e.R,b=e.V,k=e.W,B=e.a3,L=e.F,z=e.O,A=e.U,H=e.S,U=e.a4,N=e.N,C=e.ak,P=e.j},e=>{R=e.dk,$=e.db,q=e.au,O=e.aC},null,null,null],execute:function(){const a={class:"mr-12px"},D=x({__name:"logs",props:{config:{}},emits:["setName"],setup(e,{expose:t,emit:s}){const m=e,y=s,{t:v}=h(),S=f(""),x=f([]),{table:C,columns:P,setLoading:q}=l([{key:"log",title:v("Security.SSH.Basic.LoginAlarm.logs_1")},{key:"addtime",title:v("Security.SSH.Basic.LoginAlarm.logs_2"),width:160}]),O=w({p:1,p_size:10}),D=async()=>{try{q(!0);const{message:e}=await d(N(O));o(e)&&(C.data=p(e.data)?e.data:[],C.total=r(e.page))}finally{q(!1)}},F=async()=>{const{message:e}=await _();o(e)&&(S.value=e.result)};return D(),F(),(async()=>{const{config:e}=m;o(e)&&(x.value=Object.entries(e).map(([,e])=>({name:e.name,title:e.title})))})(),t({init:()=>{D(),F()}}),(e,t)=>{const l=R,s=$,o=i,p=c,r=u,m=n;return b(),j("div",null,[k(s,{class:"mb-20px",size:20},{default:B(()=>[(b(!0),j(L,null,z(A(x),e=>(b(),j("div",{key:e.name,class:"flex items-center"},[H("span",a,U(e.title),1),k(l,{value:A(S)===e.name,size:"small","onUpdate:value":a=>(async e=>{const a=S.value!==e;await g(a,{type:e}),await F(),y("setName",S.value)})(e.name)},null,8,["value","onUpdate:value"])]))),128))]),_:1}),k(r,null,{table:B(()=>[k(o,{"max-height":450,loading:A(C).loading,data:A(C).data,columns:A(P)},null,8,["loading","data","columns"])]),pageRight:B(()=>[k(p,{page:A(O).p,"onUpdate:page":t[0]||(t[0]=e=>A(O).p=e),"page-size":A(O).p_size,"onUpdate:pageSize":t[1]||(t[1]=e=>A(O).p_size=e),"item-count":A(C).total,"show-size-picker":!1,"show-quick-jumper":!1,onRefresh:D},null,8,["page","page-size","item-count"])]),_:1}),k(m,{class:"mt-16px"},{default:B(()=>[H("li",null,U(e.$t("Security.SSH.Basic.LoginAlarm.logs_3")),1)]),_:1})])}}}),F={class:"flex"},V={class:"w-200px mr-10px mb-12px"},W=x({__name:"whitelist",setup(e,{expose:a}){const{t:t}=h(),n=f(""),u=async()=>{""!==n.value.trim()?(await S({ip:n.value}),n.value=""):m.error(t("Security.SSH.Basic.LoginAlarm.whitelist_1"))},{table:c,columns:o,setLoading:r}=l([{key:"ip",title:t("Security.SSH.Basic.LoginAlarm.whitelist_2")},s({width:100,options:e=>[{label:t("Public.Btn.Del"),onClick:async()=>{await y({ip:e.ip}),g()}}]})]),g=async()=>{try{r(!0);const{message:e}=await v();p(e)&&(c.data=e.map(e=>({ip:e})))}finally{r(!1)}};return g(),a({init:g}),(e,a)=>{const t=q,l=O,s=i;return b(),j("div",null,[H("div",F,[H("div",V,[k(t,{value:A(n),"onUpdate:value":a[0]||(a[0]=e=>C(n)?n.value=e:null),placeholder:e.$t("Security.SSH.Basic.LoginAlarm.whitelist_1")},null,8,["value","placeholder"])]),k(l,{type:"primary",onClick:u},{default:B(()=>[P(U(e.$t("Public.Btn.Add")),1)]),_:1})]),k(s,{loading:A(c).loading,"max-height":500,data:A(c).data,columns:A(o)},null,8,["loading","data","columns"])])}}}),E={class:"h-full"};e("default",x({__name:"index",props:{config:{}},emits:["setName"],setup(e,{emit:a}){const l=e,i=a,{t:n}=h(),s=f("login"),u=[{key:"login",label:n("Security.SSH.Basic.LoginAlarm.index_1"),data:{config:l.config,onSetName:e=>{i("setName",e)}},component:D},{key:"whitelist",label:n("Security.SSH.Basic.LoginAlarm.index_2"),component:W}];return(e,a)=>{const l=t;return b(),j("div",E,[k(l,{value:A(s),"onUpdate:value":a[0]||(a[0]=e=>C(s)?s.value=e:null),data:u},null,8,["value"])])}}}))}}});
