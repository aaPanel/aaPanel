System.register(["./public-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./setting-legacy.js?v=1769066082311","./site-legacy2.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311"],function(e,t){"use strict";var r,a,l,i,n,s,c,y,_,o,u,d,p,m,f,g,x,v,b,w,S;return{setters:[e=>{r=e._,a=e.a},e=>{l=e._},e=>{i=e.e},e=>{n=e.m},e=>{s=e.k,c=e.t,y=e.P,_=e.c,o=e.r,u=e.e,d=e.a5,p=e.R,m=e.V,f=e.W,g=e.a3,x=e.S,v=e.U,b=e.a4},e=>{w=e.dS,S=e.dg},null,null,null],execute:function(){const t={class:"p-20px pt-24px"},h={class:"w-160px mr-8px"},C={class:"text-desc"},j={class:"w-160px mr-8px"},W={class:"text-desc"},U={class:"w-160px mr-8px"},$={class:"text-desc"},N={class:"text-error"},P={class:"text-error"},k={class:"text-error"};e("default",s({__name:"index",props:{config:{},siteName:{}},emits:["refresh"],setup(e,{expose:s,emit:E}){const R=e,H=E,T=c(R,"siteName"),{t:V}=y(),q=_(()=>void 0===T.value),z=o(null),A=u({retry_cycle:120,retry:10,retry_time:1800}),B={retry_cycle:{trigger:["blur","input"],validator:()=>!!A.retry_cycle||new Error(V("Waf.Site.Config.index_34"))},retry:{trigger:["blur","input"],validator:()=>!!A.retry||new Error(V("Waf.Site.Config.index_56"))},retry_time:{trigger:["blur","input"],validator:()=>!!A.retry_time||new Error(V("Waf.Site.Config.index_37"))}},D=async()=>{const e={retry_cycle:A.retry_cycle,retry:A.retry,retry_time:A.retry_time,is_open_global:T.value?0:1};q.value?await i(e):await n({...e,siteName:T.value||""}),H("refresh")};return(()=>{const{config:e}=R;e&&(A.retry_cycle=e.retry_cycle,A.retry=e.retry,A.retry_time=e.retry_time)})(),s({onConfirm:async({hide:e})=>{await(z.value?.validate());const{siteName:t}=R;if(!t)return a({title:V("Waf.Site.Config.index_57"),content:V("Waf.Site.Config.index_58"),onConfirm:async({hide:t})=>(await D(),t(),e(),!1)}),!1;await D()}}),(e,a)=>{const i=S,n=w,s=l,c=d("i18n-t"),y=r;return m(),p("div",t,[f(s,{ref_key:"formRef",ref:z,model:v(A),rules:B},{default:g(()=>[f(n,{label:e.$t("Waf.Site.Config.index_14"),path:"retry_cycle"},{default:g(()=>[x("div",h,[f(i,{value:v(A).retry_cycle,"onUpdate:value":a[0]||(a[0]=e=>v(A).retry_cycle=e),min:1,"show-button":!1},null,8,["value"])]),x("span",C,b(e.$t("Public.Unit.Second",v(A).retry_cycle)),1)]),_:1},8,["label"]),f(n,{label:e.$t("Waf.Site.Config.index_53"),path:"retry"},{default:g(()=>[x("div",j,[f(i,{value:v(A).retry,"onUpdate:value":a[1]||(a[1]=e=>v(A).retry=e),min:1,"show-button":!1},null,8,["value"])]),x("span",W,b(e.$t("Public.Unit.Time",v(A).retry)),1)]),_:1},8,["label"]),f(n,{label:e.$t("Waf.Site.Config.index_18"),path:"retry_time"},{default:g(()=>[x("div",U,[f(i,{value:v(A).retry_time,"onUpdate:value":a[2]||(a[2]=e=>v(A).retry_time=e),min:1,"show-button":!1},null,8,["value"])]),x("span",$,b(e.$t("Public.Unit.Second",v(A).retry_time)),1)]),_:1},8,["label"])]),_:1},8,["model"]),f(y,{class:"mt-8px"},{default:g(()=>[f(c,{tag:"li",keypath:"Waf.Site.Config.index_101",scope:"global"},{index_1:g(()=>[x("span",N,b(v(A).retry),1)]),index_2:g(()=>[x("span",P,b(v(A).retry_cycle),1)]),index_3:g(()=>[x("span",k,b(v(A).retry_time),1)]),_:1})]),_:1})])}}}))}}});
