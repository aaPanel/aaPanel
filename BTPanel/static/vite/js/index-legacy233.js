System.register(["./index-legacy107.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1763625242172","./index-legacy99.js?v=1763625242172","./page_layout-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./public-legacy.js?v=1763625242172","./index-legacy238.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./domain-input-legacy.js?v=1763625242172","./git-ps-legacy.js?v=1763625242172","./php-legacy.js?v=1763625242172","./index-legacy98.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172"],(function(e,a){"use strict";var t,l,s,i,d,n,r,p,u,o,_,c,v,m,f,P,h,g,b,y,S,x,w,H,$,U,k,j,q,E,L,R,C,I,z,M,O,B,D,T,V,F,J,N,Q,A,G,W,X,K,Y,Z,ee,ae,te,le,se,ie;return{setters:[e=>{t=e._},e=>{l=e._},e=>{s=e._},e=>{i=e._},e=>{d=e.o,n=e.x,r=e._,p=e.q,u=e.g,o=e.c,_=e.m,c=e.bW,v=e.b5,m=e.p},e=>{f=e.k,P=e.P,h=e.a0,g=e.ae,b=e.c,y=e.R,S=e.S,x=e.U,w=e.X,H=e.V,$=e.a3,U=e.j,k=e.a4,j=e.an,q=e.F,E=e.r,L=e.n,R=e.e,C=e.l,I=e.aj,z=e.v,M=e.a2},e=>{O=e.g,B=e.f,D=e.aO,T=e.aP},e=>{V=e.m,F=e.d,J=e.u,N=e.i,Q=e._},e=>{A=e.u},e=>{G=e.dV,W=e.dU,X=e.dT,K=e.dP,Y=e.au,Z=e.d9,ee=e.dj,ae=e.dg,te=e.dh},e=>{le=e.D},e=>{se=e.g},e=>{ie=e.l},null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".bt-tabs[data-v-828de32f]>.n-tabs-nav{padding:0 20px}.bt-tabs[data-v-828de32f]>.n-tab-pane{padding:16px 10px 0}\n",document.head.appendChild(a);const de={class:"w-150px"},ne={key:0,class:"ml-8px"},re=f({__name:"select-ftp",props:{value:{default:"0"},valueModifiers:{}},emits:["update:value"],setup(e){const{t:a}=P(),t=A(),{ftp:l}=h(t),s=g(e,"value"),i=[{label:a("Site.PHP.add_site_31"),value:"0"},{label:a("Site.PHP.add_site_34"),value:"1"}],n=b((()=>!l.value.setup)),r=()=>{V("pureftpd")};return(e,a)=>{const t=G,l=d;return y(),S(q,null,[x("div",de,[w(t,{value:s.value,"onUpdate:value":a[0]||(a[0]=e=>s.value=e),class:"ftp-select",options:i,disabled:H(n)},null,8,["value","disabled"])]),H(n)?(y(),S("div",ne,[w(l,{onClick:r},{default:$((()=>[U(k(e.$t("Site.PHP.add_site_33")),1)])),_:1})])):j("",!0)],64)}}}),pe={class:"w-150px"},ue={key:0,class:"ml-8px"},oe=f({__name:"select-database",props:{value:{default:"0"},valueModifiers:{}},emits:["update:value"],setup(e){const{t:a}=P(),t=A(),{mysql:l}=h(t),s=g(e,"value"),i=[{label:a("Site.PHP.add_site_31"),value:"0"},{label:a("Site.PHP.add_site_32"),value:"MySQL"}],n=b((()=>!l.value.setup)),r=()=>{V("mysql")};return(e,a)=>{const t=G,l=d;return y(),S(q,null,[x("div",pe,[w(t,{value:s.value,"onUpdate:value":a[0]||(a[0]=e=>s.value=e),class:"db-select",options:i,disabled:H(n)},null,8,["value","disabled"])]),H(n)?(y(),S("div",ue,[w(l,{onClick:r},{default:$((()=>[U(k(e.$t("Site.PHP.add_site_30")),1)])),_:1})])):j("",!0)],64)}}}),_e={class:"w-150px"},ce=f({__name:"select-php",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=g(e,"value"),{loading:t,setLoading:l}=F(),s=E([]);return(async()=>{try{l(!0);const{message:e}=await O(),t=n(e)?e:[];s.value=t.reverse().map((e=>({label:e.name,value:e.version}))),await L(),t.length>0&&(a.value=t[0].version)}finally{l(!1)}})(),(e,l)=>{const i=G;return y(),S("div",_e,[w(i,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),class:"php-select",loading:H(t),options:H(s)},null,8,["value","loading","options"])])}}}),ve={class:"w-150px"},me=f({__name:"select-category",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=g(e,"value"),{loading:t,setLoading:l}=F(),s=E([]);return(async()=>{try{l(!0);const{message:e}=await B();n(e)?(s.value=e.map((e=>({label:e.name,value:e.id}))),e.length>0&&(a.value=e[0].id)):s.value=[]}finally{l(!1)}})(),(e,l)=>{const i=G;return y(),S("div",ve,[w(i,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),class:"type-select",loading:H(t),options:H(s)},null,8,["value","loading","options"])])}}}),fe={class:"flex items-center w-600px py-30px px-50px"},Pe={class:"w-120px text-primary"},he={class:"flex flex-col gap-16px flex-1 ml-60px"},ge={key:0,class:"leading-24px"},be={class:"flex items-center h-30px"},ye={class:"mt-8px"},Se={class:"font-bold"},xe={class:"font-bold"},we={key:1,class:"leading-24px"},He={class:"flex items-center h-30px"},$e={class:"mt-8px"},Ue={class:"font-bold"},ke={class:"font-bold"},je=f({__name:"site-result",props:{data:{}},setup(e){const a=e,{info:t}=a.data;return(e,a)=>{const l=r,s=p;return y(),S("div",fe,[x("div",Pe,[w(l,{name:"base-success",size:"120"})]),x("div",he,[H(t).ftpStatus?(y(),S("div",ge,[x("div",be,k(e.$t("Site.PHP.add_site_35")),1),w(s,{dashed:""}),x("div",ye,[U(k(e.$t("Site.PHP.add_site_37")),1),x("span",Se,k(H(t).ftpUser||"--"),1)]),x("div",null,[U(k(e.$t("Site.PHP.add_site_38")),1),x("span",xe,k(H(t).ftpPass||"--"),1)])])):j("",!0),H(t).databaseStatus?(y(),S("div",we,[x("div",He,k(e.$t("Site.PHP.add_site_36")),1),w(s,{dashed:""}),x("div",$e,[U(k(e.$t("Site.PHP.add_site_37"))+" ",1),x("span",Ue,k(H(t).databaseUser||"--"),1)]),x("div",null,[U(k(e.$t("Site.PHP.add_site_38"))+" ",1),x("span",ke,k(H(t).databasePass||"--"),1)])])):j("",!0)])])}}}),qe={class:"w-440px"},Ee={class:"w-400px"},Le={class:"w-400px"},Re={class:"flex-1"},Ce={class:"w-174px"},Ie={class:"ml-8px"},ze={class:"w-174px"},Me={class:"mt-8px text-desc"},Oe={class:"flex-1"},Be={class:"w-174px"},De={class:"ml-8px"},Te={class:"w-174px"},Ve={class:"mt-8px text-desc"},Fe={class:"w-150px"},Je=f({__name:"index",setup(e,{expose:a}){const{t:t}=P(),d=A(),n=E("0"),p=E("0"),c=E(null),v=E(null),m=E([]),f=R({type:0,domain:[""],webname:{domain:""},ps:"",path:d.sitePath,ftp:!1,ftp_username:"",ftp_password:"",sql:!1,codeing:"utf8",datauser:"",datapassword:"",version:null,type_id:null,set_ssl:!1,force_ssl:!1,is_create_default_file:!0}),h={"webname.domain":{required:!0,trigger:["blur","change"],validator:(e,a)=>""!==a.trim()||0!==f.type||new Error(t("Site.PHP.add_site_23"))},domain:{trigger:["blur"],validator:(e,a)=>!(!a[0]&&1===f.type)||new Error(t("Site.PHP.add_site_23"))},path:{trigger:["blur","change"],validator:(e,a)=>""!==a||new Error(t("Site.PHP.add_site_26"))},version:{trigger:"change",validator:(e,a)=>null!==a||new Error(t("Site.PHP.add_site_27"))},type_id:{trigger:"change",validator:(e,a)=>null!==a||new Error(t("Site.PHP.add_site_28"))}},g=e=>{if(!e)return void(f.webname.domain=f.domain.filter(Boolean).join("\n"));const a=f.webname.domain.trim();a!==f.domain.join("\n")&&(f.domain=a?a.split("\n").filter(Boolean):[""],f.domain.forEach(((e,a)=>c.value?.onDomainItemBlur(e,a))))},b=e=>{const a=e?.trim().split("\n")[0].split(":")[0];if(a){const e=a.replace(new RegExp(/([-.])/g),"_");f.ps=e,f.path=`${d.sitePath}/${a}`,f.ftp_username=`ftp_${e}`,f.ftp_password=u(16),f.datauser=`sql_${e}`,f.datapassword=u(16)}else f.ps="",f.path=d.sitePath,f.ftp_username="",f.ftp_password="",f.datauser="",f.datapassword=""},q=e=>{f.ftp="1"===e},L=e=>{f.sql="0"!==e&&e};return a({onConfirm:async()=>{await new Promise(((e,a)=>{0===m.value.filter((e=>e.support.includes("auto"))).length&&1===f.type?(_.error(t("Site.PHP.add_site_58")),a(!1)):e(!0)})),await(v.value?.validate());const{message:e}=await D((()=>{const{version:e,type_id:a}=f;if(null===e)throw _.error(t("Site.PHP.add_site_27")),new Error(t("Site.PHP.add_site_27"));if(null===a)throw _.error(t("Site.PHP.add_site_28")),new Error(t("Site.PHP.add_site_28"));const l=f.webname.domain.trim().split("\n"),s=l[0]+"\r",i=l[0].split(":")[1]||"80",d=l.length>1?l.slice(1):[],n=m.value.map((e=>({domain:e.domain,hash:e.hash,support:[...e.auto?["auto"]:[],...e.ssl_cert?["ssl_cert"]:[],...e.cf_proxy?["cf_proxy"]:[]]})));let r={webname:{domain:s,domainlist:d,count:d.length},parse_list:1===f.type&&n.length?JSON.stringify(n):null,port:i,type:"PHP",ps:f.ps,path:f.path,ftp:f.ftp,sql:f.sql,codeing:f.codeing,version:e,type_id:a,set_ssl:f.set_ssl?1:0,force_ssl:f.force_ssl?1:0,is_create_default_file:f.is_create_default_file};return f.ftp&&(r=Object.assign(r,{ftp_username:f.ftp_username,ftp_password:f.ftp_password})),f.sql&&(r=Object.assign(r,{datauser:f.datauser,datapassword:f.datapassword})),r})());var a;!o(e)||!1===e.ftpStatus&&!1===e.databaseStatus?_.success(t("Site.PHP.add_site_29")):(a=e,J({title:t("Site.PHP.add_site_29"),data:{info:a},component:je})),d.setRefresh(!0)}}),(e,a)=>{const t=W,d=X,u=r,o=K,_=i,P=Y,E=s,R=Z,O=ee,B=l;return y(),S("div",null,[w(B,{ref_key:"formRef",ref:v,model:H(f),rules:h},{default:$((()=>[w(o,{label:e.$t("SSL.index_1")},{default:$((()=>[w(d,{value:H(f).type,"onUpdate:value":[a[0]||(a[0]=e=>H(f).type=e),g]},{default:$((()=>[w(t,{value:0},{default:$((()=>[U(k(e.$t("SSL.index_2")),1)])),_:1}),w(t,{value:1},{default:$((()=>[U(k(e.$t("SSL.index_3")),1)])),_:1})])),_:1},8,["value"]),w(u,{name:"ssl-stars",size:22})])),_:1},8,["label"]),C(w(o,{label:e.$t("Site.PHP.add_site_4"),path:"domain"},{default:$((()=>[w(le,{ref_key:"domainInputRef",ref:c,value:H(f).domain,"onUpdate:value":a[1]||(a[1]=e=>H(f).domain=e),"parse-list":H(m),"onUpdate:parseList":a[2]||(a[2]=e=>I(m)?m.value=e:null),"onUpdate:domain":b},null,8,["value","parse-list"])])),_:1},8,["label"]),[[z,1===H(f).type]]),C(w(o,{label:e.$t("Site.PHP.add_site_4"),path:"webname.domain"},{default:$((()=>[x("div",qe,[w(_,{value:H(f).webname.domain,"onUpdate:value":[a[3]||(a[3]=e=>H(f).webname.domain=e),b],name:"domain"},{default:$((()=>[x("p",null,k(e.$t("Site.PHP.add_site_5")),1),x("p",null,k(e.$t("Site.PHP.add_site_6")),1),x("p",null,k(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[z,0===H(f).type]]),w(o,{label:e.$t("Site.PHP.add_site_8"),path:"ps"},{default:$((()=>[x("div",Ee,[w(P,{value:H(f).ps,"onUpdate:value":a[4]||(a[4]=e=>H(f).ps=e),"input-props":{name:"ps"},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:$((()=>[x("div",Le,[w(E,{value:H(f).path,"onUpdate:value":a[5]||(a[5]=e=>H(f).path=e),"input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_10")},{default:$((()=>[w(re,{value:H(n),"onUpdate:value":[a[6]||(a[6]=e=>I(n)?n.value=e:null),q]},null,8,["value"])])),_:1},8,["label"]),"1"===H(n)?(y(),M(o,{key:0,label:e.$t("Site.PHP.add_site_11")},{default:$((()=>[x("div",Re,[w(R,{class:"items-center"},{default:$((()=>[x("div",Ce,[w(P,{value:H(f).ftp_username,"onUpdate:value":a[7]||(a[7]=e=>H(f).ftp_username=e),"input-props":{name:"ftp_username"},placeholder:e.$t("Site.PHP.add_site_12")},null,8,["value","placeholder"])]),x("div",Ie,k(e.$t("Site.PHP.add_site_13")),1),x("div",ze,[w(P,{value:H(f).ftp_password,"onUpdate:value":a[8]||(a[8]=e=>H(f).ftp_password=e),"input-props":{name:"ftp_password"},placeholder:e.$t("Site.PHP.add_site_14")},null,8,["value","placeholder"])])])),_:1}),x("div",Me,k(e.$t("Site.PHP.add_site_15")),1)])])),_:1},8,["label"])):j("",!0),w(o,{label:e.$t("Site.PHP.add_site_16")},{default:$((()=>[w(oe,{value:H(p),"onUpdate:value":[a[9]||(a[9]=e=>I(p)?p.value=e:null),L]},null,8,["value"])])),_:1},8,["label"]),"MySQL"===H(p)?(y(),M(o,{key:1,label:e.$t("Site.PHP.add_site_17")},{default:$((()=>[x("div",Oe,[w(R,{class:"items-center"},{default:$((()=>[x("div",Be,[w(P,{value:H(f).datauser,"onUpdate:value":a[10]||(a[10]=e=>H(f).datauser=e),"input-props":{name:"db_username"},placeholder:e.$t("Site.PHP.add_site_18")},null,8,["value","placeholder"])]),x("div",De,k(e.$t("Site.PHP.add_site_13")),1),x("div",Te,[w(P,{value:H(f).datapassword,"onUpdate:value":a[11]||(a[11]=e=>H(f).datapassword=e),"input-props":{name:"db_password"},placeholder:e.$t("Site.PHP.add_site_19")},null,8,["value","placeholder"])])])),_:1}),x("div",Ve,k(e.$t("Site.PHP.add_site_20")),1)])])),_:1},8,["label"])):j("",!0),w(o,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:$((()=>[x("div",Fe,[w(ce,{value:H(f).version,"onUpdate:value":a[12]||(a[12]=e=>H(f).version=e)},null,8,["value"])])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_22"),path:"type_id"},{default:$((()=>[w(me,{value:H(f).type_id,"onUpdate:value":a[13]||(a[13]=e=>H(f).type_id=e)},null,8,["value"])])),_:1},8,["label"]),w(o,{label:e.$t("SSL.SiteSSL.index_18")},{default:$((()=>[w(O,{value:H(f).is_create_default_file,"onUpdate:value":a[14]||(a[14]=e=>H(f).is_create_default_file=e)},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),Ne={class:"px-10px"},Qe={class:"mt-8px leading-22px text-default"},Ae={class:"mt-6px"},Ge=f({__name:"index",setup(e,{expose:a}){const{t:t}=P(),s=A(),d=R({domain:"domain|1|0|0|0\ndomain|1|0|0|0\ndomain|1|0|0|0"}),n=E([{key:"name",title:t("Site.TableRow.index_1")},{key:"ftp",title:t("Site.PHP.add_site_10"),render:e=>e.succesInfo?e.succesInfo.ftp_status?w("span",{class:"text-primary"},[t("Site.PHP.index_35")]):`${t("Site.PHP.index_37")}`:"--"},{key:"database",title:t("Site.PHP.add_site_16"),render:e=>e.succesInfo?e.succesInfo.db_status?w("span",{class:"text-primary"},[t("Site.PHP.index_35")]):`${t("Site.PHP.index_37")}`:"--"},{key:"result",title:t("Site.DelSite.index_10"),render:e=>"error"===e.status?w("span",{class:"text-error"},[e.errorMsg]):w("span",{class:"text-primary"},[t("Site.PHP.index_35")])}]);return a({onConfirm:async()=>{let e=[];const a=d.domain.trim().split("\n");for(let s=0;s<a.length;s++){const l=a[s].split("|");for(let a=0;a<l.length;a++){const i=s+1,d=l[a].trim();switch(a){case 0:e=d.split(",");for(let a=0;a<e.length;a++){const a=e[0],l=a.split(":");if(!c(l[0]))return void _.error(`${t("Site.PHP.index_39")} ${i}, ${t("Site.PHP.index_40")} [${a}]`);if(void 0!==l[1]&&v(l[1]))return void _.error(`${t("Site.PHP.index_39")} ${i}, ${t("Site.PHP.index_41")} [${l[1]}]`)}break;case 1:if("1"!==d&&d.indexOf("/")<-1)return void _.error(`${t("Site.PHP.index_39")} ${i}, ${t("Site.PHP.index_42")} [${d}]`)}}}const{message:l}=await T({websites_content:a});o(l)&&(_.success(l.msg),(e=>{const a=[];Object.entries(e.error).forEach((([e,t])=>{a.push({name:e,status:"error",errorMsg:t.result})})),Object.entries(e.success).forEach((([e,t])=>{a.push({name:e,status:"success",succesInfo:t})})),J({title:t("Site.PHP.index_38"),content:()=>w("div",{class:"w-500px p-20px"},[w(ae,{data:a,columns:n.value},null)])})})(l)),s.setRefresh(!0)}}),(e,a)=>{const t=i,s=K,n=l;return y(),S("div",Ne,[w(n,{ref:"formRef"},{default:$((()=>[w(s,{label:""},{default:$((()=>[w(t,{value:H(d).domain,"onUpdate:value":a[0]||(a[0]=e=>H(d).domain=e),rows:10,name:"batch-domain"},null,8,["value"])])),_:1})])),_:1},512),x("div",Qe,[x("p",null,k(e.$t("Site.PHP.add_site_39")),1),x("p",Ae,k(e.$t("Site.PHP.add_site_40")),1),x("p",null,k(e.$t("Site.PHP.add_site_41")),1),x("p",null,k(e.$t("Site.PHP.add_site_42")),1),x("p",null,k(e.$t("Site.PHP.add_site_43")),1),x("p",null,k(e.$t("Site.PHP.add_site_44")),1),a[1]||(a[1]=x("p",{class:"mt-6px"},"Eq, bt.cn,test.cn:8081|/www/wwwroot/bt.cn|1|1|56",-1))])])}}}),We={class:"w-440px"},Xe={class:"w-400px"},Ke={key:0},Ye={class:"text-primary cursor-pointer"},Ze=["src"],ea=f({__name:"index",setup(e,{expose:a}){const{t:t}=P(),n=A(),p=E(null),c=E(null),v=E([]),m=R({type:0,domain:[""],webname:{domain:""},ps:"",path:n.sitePath,ftp:!1,ftp_username:"",ftp_password:"",sql:!1,codeing:"utf8",datauser:"",datapassword:"",version:null,type_id:null,set_ssl:!1,force_ssl:!1,deploy_type:"ssh",git_repo:null,git_branch:null,ssh_key:"",ssh_repo:null,deploy_script:"",ssh_branch:""}),f={"webname.domain":{required:!0,trigger:["blur","change"],validator:(e,a)=>""!==a.trim()||0!==m.type||new Error(t("Site.PHP.add_site_23"))},domain:{trigger:["blur"],validator:(e,a)=>!(!a[0]&&1===m.type)||new Error(t("Site.PHP.add_site_23"))},path:{trigger:["blur","change"],validator:(e,a)=>""!==a||new Error(t("Site.PHP.add_site_26"))},version:{trigger:"change",validator:(e,a)=>null!==a||new Error(t("Site.PHP.add_site_27"))},type_id:{trigger:"change",validator:(e,a)=>null!==a||new Error(t("Site.PHP.add_site_28"))},git_repo:{required:!0,trigger:["blur","change"],message:t("Site.PHP.add_site_53")},git_branch:{required:!0,trigger:["blur","change"],message:t("Site.PHP.add_site_54")},ssh_repo:{required:!0,trigger:["blur","change"],message:t("Site.PHP.add_site_55")},deploy_script:{required:!0,trigger:["blur","change"],message:t("Site.PHP.add_site_56")},ssh_branch:{required:!0,trigger:["blur","change"],message:t("Site.PHP.add_site_57")}},h=E([]),g=E([]),b=e=>{if(!e)return void(m.webname.domain=m.domain.filter(Boolean).join("\n"));const a=m.webname.domain.trim();a!==m.domain.join("\n")&&(m.domain=a?a.split("\n").filter(Boolean):[""],m.domain.forEach(((e,a)=>p.value?.onDomainItemBlur(e,a))))},q=()=>{N(m.ssh_key)},L=e=>{const a=e?.trim().split("\n")[0].split(":")[0];if(a){const e=a.replace(new RegExp(/([-.])/g),"_");m.ps=e,m.path=`${n.sitePath}/${a}`,m.ftp_username=`ftp_${e}`,m.ftp_password=u(16),m.datauser=`sql_${e}`,m.datapassword=u(16)}else m.ps="",m.path=n.sitePath,m.ftp_username="",m.ftp_password="",m.datauser="",m.datapassword=""};return(async()=>{const{message:e}=await ie();o(e)&&(m.ssh_key=e.result)})(),a({onConfirm:async()=>{await new Promise(((e,a)=>{0===v.value.filter((e=>e.support.includes("auto"))).length&&1===m.type?(_.error(t("Site.PHP.add_site_58")),a(!1)):e(!0)})),await(c.value?.validate());const{message:e}=await D((()=>{const{version:e}=m;if(null===e)throw _.error(t("Site.PHP.add_site_27")),new Error(t("Site.PHP.add_site_27"));const a=m.webname.domain.trim().split("\n"),l=a[0]+"\r",s=a[0].split(":")[1]||"80",i=a.length>1?a.slice(1):[],d=v.value.map((e=>({domain:e.domain,hash:e.hash,support:[...e.auto?["auto"]:[],...e.ssl_cert?["ssl_cert"]:[],...e.cf_proxy?["cf_proxy"]:[]]})));return{webname:{domain:l,domainlist:i,count:i.length},parse_list:1===m.type&&d.length?JSON.stringify(d):null,port:s,type:"PHP",ps:m.ps,path:m.path,ftp:m.ftp,sql:m.sql,codeing:m.codeing,version:e,type_id:null,set_ssl:m.set_ssl?1:0,force_ssl:m.force_ssl?1:0,deploy_type:m.deploy_type,deploy_script:m.deploy_script,repo:m.ssh_repo,branch:"ssh"===m.deploy_type?m.ssh_branch:m.git_branch}})());o(e)&&(_.success(e.result),n.setRefresh(!0))}}),(e,a)=>{const t=W,n=X,u=r,o=K,_=i,P=s,E=Z,R=G,O=Y,B=te,D=l,T=d,V=Q;return y(),S("div",null,[w(D,{ref_key:"formRef",ref:c,model:H(m),rules:f},{default:$((()=>[w(o,{label:e.$t("SSL.index_1")},{default:$((()=>[w(n,{value:H(m).type,"onUpdate:value":[a[0]||(a[0]=e=>H(m).type=e),b]},{default:$((()=>[w(t,{value:0},{default:$((()=>[U(k(e.$t("SSL.index_2")),1)])),_:1}),w(t,{value:1},{default:$((()=>[U(k(e.$t("SSL.index_3")),1)])),_:1})])),_:1},8,["value"]),w(u,{name:"ssl-stars",size:22})])),_:1},8,["label"]),C(w(o,{label:e.$t("Site.PHP.add_site_4"),path:"domain"},{default:$((()=>[w(le,{ref_key:"domainInputRef",ref:p,value:H(m).domain,"onUpdate:value":a[1]||(a[1]=e=>H(m).domain=e),"parse-list":H(v),"onUpdate:parseList":a[2]||(a[2]=e=>I(v)?v.value=e:null),"onUpdate:domain":L},null,8,["value","parse-list"])])),_:1},8,["label"]),[[z,1===H(m).type]]),C(w(o,{label:e.$t("Site.PHP.add_site_4"),path:"webname.domain"},{default:$((()=>[x("div",We,[w(_,{value:H(m).webname.domain,"onUpdate:value":[a[3]||(a[3]=e=>H(m).webname.domain=e),L],name:"domain"},{default:$((()=>[x("p",null,k(e.$t("Site.PHP.add_site_5")),1),x("p",null,k(e.$t("Site.PHP.add_site_6")),1),x("p",null,k(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[z,0===H(m).type]]),w(o,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:$((()=>[x("div",Xe,[w(P,{value:H(m).path,"onUpdate:value":a[4]||(a[4]=e=>H(m).path=e),"input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:$((()=>[w(ce,{class:"w-400px",value:H(m).version,"onUpdate:value":a[5]||(a[5]=e=>H(m).version=e)},null,8,["value"])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_47"),path:"deploy_type"},{default:$((()=>[w(n,{value:H(m).deploy_type,"onUpdate:value":a[6]||(a[6]=e=>H(m).deploy_type=e)},{default:$((()=>[j("",!0),w(t,{value:"ssh"},{default:$((()=>[w(E,{class:"items-center",size:2},{default:$((()=>[a[14]||(a[14]=x("i",{class:"i-octicon:git-branch-16 text-18px"},null,-1)),x("span",null,k(e.$t("Public.Search.Custom")),1)])),_:1,__:[14]})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),"github"===H(m).deploy_type?(y(),S("div",Ke,[w(o,{label:" "},{default:$((()=>[x("div",null,[w(o,{label:e.$t("Site.PHP.add_site_48"),path:"git_repo","label-placement":"top"},{default:$((()=>[w(R,{class:"w-400px",value:H(m).git_repo,"onUpdate:value":a[7]||(a[7]=e=>H(m).git_repo=e),name:"git_repo",options:H(h)},null,8,["value","options"])])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_49"),path:"git_branch","label-placement":"top"},{default:$((()=>[w(R,{class:"w-400px",value:H(m).git_branch,"onUpdate:value":a[8]||(a[8]=e=>H(m).git_branch=e),name:"git_branch",options:H(g)},null,8,["value","options"])])),_:1},8,["label"])])])),_:1}),w(o,{label:e.$t("Site.PHP.add_site_50"),path:"deploy_script"},{default:$((()=>[w(O,{autosize:{minRows:4},class:"w-400px!",type:"textarea",value:H(m).deploy_script,"onUpdate:value":a[9]||(a[9]=e=>H(m).deploy_script=e),placeholder:'cd /www/wwwroot/aapanel.com\ngit pull origin master\necho "" | sudo -S service php8.3-fpm reload\necho "ðŸš€ Application deployed!"',name:"deploy_script"},null,8,["value"])])),_:1},8,["label"])])):j("",!0),"ssh"===H(m).deploy_type?(y(),M(o,{key:1,label:" "},{default:$((()=>[x("div",null,[w(o,{label:"SSH key","label-placement":"top"},{default:$((()=>[w(E,null,{default:$((()=>[w(E,{class:"items-center"},{default:$((()=>[w(O,{readonly:"",type:"textarea",class:"w-400px!",value:H(m).ssh_key,"onUpdate:value":a[10]||(a[10]=e=>H(m).ssh_key=e)},null,8,["value"]),w(u,{class:"cursor-pointer",name:"common-copy",size:22,onClick:q})])),_:1}),x("div",null,k(e.$t("Site.PHP.add_site_51")),1)])),_:1})])),_:1}),w(o,{label:e.$t("Site.PHP.add_site_48"),path:"ssh_repo","label-placement":"top"},{default:$((()=>[w(E,null,{default:$((()=>[w(O,{class:"w-400px!",value:H(m).ssh_repo,"onUpdate:value":a[11]||(a[11]=e=>H(m).ssh_repo=e)},null,8,["value"]),a[15]||(a[15]=x("div",null,"(e.g. git@github.com:username/repo.git)",-1)),w(B,{trigger:"hover"},{trigger:$((()=>[x("span",Ye,k(e.$t("Site.PHP.add_site_52")),1)])),default:$((()=>[x("img",{width:"400px",src:H(se),alt:"git desc"},null,8,Ze)])),_:1})])),_:1,__:[15]})])),_:1},8,["label"]),w(o,{label:e.$t("Site.PHP.add_site_49"),path:"ssh_branch","label-placement":"top"},{default:$((()=>[w(E,{class:"flex-col!"},{default:$((()=>[w(O,{class:"w-400px!",value:H(m).ssh_branch,"onUpdate:value":a[12]||(a[12]=e=>H(m).ssh_branch=e)},null,8,["value"]),a[16]||(a[16]=x("div",null,"(e.g. master)",-1))])),_:1,__:[16]})])),_:1},8,["label"])])])),_:1})):j("",!0)])),_:1},8,["model"]),w(V,null,{default:$((()=>[x("li",null,[a[18]||(a[18]=x("span",null,"How to create website using Git?",-1)),w(T,{class:"ml-5px",target:"_blank",href:"https://www.aapanel.com/docs/Function/Tutorial/create_for_git.html"},{default:$((()=>a[17]||(a[17]=[U("View")]))),_:1,__:[17]})])])),_:1})])}}}),aa={class:"p-20px h-full"};e("default",m(f({__name:"index",setup(e,{expose:a}){const{t:l}=P(),s=E("single"),i=E(),d=[{key:"single",label:l("Site.PHP.add_site_1"),isLazy:!0,component:Je},{key:"git",label:l("Site.PHP.add_site_59"),isLazy:!0,component:ea},{key:"batch",label:l("Site.PHP.add_site_2"),isLazy:!0,component:Ge}];return a({onConfirm:async()=>{await(i.value?.onConfirm())}}),(e,a)=>{const l=t;return y(),S("div",aa,[w(l,{ref_key:"tabsRef",ref:i,value:H(s),"onUpdate:value":a[0]||(a[0]=e=>I(s)?s.value=e:null),options:d},null,8,["value"])])}}}),[["__scopeId","data-v-828de32f"]]))}}}));
