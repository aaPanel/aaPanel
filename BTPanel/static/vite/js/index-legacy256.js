System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./index-legacy87.js?v=1763625242172","./page_layout-legacy.js?v=1763625242172","./public-legacy.js?v=1763625242172","./task-view.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./index-legacy132.js?v=1763625242172","./index-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1763625242172","./index-legacy130.js?v=1763625242172","./php-legacy.js?v=1763625242172","./soft-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./site-legacy4.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1763625242172","./index-legacy245.js?v=1763625242172","./index-legacy99.js?v=1763625242172","./index-legacy107.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1763625242172","./index-legacy98.js?v=1763625242172","./index-legacy100.js?v=1763625242172","./theme-monokai-legacy.js?v=1763625242172","./file-legacy.js?v=1763625242172","./refersh-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1763625242172","./index-legacy104.js?v=1763625242172","./ssl-legacy.js?v=1763625242172","./cert-legacy.js?v=1763625242172","./ssl-lets-progress-legacy.js?v=1763625242172","./utils-legacy3.js?v=1763625242172","./index-legacy217.js?v=1763625242172","./paypal-js-legacy.js?v=1763625242172","./upload-legacy.js?v=1763625242172"],(function(e,l){"use strict";var a,t,s,u,n,i,c,_,d,r,p,o,g,y,b,v,f,h,j,x,m,w,k,S,C,U,P,F,N,q;return{setters:[e=>{a=e._},e=>{t=e.E,s=e.F,u=e.G},e=>{n=e.x,i=e.T,c=e.p},e=>{_=e.d},e=>{d=e._},e=>{r=e.k,p=e.r,o=e.e,g=e.c,y=e.w,b=e.R,v=e.a2,f=e.a3,h=e.X,j=e.V,x=e.U,m=e.S,w=e.F,k=e.O,S=e.an},e=>{C=e.dV,U=e.dP,P=e._,F=e.d9,N=e.eg,q=e.dk},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".data-box[data-v-8eccfa2c]{max-height:200px;width:100%;display:flex;flex-direction:column;gap:10px;overflow-y:auto;border-radius:10px;padding:10px;border:1px solid #c7c7c7}\n",document.head.appendChild(l);const T={class:"data-box"};e("default",c(r({__name:"index",props:{done:{type:Function}},setup(e,{expose:l}){const c=e,r=p(null),D=p([]),E=p([]),O=o({site_id:null,target_id:null,all:!1,source_site:["file"],db_table:[],create_recovery_point:!1}),R=g((()=>O.db_table.length>0&&O.db_table.length<E.value.length)),V={site_id:{required:!0,type:"number",trigger:"change",message:"Source site cannot be empty"},target_id:{required:!0,type:"number",trigger:"change",message:"Target site cannot be empty"},source_site:{required:!0,type:"array",trigger:"change",message:"Please select type"},db_table:{required:!0,type:"array",trigger:"change",message:"Please select database table"}};y((()=>O.db_table),(e=>{e.length===E.value.length?O.all=!0:e.length||(O.all=!1)})),y((()=>O.all),(e=>{e?(O.db_table=E.value,r.value?.validate()):O.db_table=[]}));const A=async()=>{const{message:e}=await s({set_id:Number(O.site_id)});n(e)&&(E.value=e,O.db_table=[])},{loading:B,setLoading:G}=_();return(async()=>{try{G(!0);const{message:e}=await u();n(e)&&(D.value=e.map((e=>({label:e.name,value:e.id}))),D.value.length&&(O.site_id=D.value[0].value,A()))}finally{G(!1)}})(),l({onConfirm:async()=>{await(r.value?.validate()),await t({cp_files:!!O.source_site.includes("file"),cp_data_tables:!!O.source_site.includes("db"),is_backup:O.create_recovery_point,data_tables:JSON.stringify(O.source_site.includes("db")?O.db_table:[]),source_id:Number(O.site_id),target_id:Number(O.target_id)}),c.done()}}),(e,l)=>{const t=C,s=U,u=P,n=F,c=N,_=q,p=a,o=i;return b(),v(d,{title:"Copy Progress",params:"wp_copy"},{default:f((()=>[h(o,{show:j(B),class:"p-16px"},{default:f((()=>[h(p,{ref_key:"formRef",ref:r,model:j(O),rules:V},{default:f((()=>[h(s,{label:"Source Site",path:"site_id"},{default:f((()=>[h(t,{class:"w-300px",value:j(O).site_id,"onUpdate:value":[l[0]||(l[0]=e=>j(O).site_id=e),A],options:j(D),filterable:""},null,8,["value","options"])])),_:1}),h(s,{label:"Target site",path:"target_id"},{default:f((()=>[h(t,{class:"w-300px",value:j(O).target_id,"onUpdate:value":l[1]||(l[1]=e=>j(O).target_id=e),options:j(D),filterable:"",placeholder:"Please select target site"},null,8,["value","options"])])),_:1}),h(s,{label:"Copy Type",path:"source_site","show-feedback":!j(O).source_site.length},{default:f((()=>[h(c,{value:j(O).source_site,"onUpdate:value":l[2]||(l[2]=e=>j(O).source_site=e)},{default:f((()=>[h(n,null,{default:f((()=>[h(u,{value:"file",label:"File"}),h(u,{value:"db",label:"Database"})])),_:1})])),_:1},8,["value"])])),_:1},8,["show-feedback"]),h(s,{label:" "},{default:f((()=>[h(_,{"show-icon":!1},{default:f((()=>l[6]||(l[6]=[x("div",null,"Files: Copy the newly added theme and plug-in files from the source wp website to the target wp website. ",-1),x("div",null,"Database: Select the data table in the source wp website and copy it to the target wp website. Note: the existing table will be overwritten!",-1)]))),_:1,__:[6]})])),_:1}),j(O).source_site.includes("db")?(b(),v(s,{key:0,label:" ",path:"db_table"},{default:f((()=>[x("div",T,[h(u,{checked:j(O).all,"onUpdate:checked":l[3]||(l[3]=e=>j(O).all=e),label:e.$t("Public.SelectAll"),indeterminate:j(R)},null,8,["checked","label","indeterminate"]),h(c,{value:j(O).db_table,"onUpdate:value":l[4]||(l[4]=e=>j(O).db_table=e)},{default:f((()=>[h(n,{class:"flex-col!"},{default:f((()=>[(b(!0),m(w,null,k(j(E),(e=>(b(),v(u,{value:e,label:e,key:e},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])])])),_:1})):S("",!0),h(s,{label:"Backup"},{default:f((()=>[h(u,{checked:j(O).create_recovery_point,"onUpdate:checked":l[5]||(l[5]=e=>j(O).create_recovery_point=e),label:"Create a backup of your target website"},null,8,["checked"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])])),_:1})}}}),[["__scopeId","data-v-8eccfa2c"]]))}}}));
