import{b as a,f as e,_ as t}from"./public.js?v=1752142539265";import{w as s}from"./page_layout.js?v=1752142539265";import{n as i,o as l}from"./site3.js?v=1752142539265";import{k as n,P as o,Q as m,U as u,X as r,W as d,a2 as f,V as p,a3 as c}from"./vue.js?v=1752142539265";import{c1 as _}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";const g={class:"p-20px"},x=n({__name:"index",props:{name:{default:""},rule:{default:""},siteName:{default:""}},setup(n){const x=n,{t:j}=o(),{table:y,columns:N,setLoading:W}=a([{key:"rule",title:j("Waf.Site.Config.index_66")},{key:"ps",title:j("Waf.Site.Config.index_4"),width:180},{key:"status",title:j("Waf.Site.Config.index_5"),width:60,render:(a,e)=>m(_,{size:"small",value:a.status,onUpdateValue:async t=>{const{siteName:s,rule:i}=x;await l({index:e,siteName:s,ruleName:i}),a.status=t}},null)}]);return(async()=>{try{W(!0);const{siteName:a,rule:e}=x,{message:t}=await i({siteName:a,ruleName:e});s(t)&&(y.data=t.map((([a,e,t])=>({status:!!a,rule:e,ps:t}))))}finally{W(!1)}})(),(a,s)=>{const i=e,l=t;return r(),u("div",g,[m(i,{"max-height":420,loading:d(y).loading,data:d(y).data,columns:d(N)},null,8,["loading","data","columns"]),m(l,{class:"mt-16px"},{default:f((()=>[p("li",null,c(a.$t("Waf.Site.Config.index_71")),1),p("li",null,c(a.$t("Waf.Site.Config.index_72")),1)])),_:1})])}}});export{x as default};
