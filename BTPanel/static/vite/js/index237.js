import{_ as e}from"./index245.js?v=1763625242172";import{_ as a}from"./index107.js?v=1763625242172";import{u as l}from"./index238.js?v=1763625242172";import t from"./index100.js?v=1763625242172";import{aC as n,dV as i,dP as s,dj as o}from"./naive.js?v=1763625242172";import{k as u,P as r,r as p,o as d,R as v,S as m,X as _,V as c,aj as f,U as P,a3 as x,j as h,a4 as g,n as y,e as w,N as S}from"./vue.js?v=1763625242172";import{d as b,_ as H}from"./public.js?v=1763625242172";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import{c as k,x as $,h as C,m as U}from"./page_layout.js?v=1763625242172";import{b8 as R,b9 as D,c as E,ba as L}from"./site.js?v=1763625242172";import{E as V,F as B}from"./php.js?v=1763625242172";import"./theme-monokai.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";import"./file.js?v=1763625242172";import"./common.js?v=1763625242172";const F={class:"mt-12px"},q=u({__name:"DefaultPage",setup(e){const{t:i}=r(),s=l(),o=p(null),u=p("index"),w=new Map([["index",{label:i("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:i("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:i("Site.PHP.index_53"),path:"nginx"===s.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:i("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),S=(()=>{const e=[];return w.forEach(((a,l)=>{e.push({key:l,label:a.label})})),e})(),b=()=>{var e;return(null==(e=w.get(u.value))?void 0:e.path)||""},H=p(b()),j=()=>{H.value=b()},k=()=>{y((()=>{var e;null==(e=o.value)||e.getContent()}))},$=async()=>{var e;null==(e=o.value)||e.saveFile()};return d((()=>{var e;null==(e=o.value)||e.getContent()})),(e,l)=>{const i=a,s=n;return v(),m("div",null,[_(i,{value:c(u),"onUpdate:value":[l[0]||(l[0]=e=>f(u)?u.value=e:null),j],options:c(S),onClick:k},null,8,["value","options"]),_(t,{ref_key:"configRef",ref:o,path:c(H),"onUpdate:path":l[1]||(l[1]=e=>f(H)?H.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),P("div",F,[_(s,{type:"primary",onClick:$},{default:x((()=>[h(g(e.$t("Site.Cert.index_60")),1)])),_:1})])])}}}),M={class:"w-300px"},N=u({__name:"DefaultSite",setup(e,{expose:a}){const{t:l}=r(),t=p(null),{loading:o,setLoading:u}=b(),d=w({name:"0"}),f=p([]),y=async()=>{try{u(!0);const{message:e}=await R();if(k(e)){const{sites:a,defaultSite:l}=e;f.value=$(a)?a.map((e=>({label:e.name,value:e.name}))):[],U(),d.name=C(l)?l:"0"}}finally{u(!1)}},U=()=>{f.value.unshift({label:l("Site.PHP.index_58"),value:"0"})},E=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await D(S(d))};return U(),y(),a({init:y}),(e,a)=>{const l=i,u=s,r=j,p=n,y=H;return v(),m("div",null,[_(r,{ref_key:"formRef",ref:t,model:c(d)},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_11")},{default:x((()=>[P("div",M,[_(l,{value:c(d).name,"onUpdate:value":a[0]||(a[0]=e=>c(d).name=e),class:"name-select",loading:c(o),options:c(f)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{type:"primary",onClick:E},{default:x((()=>[h(g(e.$t("Public.Btn.Save")),1)])),_:1}),_(y,{class:"mt-20px"},{default:x((()=>[P("li",null,g(e.$t("Site.PHP.index_56")),1),P("li",null,g(e.$t("Site.PHP.index_57")),1)])),_:1})])}}}),X={class:"w-300px"},z=u({__name:"PhpVersion",setup(e,{expose:a}){const{t:l}=r(),t=p(null),{loading:o,setLoading:u}=b(),d=w({php_version:null}),f={php_version:{required:!0,message:l("Site.PHP.index_67"),trigger:"change"}},y=p([]),S=async()=>{try{u(!0);const{message:e}=await E();if(k(e)){const a=$(e.versions)?e.versions:[];y.value=a.map((e=>({label:e.name,value:e.version}))),k(e.select)&&(d.php_version="".concat(e.select.version))}}finally{u(!1)}},C=async()=>{var e;await(null==(e=t.value)?void 0:e.validate());const a=(()=>{const e=d.php_version;if(null===e)throw U.error(l("Site.PHP.index_67")),new Error(l("Site.PHP.index_67"));return{php_version:e}})();await L(a)};return S(),a({init:S}),(e,a)=>{const l=i,u=s,r=j,p=n,w=H;return v(),m("div",null,[_(r,{ref_key:"formRef",ref:t,model:c(d),rules:f},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:x((()=>[P("div",X,[_(l,{value:c(d).php_version,"onUpdate:value":a[0]||(a[0]=e=>c(d).php_version=e),class:"php-version-select",loading:c(o),options:c(y)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{type:"primary",onClick:C},{default:x((()=>[h(g(e.$t("Public.Btn.Save")),1)])),_:1}),_(w,{class:"mt-20px"},{default:x((()=>[P("li",null,g(e.$t("Site.PHP.index_68")),1),P("li",null,g(e.$t("Site.PHP.index_69")),1)])),_:1})])}}}),A={class:"w-300px"},G=u({__name:"Https",setup(e,{expose:a}){const{loading:l,setLoading:t}=b(),n=w({value:!1}),i=async()=>{try{t(!0),await V()}catch(e){n.value=!n.value}finally{t(!1)}},u=async()=>{try{t(!0);const{message:e}=await B();k(e)&&(n.value=e.result)}finally{t(!1)}};return u(),a({init:u}),(e,a)=>{const t=o,u=s,r=j,p=H;return v(),m("div",null,[_(r,{model:c(n)},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_86")},{default:x((()=>[P("div",A,[_(t,{value:c(n).value,"onUpdate:value":[a[0]||(a[0]=e=>c(n).value=e),i],loading:c(l)},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{class:"mt-8px"},{default:x((()=>[P("li",null,g(e.$t("Site.PHP.index_87")),1),P("li",null,g(e.$t("Site.PHP.index_88")),1)])),_:1})])}}}),I={class:"h-full"},J=u({__name:"index",props:{menu:{type:String,default:"default-page"}},setup(a){const{t:l}=r(),t=p(a.menu),n=[{key:"default-page",label:l("Site.PHP.index_5"),component:q},{key:"default-site",label:l("Site.PHP.index_6"),component:N},{key:"php-version",label:l("Site.PHP.index_7"),component:z},{key:"https",label:l("Site.PHP.index_86"),component:G}];return(a,l)=>{const i=e;return v(),m("div",I,[_(i,{value:c(t),"onUpdate:value":l[0]||(l[0]=e=>f(t)?t.value=e:null),data:n},null,8,["value"])])}}});export{J as default};
