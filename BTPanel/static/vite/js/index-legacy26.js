System.register(["./page_layout-legacy.js?v=1767769852656","./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1767769852656","./index-legacy133.js?v=1767769852656","./index-legacy134.js?v=1767769852656","./hooks-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1767769852656","./php-legacy.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./index-legacy135.js?v=1767769852656"],function(e,a){"use strict";var t,n,l,s,i,o,d,c,u,p,_,r,y,g,m,b,h,k,x,f,w,v,j,D,C,q,R,U,$,S,P,B,W,I,z,L,O,A,K,V,H,N,E,F,G,J,M,Q,T,X,Y,Z,ee,ae,te,ne;return{setters:[e=>{t=e.i,n=e.o,l=e.aO,s=e.aR,i=e.aS,o=e.aV,d=e.d,c=e.x,u=e.y,p=e.q,_=e.a,r=e.aU},e=>{y=e._},e=>{g=e._},e=>{m=e._},e=>{b=e._},e=>{h=e.s,k=e.e,x=e.c,f=e.v,w=e.f,v=e.a,j=e.d,D=e.h},e=>{C=e._},e=>{q=e._},e=>{R=e.u,U=e.a,$=e.b,S=e.c,P=e.h,B=e._,W=e.d,I=e.e,z=e.f,L=e.g},e=>{O=e.g},e=>{A=e.W,K=e.j,V=e.u,H=e.k,N=e.P,E=e.e,F=e.w,G=e.a2,J=e.V,M=e.a3,Q=e.S,T=e.U,X=e.ak,Y=e.an,Z=e.a4,ee=e._,ae=e.N},e=>{te=e.dS,ne=e.aC},null,null,null,null,null,null,null],execute:function(){const{t:le}=t.global;function se(){return{key:"password",title:le("Database.index_14"),minWidth:150,render:e=>A(h,{value:e.password},null)}}function ie(){return{key:"backup_count",title:le("Database.index_16"),width:"12%",render:e=>{let a;return A("div",{class:"flex items-center"},[A(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{R(e)}},{default:()=>[e.backup_count>0?`${le("Database.mongo.index_7")}(${e.backup_count})`:le("Database.index_18")]}),A("span",{class:"mx-4px"},[K("|")]),A(n,{onClick:()=>{U(e,"pgsql")}},(t=a=le("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!V(t)?a:{default:()=>[a]}))]);var t}}}function oe(){return{key:"sid",title:le("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>O(e)}}const de={class:"p-16px"};e("default",H({__name:"index",setup(e){const t=ee(()=>_(()=>a.import("./index-legacy162.js?v=1767769852656"),void 0)),{t:n}=N(),h=l(),R=k(),U=()=>{R.show=!0},O=()=>{z()},V=()=>{L()},H=async()=>{await i(h.type,{ids:[]}),ge()},le=E({p:1,limit:10,sid:-1,search:""}),{keys:ce,table:ue,columns:pe}=x([{type:"selection",width:40},{key:"name",title:n("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:n("Database.index_13"),width:"12%",minWidth:120},se(),ie(),oe(),f({onBlur:async(e,a)=>{await r({id:a.id,ps:e})}}),w({width:220,options:e=>[{label:"Adminer",show:0===e.db_type,onClick:()=>{me(e)}},{label:"Password",onClick:()=>{$(e)}},{label:n("Public.Btn.Del"),onClick:()=>{S([e])}}]})]),_e=[{key:"sync",label:n("Database.index_24"),onBatch:e=>{v({title:n("Database.index_25"),content:n("Database.index_26"),onConfirm:async({hide:a})=>{await i(h.type,{ids:e.map(e=>e.id)}),a()}})}},{key:"backup",type:"confirm",label:n("Database.index_27"),confirm:{title:n("Database.index_28"),desc:n("Database.index_29"),api:e=>s(h.type,{id:e.id},!1),done:()=>{ge()},columns:[{key:"name",title:n("Database.index_12")}]}},{key:"delete",label:n("Database.index_30"),onBatch:e=>{S(e)}}],{loading:re,setLoading:ye}=j(),ge=async()=>{try{ye(!0);const{message:e}=await o(h.type,(()=>{const e={...ae(le)};return-1===e.sid&&delete e.sid,e})());d(e)?(ue.data=c(e.data)?e.data:[],ue.total=u(e.page)):(ue.data=[],ue.total=0)}finally{ce.value=[],ye(!1)}};F(()=>h.isRefresh,e=>{e&&(h.setRefresh(!1),h.delRemoteId===le.sid&&(le.sid=-1),ge())});const me=e=>{P(e?{type:"pgsql",username:e.username,password:e.password,db:e.name}:{type:"pgsql"})};return(async()=>{await h.getConfig(),await h.getRemote(),h.isInstallPgsql&&ge()})(),(e,a)=>{const n=ne,l=p,s=q,i=C,o=D,d=b,c=m,u=g,_=y,r=te;return J(),G(T(I),null,{default:M(()=>[A(r,null,{default:M(()=>[Q("div",de,[A(u,{feedback:!0},{toolsLeft:M(()=>[A(n,{type:"primary",onClick:U},{default:M(()=>[K(Z(e.$t("Database.index_1")),1)]),_:1}),A(n,{onClick:O},{default:M(()=>[K(Z(e.$t("Database.index_2")),1)]),_:1}),A(n,{onClick:a[0]||(a[0]=e=>me())},{default:M(()=>a[8]||(a[8]=[K(" Adminer ",-1)])),_:1,__:[8]}),A(n,{onClick:V},{default:M(()=>[K(Z(e.$t("Database.index_4")),1)]),_:1}),A(l,{class:"mx-0!",vertical:""}),A(n,{onClick:H},{default:M(()=>[K(Z(e.$t("Database.index_5")),1)]),_:1}),A(n,{onClick:T(W)},{default:M(()=>[K(Z(e.$t("Database.index_6")),1)]),_:1},8,["onClick"]),T(h).isInstallPgsql?(J(),G(s,{key:0,"soft-name":"pgsql","open-soft":"pgsql_manager"})):Y("",!0)]),toolsRight:M(()=>[A(T(B),{value:T(le).sid,"onUpdate:value":a[1]||(a[1]=e=>T(le).sid=e),"store-key":"database-pgsql-page",onChange:ge},null,8,["value"]),A(i,{value:T(le).search,"onUpdate:value":a[2]||(a[2]=e=>T(le).search=e),placeholder:"Database search",onSearch:ge},null,8,["value"])]),table:M(()=>[A(o,{"checked-row-keys":T(ce),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>X(ce)?ce.value=e:null),loading:T(re),data:T(ue).data,columns:T(pe)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:M(()=>[A(d,{"checked-row-keys":T(ce),"onUpdate:checkedRowKeys":a[4]||(a[4]=e=>X(ce)?ce.value=e:null),data:T(ue).data,options:_e},null,8,["checked-row-keys","data"])]),pageRight:M(()=>[A(c,{page:T(le).p,"onUpdate:page":a[5]||(a[5]=e=>T(le).p=e),"page-size":T(le).limit,"onUpdate:pageSize":a[6]||(a[6]=e=>T(le).limit=e),"store-key":"database-pgsql-page","item-count":T(ue).total,onRefresh:ge},null,8,["page","page-size","item-count"])]),_:1}),A(_,{show:T(R).show,"onUpdate:show":a[7]||(a[7]=e=>T(R).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:T(t)},null,8,["show","title","component"])])]),_:1})]),_:1})}}}))}}});
