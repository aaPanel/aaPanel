const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/set.js?v=1763625242172","js/index.js?v=1763625242172","js/vue.js?v=1763625242172","js/__commonjsHelpers__.js?v=1763625242172","js/common.js?v=1763625242172","js/public.js?v=1763625242172","js/page_layout.js?v=1763625242172","js/naive.js?v=1763625242172","css/page_layout.css?v=1763625242172","css/public.css?v=1763625242172","css/index110.css?v=1763625242172","js/index.vue_vue_type_script_setup_true_lang.js?v=1763625242172"])))=>i.map(i=>d[i]);
import{_ as e}from"./index.js?v=1763625242172";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1763625242172";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1763625242172";import{d as o,e as l,_ as n,b as u,h as s}from"./public.js?v=1763625242172";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1763625242172";import{g as i}from"./mail.js?v=1763625242172";import{a as d,a5 as p,x as r,a6 as _,a7 as m,a8 as v,a9 as f,c as g,p as h}from"./page_layout.js?v=1763625242172";import{k as x,P as A,ah as b,r as k,R as y,S as w,X as j,a3 as F,j as U,a4 as C,V as H,aj as P,_ as D,a0 as S,U as $,l as R,v as E,a2 as M,an as L,c as V}from"./vue.js?v=1763625242172";import{u as z,a as I}from"./accountState.js?v=1763625242172";import{aC as q,dV as O,dT as T,dU as W,dP as N,di as X,dW as Y,dS as B}from"./naive.js?v=1763625242172";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1763625242172";import{a as J}from"./quota.js?v=1763625242172";import"./common.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import"./index98.js?v=1763625242172";const K={class:"w-160px"},Q=x({__name:"index",props:{value:{default:null}},setup(a){const{t:t}=A(),n=D((()=>d((()=>import("./set.js?v=1763625242172")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),u=b(a,"value"),{loading:s,setLoading:c}=o(),i=k([]),_=l("category manager",{setOptions:(e,a)=>{a===u.value&&(u.value=-1),i.value=e.map((e=>({label:e.name,value:e.type_id}))),v()}}),m=()=>{_.show=!0},v=()=>{i.value.unshift({label:t("Site.PHP.index_45"),value:-1})};return v(),(async()=>{try{c(!0);const{message:e}=await p();r(e)?i.value=e.map((e=>({label:e.name,value:e.type_id}))):i.value=[],v()}finally{c(!1)}})(),(a,t)=>{const o=q,l=O,c=e;return y(),w("div",K,[j(l,{value:H(u),"onUpdate:value":t[0]||(t[0]=e=>P(u)?u.value=e:null),loading:H(s),options:H(i)},{action:F((()=>[j(o,{block:"",onClick:m},{default:F((()=>[U(C(a.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},8,["value","loading","options"]),j(c,{show:H(_).show,"onUpdate:show":t[1]||(t[1]=e=>H(_).show=e),width:350,title:H(_).title,data:H(_).data,component:H(n)},null,8,["show","title","data","component"])])}}}),Z={class:"p-10"},ee={class:"flex items-center"},ae={class:"bt-link ml-5"},te=x({__name:"AccountForm",setup(e){const{t:a}=A(),t=z().initAccountForm(),o=z().initDomainForm(),{accountFormRef:l,accountDomainFormRef:u,expendFormState:s,packageList:c,diskMountPointList:i,diskMountSourceList:d,currentChangeDisk:p,wpForData:r,acForData:g,isEdit:h}=S(z()),{changePackage:x}=I(),b=[{key:"header",type:"render",render:()=>j(v,{labelPlacement:"left",size:"small",bordered:!0,column:1},{default:()=>[j(m,{label:a("Account.Account.FormHooks-122755-13")},{default:()=>[r.value.package_name]}),j(m,{label:a("Account.Account.FormHooks-122755-14")},{default:()=>[r.value.remark]}),j(m,{label:a("Account.Account.FormHooks-122755-15")},{default:()=>[r.value.disk_space_quota.unlimited?j("img",{class:"icon",title:"",src:J},null):r.value.disk_space_quota.value]}),j(m,{label:a("Account.Account.FormHooks-122755-16")},{default:()=>[r.value.monthly_bandwidth_limit?j("img",{class:"icon",title:"",src:J},null):r.value.monthly_bandwidth_limit]}),j(m,{label:a("Account.Account.FormHooks-122755-17")},{default:()=>[r.value.max_site_limit.unlimited?j("img",{class:"icon",title:"",src:J},null):r.value.max_site_limit.value]}),j(m,{label:a("Account.Account.FormHooks-122755-18")},{default:()=>[r.value.php_start_children]}),j(m,{label:a("Account.Account.FormHooks-122755-19")},{default:()=>[r.value.php_max_children]}),j(m,{label:a("Account.Account.FormHooks-122755-21")},{default:()=>[r.value.max_database.unlimited?j("img",{class:"icon",title:"",src:J},null):r.value.max_database.value]})]})}],D=new Date;D.setDate(D.getDate()+30);const V="".concat(D.getFullYear(),"-").concat(D.getMonth()+1>9?D.getMonth()+1:"0"+(D.getMonth()+1),"-").concat(D.getDate()>9?D.getDate():"0"+D.getDate()),q=k("permanent"),B=k(V),K=()=>{"custom"===q.value?(B.value=V,g.value.expire_date=V):(B.value=null,g.value.expire_date="0000-00-00")},Q=e=>{g.value.expire_date=f(Number(e),"yyyy-MM-dd")},te=e=>{p.value=d.value.find((a=>a.mountpoint===e))};return"0000-00-00"===g.value.expire_date||void 0===g.value.expire_date?q.value="permanent":(q.value="custom",B.value=g.value.expire_date),(e,a)=>{const d=n;return y(),w("div",Z,[j(H(o),{ref_key:"accountDomainFormRef",ref:u,isEdit:H(h)},null,8,["isEdit"]),j(H(t),{ref_key:"accountFormRef",ref:l,isEdit:H(h)},{password:F((()=>[j(G,{value:H(g).password,"onUpdate:value":a[0]||(a[0]=e=>H(g).password=e),default:!H(h),placeholder:"","input-props":{name:"password"}},null,8,["value","default"])])),expire_date:F((()=>[$("div",null,[j(H(T),{value:H(q),"onUpdate:value":a[1]||(a[1]=e=>P(q)?q.value=e:null),onChange:K,style:{margin:"10px 0"}},{default:F((()=>[j(H(W),{value:"permanent"},{default:F((()=>[U(C(e.$t("Account.Account.account_index_10")),1)])),_:1}),j(H(W),{value:"custom"},{default:F((()=>[U(C(e.$t("Account.Account.account_index_11")),1)])),_:1})])),_:1},8,["value"]),R(j(H(_),{"formatted-value":H(B),"onUpdate:formattedValue":a[2]||(a[2]=e=>P(B)?B.value=e:null),type:"date","onUpdate:value":Q},null,8,["formatted-value"]),[[E,"custom"===H(q)]])])])),_:1},8,["isEdit"]),j(H(Y),{"label-placement":"left","label-width":"130px"},{default:F((()=>[j(H(N),{label:e.$t("Account.Account.account_index_6")},{default:F((()=>[$("div",ee,[j(H(O),{value:H(s).package_id,"onUpdate:value":a[3]||(a[3]=e=>H(s).package_id=e),class:"w-20rem",options:H(c),onUpdateValue:H(x)},null,8,["value","options","onUpdateValue"]),j(H(X),{trigger:"hover",placement:"right",options:b},{default:F((()=>[$("div",ae,C(e.$t("Account.Account.account_index_9")),1)])),_:1})])])),_:1},8,["label"]),H(h)?L("",!0):(y(),M(H(N),{key:0,label:e.$t("Account.Account.FormHooks-122755-32")},{default:F((()=>[j(H(O),{value:H(s).mountpoint,"onUpdate:value":a[4]||(a[4]=e=>H(s).mountpoint=e),options:H(i),onChange:te},null,8,["value","options"])])),_:1},8,["label"]))])),_:1}),j(d,null,{default:F((()=>a[5]||(a[5]=[$("li",null," Automaticï¼šIf the API is not open or 127.0.0.1 is not added to the API whitelist, it will not be possible to deploy web certificates and add post office domain names and deploy post office domain name certificates ",-1)]))),_:1,__:[5]})])}}}),oe={class:"mr-8px"},le=h(x({__name:"index",setup(l){const{t:n}=A(),{init:d,loading:p,addHost:r,form_save:_,form_reset:m}=I(),{table:v,search:f,columns:h,addVisible:x,isEdit:b,account_total:D}=S(z());d();const R=V((()=>{const e=b.value?n("Account.Package.packageState-592272-13"):n("Account.Package.packageState-592272-12");return n("Account.Account.FormHooks-122755-31",[e])})),E=k([]),M=(e,a)=>{const t={source:310,plugin:{name:n("Home.index_2"),pid:e,type:100,plugin:!0,renew:0,num:a.num,title:n("Account.Account.account_533924-10"),ps:a.ps}};u(t)},{loading:L,setLoading:O}=o(),T=async()=>{try{O(!0);const{message:e}=await i({expand_pack_type:"account"});g(e)&&(E.value=e.prices.map((e=>({label:"$".concat(e.children[0].children[0].price," - ").concat(e.product_name),key:e.product_id,ps:e.product_description,num:e.expand_num,props:{title:e.product_description.replace(/<p[^>]*>(.*?)<\/p>/gi,"$1")}}))),E.value.unshift({label:n("Mail.Overview.today_14"),disabled:!0}))}finally{O(!1)}};return(o,l)=>{const u=q,i=X,g=c,A=s,b=t,k=a,S=B,V=e;return y(),w("div",null,[j(S,{class:"p-16px mb-16px"},{default:F((()=>[j(k,{feedback:!0,email:!0},{toolsLeft:F((()=>[j(u,{onClick:H(r),type:"primary"},{default:F((()=>[U(C(o.$t("Account.Account.account_index_1")),1)])),_:1},8,["onClick"])])),toolsRight:F((()=>[$("div",oe,[$("span",null,C(o.$t("Account.Account.account_533924-8")),1),$("span",null,C(H(v).total)+" / "+C(H(D)),1),j(i,{size:"large",trigger:"click",options:H(E),onSelect:M},{default:F((()=>[j(u,{class:"button ml-10px",loading:H(L),onClick:T},{default:F((()=>[U(C(H(n)("WP.Config.index_2")),1)])),_:1},8,["loading"])])),_:1},8,["options"])]),j(Q,{value:H(f).type_id,"onUpdate:value":[l[0]||(l[0]=e=>H(f).type_id=e),H(d)]},null,8,["value","onUpdate:value"]),j(g,{value:H(f).search_value,"onUpdate:value":l[1]||(l[1]=e=>H(f).search_value=e),placeholder:o.$t("Account.Account.account_index_2"),onSearch:H(d)},null,8,["value","placeholder","onSearch"])])),table:F((()=>[j(A,{"max-height":800,loading:H(p),data:H(v).data,columns:H(h)},null,8,["loading","data","columns"])])),pageRight:F((()=>[j(b,{page:H(f).p,"onUpdate:page":l[2]||(l[2]=e=>H(f).p=e),"page-size":H(f).rows,"onUpdate:pageSize":l[3]||(l[3]=e=>H(f).rows=e),"item-count":H(v).total,onRefresh:H(d)},null,8,["page","page-size","item-count","onRefresh"])])),_:1})])),_:1}),j(V,{show:H(x),"onUpdate:show":l[4]||(l[4]=e=>P(x)?x.value=e:null),title:H(R),width:700,footer:!0,component:te,onConfirm:H(_),onCancel:H(m),onClose:H(m)},null,8,["show","title","onConfirm","onCancel","onClose"])])}}}),[["__scopeId","data-v-f0eea4fc"]]);export{le as default};
