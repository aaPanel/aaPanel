System.register(["./page_layout-legacy.js?v=1764233927359","./index-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1764233927359","./public-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1764233927359","./planned-legacy.js?v=1764233927359","./vue-legacy.js?v=1764233927359","./naive-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1764233927359","./index-legacy99.js?v=1764233927359","./utils-legacy2.js?v=1764233927359","./common-legacy.js?v=1764233927359","./__commonjsHelpers__-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1764233927359","./index-legacy98.js?v=1764233927359","./compiler-legacy.js?v=1764233927359"],function(e,a){"use strict";var l,n,t,d,o,i,u,s,r,p,c,_,b,v,y,m,h,x,w,g,f,C,k,P,$,U,S,N,T,j,L,B,q,V,E,I,A,R,H,W,z,O,D,J,K,F,M,Z,G,Q,X,Y,ee,ae,le,ne,te,de,oe,ie,ue,se,re,pe,ce,_e,be,ve,ye,me,he,xe,we,ge,fe,Ce,ke,Pe,$e,Ue,Se,Ne,Te,je,Le,Be,qe;return{setters:[e=>{l=e.o,n=e.i,t=e.a,d=e.x,o=e.p,i=e.bl,u=e.T,s=e.bm,r=e.m},e=>{p=e._},e=>{c=e._},e=>{_=e._},e=>{b=e.r,v=e.u,y=e.a,m=e.d,h=e.e,x=e._,w=e.c,g=e.f,f=e.h},e=>{C=e._},e=>{k=e.s,P=e.g,$=e.e,U=e.a,S=e.b,N=e.d,T=e.c,j=e.f},e=>{L=e.W,B=e.j,q=e._,V=e.r,E=e.k,I=e.P,A=e.ah,R=e.R,H=e.V,W=e.a3,z=e.a4,O=e.U,D=e.ak,J=e.ae,K=e.a2,F=e.an,M=e.S,Z=e.e,G=e.w,Q=e.N},e=>{X=e.da,Y=e._,ee=e.aC,ae=e.dV,le=e.dR,ne=e.av,te=e.df,de=e.dZ,oe=e.au,ie=e.dk,ue=e.dS},e=>{se=e._},e=>{re=e._},e=>{pe=e._},e=>{ce=e.t,_e=e.w,be=e.u,ve=e.r,ye=e.a,me=e.b,he=e.c,xe=e.d,we=e.e,ge=e.m,fe=e.s,Ce=e.f,ke=e.g,Pe=e.h,$e=e.p,Ue=e.i,Se=e.o,Ne=e.j,Te=e.k,je=e.l,Le=e.n,Be=e.q,qe=e.v},null,null,null,null,null],execute:function(){var Ve=document.createElement("style");Ve.textContent=".second[data-v-d96e3c07] .n-form-item-feedback--error{position:absolute}\n/*$vite$:1*/",document.head.appendChild(Ve);const{t:Ee}=n.global,Ie=e=>L(b,{onClick:a=>{const l=V(!1);y({title:Ee("Crontab.Planned.index_7"),content:()=>L("div",null,[1==e.row.status?L("div",null,[L("span",null,[Ee("Crontab.Planned.index_79")]),L(X,{class:"items-center mt-8px"},{default:()=>[L(Y,{checked:l.value,"on-update:checked":e=>{l.value=e}},null),Ee("Crontab.Planned.index_80")]})]):"",0==e.row.status?L("div",null,[Ee("Crontab.Planned.index_81")]):""]),onConfirm:async()=>{await k({id:e.row.id,if_stop:l.value}),e.row.status=a}})},value:e.row.status.toString()},null),Ae=e=>{const{row:n}=e;return L("div",null,["logs"==n.sType?L("span",null,[n.save]):"","logs"!==n.sType?L("div",null,[n.save?"":L("span",null,[B("--")]),n.save>0?L(l,{type:n.save>0?"primary":"warning",onClick:()=>{v({title:`${Ee("Crontab.Script.index_35")} [${n.name}]`,width:800,minHeight:200,data:{row:n},component:q(()=>t(()=>a.import("./index-legacy114.js?v=1764233927359"),void 0))})}},{default:()=>[n.save]}):""]):""])},Re={class:"w-160px"},He=E({__name:"index",props:{value:{default:null}},setup(e){const{t:l}=I(),n=q(()=>t(()=>a.import("./set-legacy2.js?v=1764233927359"),void 0)),o=A(e,"value"),{loading:i,setLoading:u}=m(),s=V([]),r=h(l("Crontab.Planned.index_29"),{setOptions:(e,a)=>{a===o.value&&(o.value="-1"),s.value=e.map(e=>({label:e.name,value:e.id})),_()}}),c=()=>{r.show=!0},_=()=>{s.value.unshift({label:l("Site.PHP.index_45"),value:""},{label:l("Crontab.Planned.index_82"),value:"-1"},{label:l("Crontab.Planned.index_83"),value:"0"})};return _(),(async()=>{try{u(!0);const{message:e}=await P();d(e)?s.value=e.map(e=>({label:e.name,value:e.id})):s.value=[],_()}finally{u(!1)}})(),(e,a)=>{const l=ee,t=ae,d=p;return H(),R("div",Re,[L(t,{value:O(o),"onUpdate:value":a[0]||(a[0]=e=>D(o)?o.value=e:null),loading:O(i),options:O(s)},{action:W(()=>[L(l,{block:"",onClick:c},{default:W(()=>[B(z(e.$t("Site.PHP.index_43")),1)]),_:1})]),_:1},8,["value","loading","options"]),L(d,{show:O(r).show,"onUpdate:show":a[1]||(a[1]=e=>O(r).show=e),width:350,title:O(r).title,data:O(r).data,component:O(n)},null,8,["show","title","data","component"])])}}}),{t:We}=n.global,ze={name:{required:!0,trigger:["blur","input"],message:We("Crontab.Planned.index_49")},sName:{required:!0,trigger:["blur","input"],message:We("Security.Conf.Index_28")},day:{trigger:["blur","input"],validator:(e,a)=>!(a>=32||a<1||""==a)||new Error(`${We("Site.Placeholder.Index_10")} 1-31`)},hour:{trigger:["blur","input"],validator:(e,a)=>!(a>=24||a<0||null==a)||new Error(`${We("Site.Placeholder.Index_10")} 0-23`)},second:{required:!0,trigger:["blur","input"],validator:(e,a)=>!(a>=60||a<1||""==a)||new Error(`${We("Site.Placeholder.Index_10")} 1-59`)},sBody:{required:!0,trigger:["blur","input"],message:We("Crontab.Planned.index_50")},save:{trigger:["blur","input"],validator:(e,a)=>!(a<=0||""==a)||new Error(We("Crontab.Planned.index_51"))},url:{required:!0,trigger:["blur","input"],message:We("Crontab.Planned.index_53")},splitValue:{trigger:["blur","input"],required:!0,type:"number",message:We("Site.Placeholder.Index_10")}},Oe={class:"mt-8px"},De=o(E({__name:"time-select",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=J(e,"modelValue");return(e,l)=>{const n=ae,t=le,d=te,o=de,i=ne,u=X;return H(),K(u,null,{default:W(()=>[L(t,{label:e.$t("Crontab.Planned.index_9")},{default:W(()=>[L(n,{class:"w-105px!",value:a.value.time,"onUpdate:value":l[0]||(l[0]=e=>a.value.time=e),options:O(ce)},null,8,["value","options"])]),_:1},8,["label"]),"day-n"==a.value.time||"month"==a.value.time?(H(),K(t,{key:0,path:"day"},{default:W(()=>[L(i,{class:"w-100px!"},{default:W(()=>[L(d,{value:a.value.day,"onUpdate:value":l[1]||(l[1]=e=>a.value.day=e),"show-button":!1,placeholder:""},null,8,["value"]),L(o,null,{default:W(()=>[B(z(e.$t("Crontab.arrange.index_41")),1)]),_:1})]),_:1})]),_:1})):F("",!0),"week"==a.value.time?(H(),K(t,{key:1,path:"week"},{default:W(()=>[L(n,{class:"w-100px!",value:a.value.week,"onUpdate:value":l[2]||(l[2]=e=>a.value.week=e),options:O(_e)},null,8,["value","options"])]),_:1})):F("",!0),"hour"!==a.value.time&&"minute-n"!==a.value.time&&"second-n"!==a.value.time?(H(),K(t,{key:2,path:"hour"},{default:W(()=>[L(i,null,{default:W(()=>[L(d,{value:a.value.hour,"onUpdate:value":l[3]||(l[3]=e=>a.value.hour=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"hour"}},null,8,["value"]),L(o,null,{default:W(()=>[B(z(e.$t("Crontab.arrange.index_43")),1)]),_:1})]),_:1})]),_:1})):F("",!0),"second-n"!==a.value.time?(H(),K(t,{key:3,path:"minute",class:"second"},{default:W(()=>[L(i,null,{default:W(()=>[L(d,{value:a.value.minute,"onUpdate:value":l[4]||(l[4]=e=>a.value.minute=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"minute"}},null,8,["value"]),L(o,null,{default:W(()=>[B(z(e.$t("Crontab.arrange.index_44")),1)]),_:1})]),_:1})]),_:1})):F("",!0),"second-n"==a.value.time?(H(),K(t,{key:4,path:"second"},{default:W(()=>[L(i,null,{default:W(()=>[L(d,{value:a.value.second,"onUpdate:value":l[5]||(l[5]=e=>a.value.second=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"second"}},null,8,["value"]),L(o,null,{default:W(()=>[B(z(e.$t("Waf.Setting.config_53")),1)]),_:1})]),_:1})]),_:1})):F("",!0),M("span",Oe,z(O(be)(a.value)),1)]),_:1})}}}),[["__scopeId","data-v-d96e3c07"]]),Je={class:"p-20px"},Ke={class:"w-250px"},Fe={class:"w-350px"},Me={class:"w-250px"},Ze={class:"w-550px"},Ge={key:2},Qe={key:0,class:"ml-126px mb-8px mt--10px"},Xe={key:0},Ye={class:"mr-10px"},ea={class:"mr-10px text-nowrap"},aa={key:1},la={class:"ml-8px color-#ef0808"},na=E({__name:"index",props:{data:{}},setup(e,{expose:a}){const l=e,{getList:n,isEdit:t,row:d}=l.data,{t:o}=I(),s=V(null),r=Z({type:"toShell",name:"",get newName(){return`${p.value}${p.value?c.value?c.value:"[ALL]":""}${"database"!=this.type||t?"":`--${this.databaseType}`}`},time:"day",day:1,week:"1",hour:1,minute:30,second:5,user:"root",sBody:"",reminder:"0",message:"ALL",sName:"ALL",backupTo:"localhost",save:3,databaseType:"mysql",zip:"",url:"http://",agent:"",dbBackupPath:"/www/backup",id:0,region:"Asia",splitType:"",splitValue:3,backup:!0}),p=V(""),c=V(""),_=(e,a)=>{c.value=`[${a.label}]`},b=e=>{c.value=`[${e}]`},v=e=>{c.value=`[${e}]`},y=e=>{r.region=Te(e),r.sName=e,c.value=`[${Te(e)} / ${e}]`},h={...ze,minute:{required:!0,trigger:["blur","input"],validator:(e,a)=>a>=60||a<0||null==a?new Error(`${o("Site.Placeholder.Index_10")} 0-59`):"hour-n"!=r.time||0!=a||0!=r.hour||new Error(o("Crontab.Script.index_60"))}},w=async()=>{await je(r.databaseType),r.sName="ALL",c.value=""},g=e=>{s.value?.restoreValidation(),r.sName="sync_time"===e?"Aqtau":"path"===e?"/www/wwwroot":"ALL",r.url="webshell"===e?"ALL":"http://",r.save="logs"===e?180:3,r.time="day",w(),Le(e);const a=ye.find(a=>a.value===e);p.value=a&&"toShell"!==r.type?a.label:"",c.value={path:"[/www/wwwroot]",toUrl:"[http://]",sync_time:"[Asia / Aqtau]",rememory:" "}[r.type]||""};G(()=>r.newName,e=>r.name=e),a({onConfirm:async({hide:e})=>{await(s.value?.validate()),t?await $(Q(Be(r))):await U(Q(Be(r))),n?.(),e()}});const{loading:f,setLoading:C}=m();return(async()=>{try{C(!0),await Le(t?d.sType:"toShell"),t&&d&&(r.type=d.sType,r.name=d.name,r.time=d.type,r.day=Number(d.where1),r.week=d.where1,r.hour=d.where_hour,r.minute=d.where_minute?d.where_minute:Number(d.where1),r.second=Number(d.second),r.user=d.user,r.sBody=d.sBody,r.reminder=d.notice.toString(),r.message=d.notice_channel,r.sName=d.sName,r.backupTo=qe(d.backupTo),r.databaseType=d.db_type,r.save=Number(d.save),r.url=d.urladdress,r.agent=d.user_agent,r.dbBackupPath=d.db_backup_path,r.id=d.id,r.splitType=d.split_type,r.splitValue=Number(d.split_value),r.backup=!!d.save_local)}finally{C(!1)}})(),(e,a)=>{const l=ae,n=le,d=oe,o=pe,p=X,c=re,m=te,C=de,k=ne,P=Y,$=i,U=ee,S=se,N=u,T=ie,j=x;return H(),R("div",Je,[L(N,{show:O(f)},{default:W(()=>[L(S,{ref_key:"formRef",ref:s,model:O(r),rules:h},{default:W(()=>[L(n,{label:e.$t("Crontab.Planned.index_60")},{default:W(()=>[M("div",Ke,[L(l,{value:O(r).type,"onUpdate:value":[a[0]||(a[0]=e=>O(r).type=e),g],options:O(ye),disabled:O(t),"render-label":O(ve)},null,8,["value","options","disabled","render-label"])])]),_:1},8,["label"]),L(n,{label:e.$t("Crontab.Planned.index_61"),path:"name"},{default:W(()=>[M("div",Fe,[L(d,{value:O(r).name,"onUpdate:value":a[1]||(a[1]=e=>O(r).name=e),"input-props":{name:"name"},disabled:O(me)(O(r).type),placeholder:e.$t("Crontab.Planned.index_49")},null,8,["value","disabled","placeholder"])])]),_:1},8,["label"]),L(De,{modelValue:O(r),"onUpdate:modelValue":a[2]||(a[2]=e=>D(r)?r.value=e:null)},null,8,["modelValue"]),"toShell"==O(r).type?(H(),K(n,{key:0,label:e.$t("Crontab.Planned.index_62")},{default:W(()=>[M("div",Me,[L(l,{value:O(r).user,"onUpdate:value":a[3]||(a[3]=e=>O(r).user=e),options:O(he)},null,8,["value","options"])])]),_:1},8,["label"])):F("",!0),"toShell"==O(r).type?(H(),K(n,{key:1,label:e.$t("Crontab.Planned.index_63"),path:"sBody"},{default:W(()=>[M("div",Ze,[L(o,{value:O(r).sBody,"onUpdate:value":a[4]||(a[4]=e=>O(r).sBody=e),rows:8,name:"sBody",placeholder:e.$t("Crontab.Planned.index_50")},null,8,["value","placeholder"])])]),_:1},8,["label"])):F("",!0),"site"==O(r).type||"database"==O(r).type||"enterpriseBackup"==O(r).type||"path"==O(r).type?(H(),R("div",Ge,[L(p,null,{default:W(()=>[L(n,{label:e.$t("Crontab.Planned.index_64")},{default:W(()=>[L(l,{class:"w-200px!",value:O(r).reminder,"onUpdate:value":a[5]||(a[5]=e=>O(r).reminder=e),options:O(xe)},null,8,["value","options"])]),_:1},8,["label"]),"1"==O(r).reminder?(H(),K(n,{key:0,label:e.$t("Crontab.Planned.index_65")},{default:W(()=>[L(l,{class:"w-200px!",value:O(r).message,"onUpdate:value":a[6]||(a[6]=e=>O(r).message=e),options:O(ge),"render-label":O(we)},null,8,["value","options","render-label"])]),_:1},8,["label"])):F("",!0)]),_:1}),"1"==O(r).reminder?(H(),R("div",Qe,z(e.$t("Crontab.Planned.index_66")),1)):F("",!0),L(p,null,{default:W(()=>["path"==O(r).type?(H(),K(n,{key:0,label:e.$t("Crontab.Planned.index_67"),path:"sName"},{default:W(()=>[L(c,{value:O(r).sName,"onUpdate:value":a[7]||(a[7]=e=>O(r).sName=e),disabled:O(t),onChange:b},null,8,["value","disabled"])]),_:1},8,["label"])):F("",!0),"path"!==O(r).type?(H(),K(n,{key:1,label:"site"==O(r).type?e.$t("Crontab.Planned.index_68"):e.$t("Crontab.Planned.index_69")},{default:W(()=>[L(p,null,{default:W(()=>["site"==O(r).type?(H(),K(l,{key:0,class:"w-200px!",value:O(r).sName,"onUpdate:value":[a[8]||(a[8]=e=>O(r).sName=e),_],disabled:O(t),filterable:"",options:O(fe)},null,8,["value","disabled","options"])):F("",!0),"database"==O(r).type?(H(),K(l,{key:1,class:"w-120px!",value:O(r).databaseType,"onUpdate:value":[a[9]||(a[9]=e=>O(r).databaseType=e),w],disabled:O(t),options:O(Ce)},null,8,["value","disabled","options"])):F("",!0),"database"==O(r).type||"enterpriseBackup"==O(r).type?(H(),K(p,{key:2,class:"items-center"},{default:W(()=>["database"==O(r).type?(H(),R("div",Xe,z(e.$t("Site.PHP.add_site_16")),1)):F("",!0),L(l,{class:"w-140px!",value:O(r).sName,"onUpdate:value":[a[10]||(a[10]=e=>O(r).sName=e),_],filterable:"",options:O(ke),disabled:O(t)},null,8,["value","options","disabled"])]),_:1})):F("",!0)]),_:1})]),_:1},8,["label"])):F("",!0),L(n,null,{default:W(()=>[M("span",Ye,z(e.$t("Crontab.Planned.index_11")),1),L(l,{class:"w-150px!",value:O(r).backupTo,"onUpdate:value":a[11]||(a[11]=e=>O(r).backupTo=e),options:O(Pe)},null,8,["value","options"])]),_:1}),L(n,{path:"save"},{default:W(()=>[M("span",ea,z(e.$t("Docker.Container.log.index_18")),1),L(k,null,{default:W(()=>[L(m,{class:"w-50px!",value:O(r).save,"onUpdate:value":a[12]||(a[12]=e=>O(r).save=e),"show-button":!1,placeholder:""},null,8,["value"]),L(C,null,{default:W(()=>[B(z(e.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1}),"localhost"!==O(r).backupTo?(H(),R("div",aa,[L(n,{label:e.$t("Crontab.Script.index_55")},{default:W(()=>[L(P,{checked:O(r).backup,"onUpdate:checked":a[13]||(a[13]=e=>O(r).backup=e)},{default:W(()=>[B(z(e.$t("Crontab.Script.index_56")),1)]),_:1},8,["checked"])]),_:1},8,["label"])])):F("",!0)])):F("",!0),"site"==O(r).type||"path"==O(r).type?(H(),K(n,{key:3,label:e.$t("Crontab.Planned.index_70"),path:"rules"},{default:W(()=>[L(d,{class:"w-550px!",autosize:{minRows:8},value:O(r).sBody,"onUpdate:value":a[14]||(a[14]=e=>O(r).sBody=e),type:"textarea",placeholder:O($e)},null,8,["value","placeholder"])]),_:1},8,["label"])):F("",!0),"enterpriseBackup"==O(r).type?(H(),K(n,{key:4,label:e.$t("Crontab.Planned.index_71")},{default:W(()=>[L(d,{class:"w-250px!",value:O(r).zip,"onUpdate:value":a[15]||(a[15]=e=>O(r).zip=e),type:"text",placeholder:e.$t("Crontab.Planned.index_72")},null,8,["value","placeholder"]),M("span",la," *"+z(e.$t("Crontab.Planned.index_73")),1)]),_:1},8,["label"])):F("",!0),"logs"==O(r).type?(H(),K(p,{key:5},{default:W(()=>[L(n,{label:e.$t("Crontab.Planned.index_74")},{default:W(()=>[L(l,{class:"w-150px!",value:O(r).sName,"onUpdate:value":[a[16]||(a[16]=e=>O(r).sName=e),_],options:O(fe),disabled:O(t)},null,8,["value","options","disabled"])]),_:1},8,["label"]),L(n,{path:"save"},{default:W(()=>[L(k,null,{default:W(()=>[L(m,{class:"w-50px!",value:O(r).save,"onUpdate:value":a[17]||(a[17]=e=>O(r).save=e),"show-button":!1,placeholder:""},null,8,["value"]),L(C,null,{default:W(()=>[B(z(e.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),"webshell"==O(r).type?(H(),K(n,{key:6,label:e.$t("Home.index_68")},{default:W(()=>[L(l,{class:"w-150px!",value:O(r).sName,"onUpdate:value":[a[18]||(a[18]=e=>O(r).sName=e),_],options:O(fe),disabled:O(t)},null,8,["value","options","disabled"])]),_:1},8,["label"])):F("",!0),"webshell"==O(r).type?(H(),K(n,{key:7,label:e.$t("Crontab.Planned.index_65")},{default:W(()=>[L(l,{class:"w-200px!",value:O(r).url,"onUpdate:value":a[19]||(a[19]=e=>O(r).url=e),options:O(ge),"render-label":O(we)},null,8,["value","options","render-label"])]),_:1},8,["label"])):F("",!0),"sync_time"==O(r).type?(H(),K(n,{key:8,label:e.$t("Crontab.Planned.index_75")},{default:W(()=>[L($,{class:"w-300px!",value:O(r).sName,"onUpdate:value":a[20]||(a[20]=e=>O(r).sName=e),options:O(Ue),"on-update:value":y,"check-strategy":"child"},null,8,["value","options"])]),_:1},8,["label"])):F("",!0),"toUrl"==O(r).type?(H(),K(p,{key:9},{default:W(()=>[L(n,{label:e.$t("Site.Proxy.index_11"),path:"url"},{default:W(()=>[L(d,{class:"w-350px!",value:O(r).url,"onUpdate:value":a[21]||(a[21]=e=>O(r).url=e),placeholder:"",onInput:v},null,8,["value"])]),_:1},8,["label"]),L(n,{path:"url"},{default:W(()=>[L(U,{onClick:a[22]||(a[22]=e=>O(Se)(O(r).url))},{default:W(()=>[B(z(e.$t("Crontab.Planned.index_84")),1)]),_:1})]),_:1})]),_:1})):F("",!0),"toUrl"==O(r).type?(H(),K(n,{key:10,label:e.$t("Crontab.Planned.index_76")},{default:W(()=>[L(d,{class:"w-350px!",type:"textarea",value:O(r).agent,"onUpdate:value":a[23]||(a[23]=e=>O(r).agent=e),placeholder:e.$t("Crontab.Planned.index_77")},null,8,["value","placeholder"])]),_:1},8,["label"])):F("",!0)]),_:1},8,["model"])]),_:1},8,["show"]),"second-n"==O(r).time?(H(),K(T,{key:0,type:"warning"},{default:W(()=>a[24]||(a[24]=[M("span",null,"To maintain service stability and ensure smooth performance, please refrain from frequently running high-load scripts and avoid adding too many such tasks",-1)])),_:1,__:[24]})):F("",!0),O(Ne)(O(r).type)?(H(),K(j,{key:1},{default:W(()=>[M("li",null,z(O(Ne)(O(r).type)),1)]),_:1})):F("",!0)])}}});e("default",E({__name:"index",setup(e){const l=s(),n=q(()=>t(()=>a.import("./index-legacy115.js?v=1764233927359"),void 0)),{t:o}=I(),i=()=>{A.title=o("Crontab.Planned.index_4"),A.data.isEdit=!1,A.show=!0},u=e=>{R.title=o("Crontab.Planned.index_6",[e.name]),R.data.id=e.id,R.show=!0},{keys:b,table:x,columns:k}=w([{type:"selection",width:40},{key:"name",title:o("Site.TableRow.index_2"),minWidth:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"status",title:o("Public.Table.Status"),minWidth:90,render:e=>L(Ie,{row:e},null)},{key:"cycle",title:o("Crontab.Planned.index_9")},{key:"save",title:o("Crontab.Planned.index_10"),align:"center",minWidth:80,render:e=>L(Ae,{row:e},null)},{key:"backupTo",title:o("Crontab.Planned.index_11"),align:"center",render:e=>e.backupTo?e.backupTo:"--"},{key:"addtime",title:o("Crontab.Planned.index_12")},g({title:o("Public.Table.Operation"),width:240,options:e=>[{label:o("Docker.LocalImage.pull.index_12"),class:"execute-btn",onClick:()=>{y({title:o("Crontab.Planned.index_13"),content:o("Crontab.Planned.index_14",[e.name]),onConfirm:async()=>{await S({id:e.id}),E(),u(e)}})}},{label:o("Public.Btn.Edit"),class:"edit-btn",onClick:()=>{A.title=o("Crontab.arrange.index_37"),A.data.isEdit=!0,A.data.row=e,A.show=!0}},{label:o("Ftp.Table.index_15"),class:"logs-btn",onClick:()=>{u(e)}},{label:o("Public.Btn.Del"),class:"delete-btn",onClick:()=>{y({title:o("Crontab.arrange.index_3",[e.name]),content:o("Crontab.Planned.index_78",[e.name]),onConfirm:async()=>{await N({id:e.id}),E()}})}}]})]),P=[{key:"execute",type:"confirm",label:o("Crontab.Planned.index_20"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_20")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_20")]),columns:[k.value[1]],api:e=>S({id:e.id},!1),done:()=>{E()}}},{key:"start",label:o("Crontab.Planned.index_15"),onBatch:()=>{y({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_15")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_15")]),onConfirm:async({hide:e})=>{try{await T({id_list:JSON.stringify(b.value),type:"start",if_stop:!1}),r.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}E(),e()}})}},{key:"stop",label:o("Crontab.Planned.index_18"),onBatch:()=>{y({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_18")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_18")]),onConfirm:async({hide:e})=>{try{await T({id_list:JSON.stringify(b.value),type:"stop",if_stop:!1}),r.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}E(),e()}})}},{key:"category",label:o("Crontab.Planned.index_19"),onBatch:e=>{v({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_19")]),width:350,minHeight:72,footer:!0,data:{rows:e},component:q(()=>t(()=>a.import("./batch-legacy.js?v=1764233927359"),void 0))})}},{key:"delete",type:"confirm",label:o("Crontab.Planned.index_22"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_22")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_22")]),columns:[k.value[1]],api:e=>N({id:e.id},!1),done:()=>{E()}}}],$=Z({search:"",type_id:"",order_param:""}),{loading:U,setLoading:V}=m(!0),E=async()=>{try{V(!0);const{message:e}=await j(Q({...$}));d(e)?x.data=e:(x.data=[],x.total=0)}finally{b.value=[],V(!1)}};E(),G(()=>l.isRefresh,e=>{e&&(l.setRefresh(!1),E())});const A=h(o("Crontab.Planned.index_4"),{getList:E}),R=h("",{getList:E});return(e,a)=>{const l=ee,t=C,d=f,u=_,s=c,r=p,v=ue;return H(),K(v,null,{default:W(()=>[L(s,{class:"p-16px",feedback:!0},{toolsLeft:W(()=>[L(l,{class:"add-task-btn",type:"primary",onClick:i},{default:W(()=>[B(z(O(o)("Crontab.Planned.index_4")),1)]),_:1})]),toolsRight:W(()=>[L(He,{value:O($).type_id,"onUpdate:value":[a[0]||(a[0]=e=>O($).type_id=e),E]},null,8,["value"]),L(t,{value:O($).search,"onUpdate:value":a[1]||(a[1]=e=>O($).search=e),placeholder:e.$t("Crontab.Planned.index_5"),onSearch:E},null,8,["value","placeholder"])]),table:W(()=>[L(d,{"checked-row-keys":O(b),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>D(b)?b.value=e:null),loading:O(U),data:O(x).data,columns:O(k)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:W(()=>[L(u,{"checked-row-keys":O(b),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>D(b)?b.value=e:null),data:O(x).data,options:P},null,8,["checked-row-keys","data"])]),_:1}),L(r,{show:O(A).show,"onUpdate:show":a[4]||(a[4]=e=>O(A).show=e),title:O(A).title,data:O(A).data,width:950,footer:!0,component:na},null,8,["show","title","data"]),L(r,{show:O(R).show,"onUpdate:show":a[5]||(a[5]=e=>O(R).show=e),title:O(R).title,data:O(R).data,width:800,"min-height":550,footer:!1,component:O(n)},null,8,["show","title","data","component"])]),_:1})}}}))}}});
