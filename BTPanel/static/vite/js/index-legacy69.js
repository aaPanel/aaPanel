System.register(["./index-legacy109.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index-legacy135.js?v=1767769852656","./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656","./public-legacy.js?v=1767769852656","./utils-legacy3.js?v=1767769852656","./index-legacy222.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1767769852656","./transition-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./paypal-js-legacy.js?v=1767769852656"],function(e,t){"use strict";var a,n,i,o,s,l,d,r,c,u,h,_,p,m,w,y,g,S,f,x,v,L,k,b,C,j,E,U,B,D,R,I,P,T,N,M,V,z,A,q,O,F,H,G,W,X,$,J,K,Q,Y,Z,ee,te,ae;return{setters:[e=>{a=e._},e=>{n=e.k,i=e.a0,o=e.P,s=e.e,l=e.W,d=e.j,r=e.a2,c=e.V,u=e.a3,h=e.U,_=e.a4,p=e.S,m=e._,w=e.am,y=e.r,g=e.o,S=e.b,f=e.R,x=e.ak},e=>{v=e.u,L=e.aa,k=e.d7,b=e.d,C=e.d8,j=e.d9,E=e.o,U=e._,B=e.a,D=e.da,R=e.db,I=e.dc,P=e.dd},e=>{T=e._},e=>{N=e._},e=>{M=e._},e=>{V=e._},e=>{z=e.e,A=e.c,q=e.f,O=e.a,F=e.h,H=e._,G=e.l},e=>{W=e.u,X=e.k,$=e.r},e=>{J=e.A},e=>{K=e.dj,Q=e.aC,Y=e.dh,Z=e.da,ee=e.dS},e=>{te=e._},e=>{ae=e.T},null,null,null,null,null],execute:function(){const ne=n({__name:"index",setup(e){const a=m(()=>B(()=>t.import("./index-legacy217.js?v=1767769852656"),void 0)),n=m(()=>B(()=>t.import("./index-legacy218.js?v=1767769852656"),void 0)),w=m(()=>B(()=>t.import("./domain-verification-legacy.js?v=1767769852656"),void 0)),y=v(),{userInfo:g}=i(y),{t:S}=o(),f=s({p:1,limit:10}),x=z(S("SSL.Business.index_41"),{onRefresh:(e,t)=>{$.data.request=!0,$.data.uc_id=t,$.data.verify=e,$.show=!0,ne()}}),I=z(S("SSL.index_44")),P=z(S("SSL.index_49"),{onRefresh:()=>{ne()}}),$=z(S("SSL.Business.index_42"),{onRefresh:()=>{ne()}}),{table:Z,columns:ee}=A([{key:"provider",title:S("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:S("SSL.index_53"),render:e=>l("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:S("Site.Cert.index_44"),render:e=>e.order_info.title},W({title:S("SSL.index_54")}),{key:"proxy",title:S("SSL.index_55"),render:e=>void 0!==e.auto_renew?l(K,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await D({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null):l("span",null,[d("--")])},{key:"alarm",title:S("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?l(K,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await R({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null):l("span",null,[d("--")])},{key:"create_time",title:S("Docker.Container.index_9"),render:e=>L(e.order_info.create_time)},X((e,t)=>{P.data.row=e,P.show=!0,P.data.menu=t}),{key:"order_status",title:S("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?l("span",{class:"color-warning"},[S("SSL.Business.index_45")]):"PENDING"===t.order_status&&1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_46")]):"COMPLETE"===t.order_status&&1===t.status?l("span",{class:"color-#20a53a"},[S("SSL.Business.index_47")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_48")]):"FAILED"===t.order_status&&1===t.status?l("span",{class:"color-error"},[S("SSL.Business.index_49")]):"EXPIRED"===t.order_status&&1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_50")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_52")]):void 0:l("span",{class:"color-warning"},[S("SSL.Business.index_51")]):l("span",{class:"color-warning cursor-pointer",onClick:()=>te(e)},[S("SSL.Business.index_44")])}},q({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:S("SSL.Business.index_53"),onClick:()=>{te(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status||!e.order_info.order_status&&e.order_info.certId,label:S("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await k({uc_id:e.order_info.uc_id});b(t)&&($.data.uc_id=e.order_info.uc_id,$.data.verify=t.data,$.data.paths=t.paths,$.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:S("SSL.index_58"),onClick:async()=>{P.data.row=e,P.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:S("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:S("Public.Btn.Del"),onClick:()=>{O({title:S("SSL.index_59"),content:S("SSL.index_60"),onConfirm:async()=>{await C({hash:e.hash}),ne()}})}}]})]),te=e=>{x.data.row=e,x.show=!0},ae=()=>{G()},ne=async()=>{try{Z.loading=!0;const{message:e}=await j(f);b(e)&&(Z.data=e.data,Z.total=e.total)}finally{Z.loading=!1}};return g.value.status&&ne(),(e,t)=>{const i=Q,o=U,s=E,m=H,y=Y,v=F,L=V,k=M,b=N,C=T;return c(),r(C,{install:h(g).status},{desc:u(()=>[t[7]||(t[7]=p("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),l(i,{type:"primary",onClick:ae},{default:u(()=>[d(_(e.$t("Login.index_3")),1)]),_:1})]),default:u(()=>[l(k,{feedback:!0},{toolsLeft:u(()=>[l(i,{type:"primary",onClick:t[0]||(t[0]=e=>h(I).show=!0)},{default:u(()=>[d(_(h(S)("SSL.index_44")),1)]),_:1}),l(y,{trigger:"hover"},{trigger:u(()=>[l(o,{name:"base-info",size:18,color:"#999"})]),default:u(()=>[l(m,null,{default:u(()=>[t[9]||(t[9]=p("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=p("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=p("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),p("li",null,[t[8]||(t[8]=d("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ",-1)),l(s,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:u(()=>[d(_(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1,__:[9,10,11]})]),_:1})]),table:u(()=>[l(v,{loading:h(Z).loading,data:h(Z).data,columns:h(ee)},null,8,["loading","data","columns"])]),pageRight:u(()=>[l(L,{page:h(f).p,"onUpdate:page":t[1]||(t[1]=e=>h(f).p=e),"page-size":h(f).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>h(f).limit=e),"store-key":"ssl-business-page","item-count":h(Z).total,onRefresh:ne},null,8,["page","page-size","item-count"])]),_:1}),l(b,{show:h(I).show,"onUpdate:show":t[3]||(t[3]=e=>h(I).show=e),title:h(I).title,data:h(I).data,"min-height":250,component:J},null,8,["show","title","data"]),l(b,{show:h(x).show,"onUpdate:show":t[4]||(t[4]=e=>h(x).show=e),title:h(x).title,data:h(x).data,width:650,"min-height":450,component:h(a)},null,8,["show","title","data","component"]),l(b,{show:h(P).show,"onUpdate:show":t[5]||(t[5]=e=>h(P).show=e),title:h(P).title,data:h(P).data,width:720,height:530,component:h(n)},null,8,["show","title","data","component"]),l(b,{show:h($).show,"onUpdate:show":t[6]||(t[6]=e=>h($).show=e),title:h($).title,data:h($).data,width:650,"min-height":450,component:h(w)},null,8,["show","title","data","component"])]),_:1},8,["install"])}}}),ie=n({__name:"index",setup(e){const a=m(()=>B(()=>t.import("./index-legacy219.js?v=1767769852656"),void 0)),n=m(()=>B(()=>t.import("./index-legacy220.js?v=1767769852656"),void 0)),i=m(()=>B(()=>t.import("./index-legacy221.js?v=1767769852656"),void 0)),r=m(()=>B(()=>t.import("./index-legacy218.js?v=1767769852656"),void 0)),p=m(()=>B(()=>t.import("./ssl-log-legacy.js?v=1767769852656"),void 0)),x=m(()=>B(()=>t.import("./index-legacy118.js?v=1767769852656"),void 0)),{t:v}=o(),L=w().currentRoute.value.query,k=z(""),j=z(v("SSL.index_48"),{onRefresh:()=>{de()}}),E=z(v("SSL.index_44"),{onRefresh:()=>{de()},onOpenLog:e=>{oe(e)}}),T=z(v("SSL.index_45"),{onRefresh:()=>{de()}}),H=z(v("SSL.index_49"),{onRefresh:()=>{de()}}),G=z(v("SSL.index_50")),J=s({p:1,limit:10,is_order:0,search:""}),Y=()=>{J.p=1,de()},ee={dns01:"DNS-01 Automatic",http01:"HTTP-01 Automatic",dns01_manual:"DNS-01 Manual"},ae=()=>{O({title:v("SSL.index_51"),content:v("SSL.index_52"),onConfirm:async()=>{const{message:e}=await P();b(e)&&(k.title="Renew SSL Certificate Logs",k.data.id=e.id,k.show=!0)}})},{table:ne,columns:ie}=A([$(e=>{oe(e)}),{key:"ssl_type",title:v("SSL.index_53"),render:e=>l("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},W({title:v("SSL.index_54")}),{key:"proxy",title:v("SSL.index_55"),render:e=>l(K,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await D({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:v("SSL.Domain.index_26"),render:e=>l(K,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await R({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null)},X((e,t)=>{H.data.row=e,H.show=!0,H.data.menu=t}),{key:"last_apply_time",title:v("SSL.index_56"),render:e=>l(Z,null,{default:()=>[l("span",null,[e.last_apply_time]),e.log?l(U,{class:"cursor-pointer",name:"base-left-logs",size:"18",onClick:()=>{oe(e.log)}},null):"--"]})},{key:"last_apply_log",title:v("Waf.Setting.config_67"),align:"center",render:e=>ee[e.verify]},q({width:250,options:e=>[{label:v("SSL.index_58"),onClick:async()=>{H.data.row=e,H.show=!0}},{label:v("Mail.Mass.index_61"),onClick:()=>{j.data.row=e,j.show=!0}},{label:v("Public.Btn.Del"),onClick:()=>{O({title:v("SSL.index_59"),content:v("SSL.index_60"),onConfirm:async()=>{await C({hash:e.hash}),de()}})}}]})]),oe=e=>{G.data.path=e,G.show=!0};let se=null;const le=y(!1),de=async()=>{try{le.value||(ne.loading=!0);const{message:e}=await I(J);b(e)&&(le.value=e.data.some(e=>e.task.some(e=>100!==e.task_status)),le.value?re():se&&clearTimeout(se),ne.data=e.data,ne.total=e.total)}finally{ne.loading=!1}},re=async()=>{se=window.setTimeout(()=>{de()},5e3)};return g(()=>{L.domain&&(J.search=L.domain),de()}),S(()=>{se&&clearTimeout(se)}),(e,t)=>{const o=Q,s=te,m=F,w=V,y=M,g=N;return c(),f("div",null,[l(y,{feedback:!0},{toolsLeft:u(()=>[l(o,{type:"primary",onClick:t[0]||(t[0]=e=>h(E).show=!0)},{default:u(()=>[d(_(h(v)("SSL.index_44")),1)]),_:1}),l(o,{onClick:t[1]||(t[1]=e=>h(T).show=!0)},{default:u(()=>[d(_(h(v)("SSL.index_45")),1)]),_:1}),l(o,{onClick:ae},{default:u(()=>[d(_(h(v)("SSL.index_46")),1)]),_:1})]),toolsRight:u(()=>[l(s,{value:h(J).search,"onUpdate:value":t[2]||(t[2]=e=>h(J).search=e),onSearch:Y},null,8,["value"])]),table:u(()=>[l(m,{loading:h(ne).loading,data:h(ne).data,columns:h(ie)},null,8,["loading","data","columns"])]),pageRight:u(()=>[l(w,{page:h(J).p,"onUpdate:page":t[3]||(t[3]=e=>h(J).p=e),"page-size":h(J).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>h(J).limit=e),"store-key":"ssl-lets-page","item-count":h(ne).total,onRefresh:de},null,8,["page","page-size","item-count"])]),_:1}),l(g,{show:h(E).show,"onUpdate:show":t[5]||(t[5]=e=>h(E).show=e),title:h(E).title,data:h(E).data,width:550,"min-height":250,footer:!0,component:h(a),"confirm-text":h(v)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),l(g,{show:h(j).show,"onUpdate:show":t[6]||(t[6]=e=>h(j).show=e),title:h(j).title,data:h(j).data,width:650,"min-height":500,footer:!1,component:h(i)},null,8,["show","title","data","component"]),l(g,{show:h(T).show,"onUpdate:show":t[7]||(t[7]=e=>h(T).show=e),title:h(T).title,data:h(T).data,width:800,"min-height":500,footer:!0,component:h(n)},null,8,["show","title","data","component"]),l(g,{show:h(G).show,"onUpdate:show":t[8]||(t[8]=e=>h(G).show=e),title:h(G).title,data:h(G).data,width:650,"min-height":450,component:h(p)},null,8,["show","title","data","component"]),l(g,{show:h(H).show,"onUpdate:show":t[9]||(t[9]=e=>h(H).show=e),title:h(H).title,data:h(H).data,width:720,height:530,component:h(r)},null,8,["show","title","data","component"]),l(g,{show:h(k).show,"onUpdate:show":t[10]||(t[10]=e=>h(k).show=e),title:h(k).title,data:h(k).data,width:800,"min-height":550,footer:!1,component:h(x)},null,8,["show","title","data","component"])])}}});e("default",n({__name:"index",setup(e){const{t:t}=o(),n=w(),s=v(),{userInfo:d}=i(s),_=y("business"),p=[{key:"business",label:t("SSL.index_9"),component:ne},{key:"let-encrypt",label:"Let's Encrypt",component:ie}];return n.currentRoute.value.query.domain&&(_.value="let-encrypt"),(e,t)=>{const n=a,i=ee;return h(d).status?(c(),r(i,{key:0,class:"p-16px"},{default:u(()=>[l(n,{value:h(_),"onUpdate:value":t[0]||(t[0]=e=>x(_)?_.value=e:null),options:p},null,8,["value"])]),_:1})):(c(),r(ae,{key:1}))}}}))}}});
