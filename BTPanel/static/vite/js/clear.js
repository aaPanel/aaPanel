import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import{x as a}from"./page_layout.js?v=1769066082311";import{a as s}from"./public.js?v=1769066082311";import{i as l,r as t}from"./tools2.js?v=1769066082311";import{dS as o,dW as i,aX as r,aC as n}from"./naive.js?v=1769066082311";import{k as p,P as u,r as c,e as m,R as _,V as f,W as d,a3 as v,S as x,U as g,j,a4 as k}from"./vue.js?v=1769066082311";import"./common.js?v=1769066082311";import"./__commonjsHelpers__.js?v=1769066082311";import"./rules.js?v=1769066082311";const b={class:"p-20px pt-24px pb-8px"},h={class:"w-260px"},W=p({__name:"clear",setup(p,{expose:W}){const{t:w}=u(),y=c(null),B=m({site:[]}),C={site:{trigger:["change"],validator:()=>0!==B.site.length||new Error(w("Waf.Block.index_27"))}},$=c([]),P=()=>{B.site=$.value.map(e=>e.value)},N=()=>{B.site=[]};return(async()=>{const{message:e}=await l();a(e)&&($.value=e.map(e=>({label:e.siteName,value:e.siteName})))})(),W({onConfirm:async()=>{var e;return await(null==(e=y.value)?void 0:e.validate()),s({title:w("Waf.Block.index_28"),content:w("Waf.Block.index_29"),onConfirm:async()=>{const e=B.site.length===$.value.length;await t({safe_logs:0,site_all:e?1:0,site_logs:B.site})}}),!1}}),(a,s)=>{const l=n,t=r,p=i,u=o,c=e;return f(),_("div",b,[d(c,{ref_key:"formRef",ref:y,model:g(B),rules:C},{default:v(()=>[d(u,{label:a.$t("Waf.Block.index_25"),path:"site"},{default:v(()=>[x("div",h,[d(p,{value:g(B).site,"onUpdate:value":s[0]||(s[0]=e=>g(B).site=e),options:g($),multiple:!0,filterable:!0,"max-tag-count":"responsive",placeholder:a.$t("Waf.Block.index_27")},{header:v(()=>[d(t,{class:"w-full"},{default:v(()=>[d(l,{class:"flex-1",onClick:P},{default:v(()=>[j(k(a.$t("Public.All")),1)]),_:1}),d(l,{class:"flex-1",onClick:N},{default:v(()=>[j(k(a.$t("Public.Btn.Cancel")),1)]),_:1})]),_:1})]),_:1},8,["value","options","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"])])}}});export{W as default};
