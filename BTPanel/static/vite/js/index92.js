import{_ as e}from"./index.js?v=1752142539265";import{e as a,_ as t}from"./public.js?v=1752142539265";import{u as s,p as l,cq as n,d as i,m as o,bZ as p,c as r,e as u}from"./page_layout.js?v=1752142539265";import{c as m}from"./soft.js?v=1752142539265";import{g as _}from"./soft2.js?v=1752142539265";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang18.js?v=1752142539265";import{bX as d,cD as v,ay as f,b$ as x}from"./naive.js?v=1752142539265";import{k as h,P as j,r as y,U as g,an as w,W as b,X as k,Q as $,V as H,a2 as S,H as I,a3 as P,a1 as C,ah as T,j as U,m as W}from"./vue.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import"./theme-chrome.js?v=1752142539265";import"./file.js?v=1752142539265";const q={key:0,class:"p-30px"},L=["src"],M=["title"],N={class:"font-600 mt-30px"},X=["innerHTML"],D=u(h({__name:"index",props:{name:{},callback:{},hide:{}},setup(u){const{t:h}=j(),D=s(),O=u,Q=["nginx","apache","mysql","php"],R=e=>Q.includes(e)||e.startsWith("php-"),V=y(),Z=y(""),z=y(),A=(e,a)=>{Z.value=a.ps},B=e=>W(x,{trigger:"hover",placement:"top-start"},{trigger:()=>W("span",e.label),default:()=>W("span",e.label)}),E=y(),F=async(e=1)=>{var a;if(E.value){const{message:t}=await n({sName:E.value.name,version:V.value,type:e});if(i(t)){if(t.result)return o.success(t.result),D.taskCount+=1,null==(a=O.callback)||a.call(O),O.hide(),void p();await m({name:t.name,tmp_path:t.tmp_path,title:h("Soft.index_21")},(()=>{var e;null==(e=O.callback)||e.call(O)}))}O.hide()}},G=()=>{J.show=!0},J=a(h("Home.Install.index_7"),{name:O.name,callback:()=>{F(0)}});return(async()=>{const{message:e}=await r({sName:O.name},!0);i(e)&&(E.value=e,z.value=e.versions.map((a=>{const t=a.m_version+"."+a.version;return{label:5===e.type?a.m_version:t||a.m_version,value:5===e.type?a.m_version:t||a.m_version,ps:a.update_msg}})),V.value=z.value[0].value,Z.value=z.value[0].ps)})(),(a,s)=>{const n=d,i=v,o=f,p=l,r=t,u=e;return b(E)?(k(),g("div",q,[$(n,{class:"justify-between! items-center"},{default:S((()=>[$(n,{class:"items-center"},{default:S((()=>[H("img",{class:"w-40px",src:b(_)(b(E).name)},null,8,L),H("div",null,[H("p",{class:I(["font-600 text-18px max-w-290px",{"max-w-190px!":R(b(E).name)}]),title:"".concat(b(E).title," ").concat(b(V))},P(b(E).title)+" "+P(b(E).title.indexOf("PHP-")>-1?"":b(V)),11,M)])])),_:1}),$(n,null,{default:S((()=>[$(i,{class:"w-100px!",value:b(V),"onUpdate:value":[s[0]||(s[0]=e=>T(V)?V.value=e:null),A],options:b(z),"consistent-menu-width":!1,"render-label":B},null,8,["value","options"]),R(b(E).name)?(k(),C(o,{key:0,onClick:G},{default:S((()=>[U(P(a.$t("Home.Install.index_7")),1)])),_:1})):w("",!0),$(o,{type:"primary",onClick:s[1]||(s[1]=e=>F(1))},{default:S((()=>[U(P(R(b(E).name)?a.$t("Home.Install.index_5"):a.$t("Soft.index_34")),1)])),_:1})])),_:1}),$(p)])),_:1}),H("div",N,P(a.$t("Soft.index_39"))+"ï¼š",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:b(Z)},null,8,X),$(r,null,{default:S((()=>[H("li",null,P(a.$t("Soft.index_35")),1),H("li",null,P(a.$t("Soft.index_36")),1),H("li",null,P(a.$t("Soft.index_37")),1)])),_:1}),$(u,{show:b(J).show,"onUpdate:show":s[2]||(s[2]=e=>b(J).show=e),title:b(J).title,data:b(J).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):w("",!0)}}}),[["__scopeId","data-v-ff9d47ce"]]);export{D as default};
