System.register(["./page_layout-legacy.js?v=1764830988434","./index-legacy133.js?v=1764830988434","./index-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1764830988434","./public-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1764830988434","./index-legacy131.js?v=1764830988434","./vue-legacy.js?v=1764830988434","./naive-legacy.js?v=1764830988434","./site-legacy4.js?v=1764830988434","./php-legacy.js?v=1764830988434","./site-legacy.js?v=1764830988434","./soft-legacy.js?v=1764830988434","./common-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1764830988434","./index-legacy246.js?v=1764830988434","./index-legacy97.js?v=1764830988434","./index-legacy107.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1764830988434","./index-legacy98.js?v=1764830988434","./refersh-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy16.js?v=1764830988434","./index-legacy102.js?v=1764830988434","./ssl-legacy.js?v=1764830988434","./cert-legacy.js?v=1764830988434","./ssl-lets-progress-legacy.js?v=1764830988434","./utils-legacy3.js?v=1764830988434","./index-legacy218.js?v=1764830988434","./upload-legacy.js?v=1764830988434"],function(e,t){"use strict";var a,l,i,n,s,o,d,r,u,c,p,_,m,h,v,g,f,x,w,y,b,S,k,C,P,$,L,W,U,R,T,q,O,B,j,E,M,D,H,I,N,z,A,F,V,J,K,X,G,Q,Y,Z,ee,te,ae,le,ie,ne,se,oe,de,re,ue,ce,pe,_e,me,he,ve,ge,fe,xe,we,ye,be,Se,ke,Ce,Pe,$e,Le,We,Ue,Re,Te,qe,Oe,Be,je,Ee,Me,De,He,Ie,Ne,ze,Ae,Fe,Ve,Je,Ke,Xe,Ge,Qe,Ye,Ze,et,tt,at,lt,it,nt,st,ot,dt,rt,ut,ct,pt,_t,mt,ht,vt,gt,ft,xt,wt,yt,bt,St,kt,Ct,Pt,$t,Lt,Wt,Ut,Rt,Tt,qt,Ot,Bt,jt,Et,Mt,Dt,Ht,It,Nt,zt,At,Ft,Vt,Jt,Kt,Xt,Gt,Qt,Yt,Zt,ea,ta,aa,la,ia,na,sa,oa,da,ra,ua,ca,pa,_a,ma,ha,va,ga,fa,xa,wa,ya,ba,Sa,ka,Ca,Pa,$a,La,Wa,Ua,Ra,Ta,qa,Oa,Ba,ja,Ea,Ma,Da,Ha,Ia,Na,za,Aa,Fa,Va,Ja,Ka,Xa,Ga,Qa,Ya,Za,el,tl,al,ll,il,nl,sl,ol,dl;return{setters:[e=>{a=e.at,l=e.dq,i=e.d,n=e.aD,s=e.i,o=e.a,d=e.a9,r=e.u,u=e._,c=e.p,p=e.A,_=e.q,m=e.r,h=e.o,v=e.x,g=e.m,f=e.g,x=e.dy,w=e.aH,y=e.bm,b=e.dz,S=e.e,k=e.dA,C=e.T,P=e.h,$=e.az,L=e.dB,W=e.dC,U=e.dD,R=e.dE,T=e.c_,q=e.c$,O=e.d0,B=e.dF,j=e.dG,E=e.am,M=e.d3,D=e.a6,H=e.dp},e=>{I=e._},e=>{N=e.a,z=e._},e=>{A=e._},e=>{F=e._},e=>{V=e._},e=>{J=e.u,K=e.F,X=e.q,G=e.b,Q=e.S,Y=e.T,Z=e.c,ee=e.m,te=e._,ae=e.a,le=e.d,ie=e.h,ne=e.f,se=e.r,oe=e.e,de=e.I,re=e.l,ue=e.V,ce=e.W,pe=e.X,_e=e.p},e=>{me=e._},e=>{he=e._},e=>{ve=e.Z,ge=e.r,fe=e.c,xe=e._,we=e.W,ye=e.k,be=e.F,Se=e.u,ke=e.R,Ce=e.V,Pe=e.l,$e=e.v,Le=e.S,We=e.U,Ue=e.a3,Re=e.j,Te=e.a4,qe=e.H,Oe=e.P,Be=e.a0,je=e.am,Ee=e.a2,Me=e.O,De=e.i,He=e.p,Ie=e.ak,Ne=e.e,ze=e.an,Ae=e.o,Fe=e.N,Ve=e.n,Je=e.ay,Ke=e.t,Xe=e.y,Ge=e.w,Qe=e.m,Ye=e.x,Ze=e.ae,et=e.s,tt=e.b},e=>{at=e.d5,lt=e.bz,it=e.aC,nt=e.dd,st=e.d8,ot=e.da,dt=e.di,rt=e.dc,ut=e.bH,ct=e.dm,pt=e.dh,_t=e.dR,mt=e.dV,ht=e.dj,vt=e.au,gt=e.dk,ft=e.av,xt=e.df,wt=e.dZ,yt=e._,bt=e.eg,St=e.e1,kt=e.dT,Ct=e.dY,Pt=e.dU,$t=e.G,Lt=e.aX,Wt=e.dS,Ut=e.bJ,Rt=e.dg},e=>{Tt=e.l},e=>{qt=e.d,Ot=e.e,Bt=e.f,jt=e.h,Et=e.i,Mt=e.a},e=>{Dt=e.j,Ht=e.a0,It=e.a1,Nt=e.s,zt=e.a2,At=e.a3,Ft=e.a4,Vt=e.a5,Jt=e.a6,Kt=e.a7,Xt=e.a8,Gt=e.a9,Qt=e.aa,Yt=e.ab,Zt=e.ac,ea=e.ad,ta=e.ae,aa=e.af,la=e.ag,ia=e.ah,na=e.ai,sa=e.aj,oa=e.ak,da=e.al,ra=e.am,ua=e.an,ca=e.ao,pa=e.ap,_a=e.aq,ma=e.ar,ha=e.as,va=e.at,ga=e.au,fa=e.av,xa=e.g,wa=e.aw,ya=e.ax,ba=e.ay,Sa=e.az,ka=e.aA,Ca=e.aB,Pa=e.aC,$a=e.aD,La=e.aE,Wa=e.aF,Ua=e.aG,Ra=e.Y,Ta=e.aH,qa=e.aI,Oa=e.b,Ba=e.aJ,ja=e.a,Ea=e.aK},e=>{Ma=e.a},e=>{Da=e.m,Ha=e.a3},e=>{Ia=e._},e=>{Na=e._},e=>{za=e._},e=>{Aa=e._},e=>{Fa=e._},e=>{Va=e._},e=>{Ja=e.default},e=>{Ka=e._,Xa=e.a,Ga=e.b},e=>{Qa=e._},e=>{Ya=e._},e=>{Za=e.c,el=e.s,tl=e.a,al=e.g,ll=e.b},e=>{il=e.C},e=>{nl=e.a},e=>{sl=e.u},e=>{ol=e.A},e=>{dl=e.o}],execute:function(){var rl=document.createElement("style");rl.textContent=".website-status[data-v-dd29927d]{display:flex;padding-left:10px;font-size:20px;cursor:pointer}.website-name[data-v-35c01248]{display:flex;align-items:center;gap:8px;width:100%}.website-icon[data-v-35c01248]{width:24px;flex-shrink:0;cursor:pointer}.website-info[data-v-35c01248]{flex:1;min-width:0;overflow:hidden}.website-description[data-v-35c01248]{margin-top:2px}.warning[data-v-5757bceb]{padding:8px;border-radius:4px;background-color:#fdf6ec;color:#e6a23c}[data-v-e04ced1d] .row-padding>:last-child{padding-left:0!important}[data-v-86934d13] .row-padding>:last-child{padding-left:0!important}.tips[data-v-87e0a648]{margin-left:10px;--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity))}.n-alert[data-v-1f152531]{--n-font-size: 12px}.cert-info[data-v-1f152531]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-1f152531]{color:var(--site-config-ssl-label);font-weight:700}.cert-info .cert-value[data-v-1f152531]{flex:1;width:0;margin-left:4px}.business-top-tips[data-v-c4bf96b6]{background:var(--site-config-business-tips)}.n-alert[data-v-31e23451]{--n-font-size: 12px}.cert-info[data-v-31e23451]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-31e23451]{color:var(--site-config-ssl-label);font-weight:700}.cert-info .cert-value[data-v-31e23451]{flex:1;width:0;margin-left:4px}.tips[data-v-80e183ea]{margin-left:10px;--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity))}[data-v-7dd2155e] .n-alert .n-alert-body{--n-padding: 5px 8px}.ul-style[data-v-0744d9b2]{margin:0 auto;display:flex;align-items:center;justify-content:center;gap:20px;font-size:16px}.ul-style li[data-v-0744d9b2]{display:flex;align-items:center}\n/*$vite$:1*/",document.head.appendChild(rl),e("O",Zl);const ul=e("u",ve("wordpress-toolkit",()=>{const e=ge(""),t=ge(!1),n=ge(""),s=ge("/www/wwwroot"),o=ge(""),d=ge({setup:!1,version:"",status:!1}),r=ge({setup:!1}),u=ge({setup:!0,type:"",version:"",status:!1}),c=ge({is_install:0,status:!1,version:""}),p=fe(()=>1===c.value.is_install&&a(c.value.version,"4.1.2")),_=ge({is_install:0,status:!1,version:""}),m=fe(()=>1===_.value.is_install&&a(_.value.version,"9.6.8"));return{web:u,mysql:d,php:r,siteName:e,sitePath:s,isRefresh:t,phpVersion:n,webserver:o,monitor:c,isMonitorInstall:p,waf:_,isWafInstall:m,setRefresh:e=>{t.value=e},getConfig:async()=>{const{message:e}=await l();i(e)&&(o.value=at(e,"webserver",""),s.value=at(e,"sites_path",""),r.value.setup=!!e.php.length,i(e.web)&&(u.value=e.web),i(e.mysql)&&(d.value=e.mysql),i(e.monitor)&&(c.value=e.monitor),i(e.waf)&&(_.value=e.waf))}}})),{t:cl}=s.global,pl=(e("a",e=>n.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:cl("WP.api.tamper_7")}})),e("g",e=>n.post("/site?action=get_wp_versions",e)),e("J",e=>n.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:cl("WP.api.tamper_8")}}))),_l=(e("L",e=>n.post("/site?action=wp_backup_list",e)),e("M",(e,t=!0)=>n.post("/site?action=wp_backup",e,{requestOptions:{loading:t?cl("WP.api.tamper_9"):"",successMessage:t}}))),ml=(e("N",(e,t=!0)=>n.post("/site?action=wp_restore",e,{requestOptions:{loading:t?cl("WP.api.tamper_10"):"",successMessage:!0}})),e("K",(e,t=!0)=>n.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?cl("WP.api.tamper_8"):"",successMessage:t}})),e("f",()=>n.post("/site?action=wp_can_migrate_from_website_to_wptoolkit")),e("m",e=>n.post("/site?action=wp_migrate_from_website_to_wptoolkit",e,{requestOptions:{loading:cl("WP.api.tamper_11"),successMessage:!1}})),e("l",e=>n.post("/site?action=get_wp_security_info",e)),e("j",e=>n.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("k",e=>n.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("i",e=>n.post("/site?action=get_wp_file_info",e)),e("n",e=>n.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("p",e=>n.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("h",e=>n.post("/site?action=wp_clone",e,{requestOptions:{loading:cl("WP.api.index_1"),successMessage:!0}})),e("c",e=>n.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:cl("WP.api.index_2"),successMessage:!0}})),e("b",e=>n.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:cl("WP.api.index_2"),successMessage:!0}})),e("d",e=>n.post("/site?action=wp_create_with_manual_bak",e,{requestOptions:{loading:cl("WP.api.index_2"),successMessage:!0}})),e("T",e=>n.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}})),e("S",e=>n.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}})),e("B",(e,t=!1)=>n.post("/site?action=wp_theme_list",e,{requestOptions:{loading:t?cl("WP.api.tamper_17"):"",successMessage:!1}}))),hl=e("A",(e,t=!1)=>n.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:t?cl("WP.api.tamper_17"):"",successMessage:!1}})),vl=(e("D",e=>n.post("/site?action=wp_set_list",e)),e("C",e=>n.post("/site?action=wp_remove_set",e,{requestOptions:{loading:cl("WP.api.tamper_3"),successMessage:!0}})),e("q",e=>n.post("/site?action=wp_create_set",e,{requestOptions:{loading:cl("WP.api.tamper_2"),successMessage:!0}})),e("w",e=>n.post("/site?action=wp_update_item_state_with_set",e,{requestOptions:{loading:cl("WP.api.tamper_1"),successMessage:!0}})),e("x",e=>n.post("/site?action=wp_remove_items_from_set",e,{requestOptions:{loading:cl("WP.api.tamper_3"),successMessage:!0}})),e("z",e=>n.post("/site?action=wp_add_items_to_set",e,{requestOptions:{loading:cl("WP.api.tamper_2"),successMessage:!0}})),e("t",e=>n.post("/site?action=wp_install_with_set",e,{requestOptions:{loading:cl("WP.api.tamper_16"),successMessage:!0}})),e("y",e=>n.post("/site?action=wp_get_items_from_set",e)),e("r",()=>n.post("/site?action=wp_all_sites")),e("P",e=>n.post("/site?action=wordpress_vulnerabilities_scan",e,{requestOptions:{loading:cl("WP.index_63"),successMessage:!1}})),e("Q",e=>n.post("/site?action=get_ignore_vuln",e)),e("W",e=>n.post("/site?action=ignore_vuln",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("s",e=>n.post("/site?action=set_auth_scan",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}})),e("R",e=>n.post("/site?action=get_auth_scan_status",e)),e("H",()=>n.post("/data?action=get_wp_classification")));function gl(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Se(e)}e("I",e=>n.post("/site?action=set_wp_site_type",e,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),e("F",e=>n.post("/site?action=get_source_tables",e)),e("G",()=>n.post("/site?action=get_wp_sites")),e("E",e=>n.post("/site?action=wp_copy_data",e,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),e("e",e=>n.post("/site?action=get_wp_progress",e)),e("v",e=>n.post("/site?action=wp_manual_upload",e,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}}));const{t:fl}=s.global,xl=r(),wl=[{key:"cache",label:"Purge Cache",icon:()=>we("i",{class:"i-ant-design:clear-outlined text-18px"},null)},{key:"plugin",label:fl("WP.TableRow.index_5"),icon:()=>we("i",{class:"i-mingcute:plugin-2-line text-18px"},null)},{key:"theme",label:fl("WP.TableRow.index_6"),icon:()=>we("i",{class:"i-lsicon:clothes-outline text-18px"},null)},{key:"delete",label:fl("Public.Btn.Del"),icon:()=>we("i",{class:"i-weui:delete-outlined text-18px"},null)}],yl=ye({name:"CloseSite",props:{val:{type:String,required:!0},row:{type:Object,required:!0},close:{type:Function,required:!0},onOpenConfig:{type:Function}},emits:["close"],setup(e){const t="1"===e.val?fl("Site.PHP.index_22"):fl("Site.PHP.index_23"),a=()=>{e.close()},l=async()=>{await Dt("1"===e.val,{id:e.row.id,name:e.row.name}),e.row.status=e.val,e.close()};return()=>{let i,n;return we(be,null,[we("div",{class:"flex p-20px"},[we(u,{name:"base-warning",size:"30",color:"#f0a020"},null),we("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[lt(t)])]),we(N,null,{default:()=>[we(it,{size:"small",color:"#cbcbcb",onClick:a},gl(i=fl("Public.Btn.Cancel"))?i:{default:()=>[i]}),"1"!==e.val?we(it,{type:"warning",size:"small",onClick:()=>{xl.isFree?G({source:371}):e.onOpenConfig?.()}},{default:()=>["Maintenance"]}):"",we(it,{size:"small",type:"1"===e.val?"primary":"error",onClick:l},gl(n=fl("Public.Btn.Confirm"))?n:{default:()=>[n]})]})])}}}),bl=e("o",async(e,a,l)=>{J({title:e,width:500,minHeight:200,data:{params:a,callback:l},component:xe(()=>o(()=>t.import("./progress-legacy.js?v=1764830988434"),void 0))})}),Sl={class:"website-status"},kl={class:"i-famicons:play-circle-outline"},Cl={class:"i-ic:baseline-pause-circle-outline text-error"},Pl=ye({__name:"Status",props:{status:{type:String,default:"0"},maintenance:{type:Boolean,default:!1},checkedValue:{type:String,default:"1"},unCheckedValue:{type:String,default:"0"},onUpdateValue:{type:Function},onOpenConfig:{type:Function}},setup(e){const t=t=>{t.stopPropagation(),e.onUpdateValue?.(e.status===e.checkedValue?e.unCheckedValue:e.checkedValue)},a=()=>{e.onOpenConfig?.()};return(l,i)=>(Ce(),ke("div",Sl,[e.maintenance?(Ce(),ke("div",{key:1,onClick:a},i[0]||(i[0]=[Le("i",{class:"i-pajamas:issue-type-maintenance text-warning text-18px"},null,-1)]))):(Ce(),ke("div",{key:0,onClick:t},[Pe(Le("i",kl,null,512),[[$e,e.status===e.checkedValue]]),Pe(Le("i",Cl,null,512),[[$e,e.status===e.unCheckedValue]])]))]))}}),$l=c(Pl,[["__scopeId","data-v-dd29927d"]]),Ll=ye({__name:"Backup",props:{count:{type:Number,default:0},lastTime:{type:String,default:""}},emits:["showBackup"],setup(e,{emit:t}){const a=t,l=()=>{a("showBackup")},i=t=>Ha(new Date,e.lastTime||new Date)>=t,n=fe(()=>{if(0===e.count)return"Backup now";const t=Ha(new Date,e.lastTime||new Date);return 0===t?"Today":1===t?"Yesterday":`${t} days ago`}),s=fe(()=>i(30)||e.count<=0?"error":i(7)?"warning":"primary");return(t,a)=>{const i=nt,o=st;return Ce(),ke("div",{class:"flex items-center gap-8px cursor-pointer",onClick:l},[we(i,{type:We(s),size:"small",bordered:!1},{default:Ue(()=>[Re(Te(e.count),1)]),_:1},8,["type"]),we(o,{disabled:0===e.count},{trigger:Ue(()=>[Le("div",{class:qe({"text-error":"error"===We(s),"text-warning":"warning"===We(s)})},Te(We(n)),3)]),default:Ue(()=>[Re(" "+Te(e.lastTime),1)]),_:1},8,["disabled"])])}}}),{t:Wl}=s.global;function Ul(e){J({title:1===e.length?`${Wl("Site.Cert.index_56")} [${e[0].name}]`:`${Wl("Site.Cert.index_57")}`,width:480,minHeight:248,footer:!0,data:{rows:e},component:xe(()=>o(()=>t.import("./index-legacy247.js?v=1764830988434"),void 0))})}const Rl=e=>{const{row:t,onClick:a}=e,{t:l}=Oe();return we($l,{status:t.status,maintenance:t.maintenance,onOpenConfig:a,onUpdateValue:e=>{((e,t)=>{const i=`${l("1"===e?"Site.PHP.index_21_2":"Site.PHP.index_21_3")} ${l("Site.PHP.index_21_1",[t.name])}`,n=J({title:i,width:420,content:()=>we(yl,{val:e,row:t,close:()=>n.hide(),onOpenConfig:a},null)})})(e,t)}},null)},Tl=e=>{const{row:a}=e,{t:l}=Oe();return we(Ll,{count:a.backup_count,lastTime:a.last_backup_time,onShowBackup:()=>{J({title:`${l("Site.Config.index_26")} [${a.name}]`,width:720,minHeight:200,data:{row:a},component:xe(()=>o(()=>t.import("./index-legacy249.js?v=1764830988434"),void 0))})}},null)};function ql({onClick:e}){const a={key:"action",title:Wl("Site.TableRow.index_30"),width:180,align:"right",render:a=>we(ot,{size:2,class:"justify-end!"},{default:()=>[we(Q,{options:[{label:Wl("Site.TableOP.index_1"),disabled:"0"==a.status,onClick:()=>{var e;e=a,J({title:Wl("WP.index_21"),width:420,minHeight:180,footer:!1,data:e,component:xe(()=>o(()=>t.import("./index-legacy248.js?v=1764830988434"),void 0))})}},{label:Wl("Site.TableOP.index_2"),onClick:()=>{e(a)}},{label:Wl("Ftp.Table.index_15"),onClick:()=>{e(a,{menu:"logs"})}}]},null),we(dt,{trigger:"click",options:wl,onSelect:t=>((t,a)=>{switch(t){case"delete":Ul([a]);break;case"cache":Ht({s_id:a.id});break;default:e(a,{menu:"wordpress",subMenu:t})}})(t,a)},{default:()=>[we("i",{class:"i-famicons:ellipsis-vertical text-18px cursor-pointer"},null)]})]})};return a}const{t:Ol}=s.global,Bl={class:"website-name"},jl={key:1,class:"flex-center w-24px h-24px rounded-50%"},El=["src"],Ml={class:"flex flex-col flex-1 w-0 overflow-hidden"},Dl={class:"flex items-center gap-8px"},Hl={class:"min-w-0"},Il={class:"website-description"},Nl=ye({__name:"Name",props:{ico:{type:String,default:""},name:{type:String,default:"--"},description:{type:String,default:"--"}},emits:["clickName","clickServer","blur"],setup(e,{emit:t}){const a=p(),{theme:l}=Be(a),i=t,n=()=>{i("clickName")},s=()=>{i("clickServer")},o=()=>{window.open(`http://${e.name}`)},d=e=>{i("blur",e)};return(t,a)=>{const i=rt,r=it,u=Y;return Ce(),ke("div",Bl,[Le("div",{class:"website-icon",onClick:s},[e.ico?(Ce(),ke("div",jl,[Le("img",{src:e.ico,class:"w-full h-full"},null,8,El)])):(Ce(),ke("div",{key:0,class:qe(["flex-center w-24px h-24px rounded-50%","dark"!==We(l)&&"bg-#F1F9F3"])},[Le("i",{class:qe(["i-mdi:earth text-18px","dark"!==We(l)&&"text-primary"])},null,2)],2))]),Le("div",Ml,[Le("div",Dl,[Le("div",Hl,[we(i,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:Ue(()=>[Le("span",{class:qe(["cursor-pointer","dark"!==We(l)&&"text-primary"]),onClick:n},Te(e.name),3)]),_:1})]),we(r,{type:"primary",text:"",onClick:o},{default:Ue(()=>a[0]||(a[0]=[Le("i",{class:"i-fa-solid:external-link-alt"},null,-1)])),_:1,__:[0]})]),Le("div",Il,[we(u,{value:e.description,onBlur:d},null,8,["value"])])])])}}}),zl=c(Nl,[["__scopeId","data-v-35c01248"]]),Al=ye({__name:"Quick",props:{protection:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},emits:["showPhp","showToolkit","showProtection","showClone"],setup(e,{emit:t}){const a=e,l=fe(()=>{if(!a.protection||!Array.isArray(a.protection))return!1;const e=a.protection.find(e=>Object.keys(e)[0]===a.row.name);return!!e&&e[a.row.name]}),i=t,n=je(),s=()=>{m("Path",a.row.path),n.push("/files")},o=()=>{i("showPhp")},d=()=>{i("showToolkit")},r=()=>{i("showProtection")},u=()=>{i("showClone")},c=async()=>{await It({version:a.row.php_version,sitename:a.row.name,act:!a.row.cache_status}),a.row.cache_status=!a.row.cache_status};return(t,a)=>{const i=it,n=st,p=_,m=ot;return Ce(),Ee(m,{class:"items-center flex-nowrap! justify-center!",size:2},{default:Ue(()=>[we(n,{trigger:"hover"},{trigger:Ue(()=>[we(i,{text:"",onClick:d},{default:Ue(()=>[Re(Te(e.row.wp_version),1)]),_:1})]),default:Ue(()=>[a[0]||(a[0]=Re(" WP version ",-1))]),_:1,__:[0]}),we(p,{vertical:""}),we(n,{trigger:"hover"},{trigger:Ue(()=>[we(i,{text:"",onClick:s},{default:Ue(()=>a[1]||(a[1]=[Le("i",{class:"i-fa:folder-open-o text-13px"},null,-1)])),_:1,__:[1]})]),default:Ue(()=>[Re(" "+Te(e.row.path),1)]),_:1}),we(p,{vertical:""}),we(n,{trigger:"hover"},{trigger:Ue(()=>[Le("span",{class:"flex cursor-pointer text-16px",onClick:u},a[2]||(a[2]=[Le("i",{class:"i-prime:clone text-20px"},null,-1)]))]),default:Ue(()=>[a[3]||(a[3]=Re(" Clone site ",-1))]),_:1,__:[3]}),we(p,{vertical:""}),we(n,{trigger:"hover"},{trigger:Ue(()=>[Le("span",{class:"flex cursor-pointer text-18px",onClick:c},[Le("i",{class:qe(["i-lets-icons:lightning-ring",e.row.cache_status&&"text-primary"])},null,2)])]),default:Ue(()=>[a[4]||(a[4]=Re(" Cache ",-1))]),_:1,__:[4]}),we(p,{vertical:""}),we(n,{trigger:"hover"},{trigger:Ue(()=>[Le("span",{class:"flex cursor-pointer text-18px",onClick:r},[Le("i",{class:qe(["i-lineicons:protection",We(l)&&"text-primary"])},null,2)])]),default:Ue(()=>[a[5]||(a[5]=Re(" Protection ",-1))]),_:1,__:[5]}),we(p,{vertical:""}),we(n,{trigger:"hover"},{trigger:Ue(()=>[we(i,{text:"",onClick:o},{default:Ue(()=>[Re(Te(e.row.php_version),1)]),_:1})]),default:Ue(()=>[a[6]||(a[6]=Re(" PHP version ",-1))]),_:1,__:[6]})]),_:1})}}}),Fl=["onClick"],Vl={class:"whitespace-nowrap mr-10px"},Jl={class:"w-120px"},Kl=ye({__name:"Ssl",props:{config:{type:[Number,Object],default:-1},sslApplyList:{type:Array,default:()=>[]}},emits:["click"],setup(e,{emit:a}){const{t:l}=Oe(),n=a,s=()=>{n("click")};return(a,n)=>{const d=it,r=ut,c=u,p=ot;return We(i)(e.config)?(Ce(),Ee(d,{key:0,type:e.config.endtime<0?"error":"primary",text:"",onClick:s},{default:Ue(()=>[Re(Te(e.config.endtime<0?a.$t("Site.PHP.index_28"):a.$t("Site.PHP.index_29",[e.config.endtime])),1)]),_:1},8,["type"])):e.sslApplyList.length>0?(Ce(!0),ke(be,{key:1},Me(e.sslApplyList,e=>(Ce(),ke("div",{class:"flex flex-nowrap! p-10px cursor-pointer justify-between items-center",key:e.task_name,onClick:a=>{return i=a,n=e.task_log,i.stopPropagation(),void J({title:l("SSL.Domain.index_5"),width:700,height:450,data:{path:n},component:xe(()=>o(()=>t.import("./ssl-log-legacy.js?v=1764830988434"),void 0))});var i,n}},[Le("span",Vl,Te(e.task_name),1),we(p,{class:"items-center flex-nowrap!"},{default:Ue(()=>[Le("div",Jl,[we(r,{class:"w-full",type:"line",status:"success","indicator-placement":"inside",percentage:e.task_status,processing:100!==e.task_status},null,8,["percentage","processing"])]),we(c,{name:"base-left-logs",size:"18",color:"#666666"})]),_:2},1024)],8,Fl))),128)):(Ce(),Ee(d,{key:2,type:"warning",text:"",onClick:s},{default:Ue(()=>[Re(Te(a.$t("Site.PHP.index_30")),1)]),_:1}))}}}),Xl={class:"text-left"},Gl={class:"cursor-pointer"},Ql=ye({__name:"Requests",props:{name:{type:String,default:""},total:{type:[Number,String],default:0},value:{type:Array,default:()=>[]}},setup(e){const t=fe(()=>e.total.toLocaleString("en-US")),a=fe(()=>({xAxis:{type:"category",data:e.value.map(e=>e.date)},yAxis:{type:"value",show:!1},series:[{name:"Page views",data:e.value.map(e=>e.value),type:"line",lineStyle:{color:"#20a53a",width:2},areaStyle:{color:"rgba(32, 165, 58, 0.1)"},symbol:"none"}],grid:{left:0,right:0,top:0,bottom:0}})),l=e=>{(async e=>{await K({source:142}),await X("monitor"),Ma({name:"monitor",title:"Website statistics-v2",admin:!0});const t=setInterval(()=>{window.document.getElementsByClassName("layui-layer-page")[0]&&(clearInterval(t),setTimeout(()=>{document.querySelectorAll(".mt_select_list li").forEach(t=>{t.getAttribute("data-name")===e&&t.click()})},1200))},50)})(e)};return(i,n)=>(Ce(),ke("div",{class:"flex flex-col gap-3px cursor-pointer",onClick:n[0]||(n[0]=t=>l(e.name))},[Le("div",Xl,Te(We(t)),1),Le("div",Gl,[we(Ia,{type:"line",option:We(a),height:"15px"},null,8,["option"])])]))}}),Yl=Symbol("server-list");function Zl(){return De(Yl)}const{t:ei}=s.global;function ti(){return{key:"name",title:ei("Site.TableRow.index_19"),render:e=>we(h,{href:`http://${e.name}:${e.port}`,target:"_blank"},{default:()=>[e.name]})}}function ai(){return{key:"port",title:ei("Site.TableRow.index_16"),width:100}}function li(){return{key:"action",title:ei("Public.Table.Action"),width:80,align:"right",render:()=>we("span",{class:"text-default"},[ei("Site.TableOP.index_9")])}}function ii({delDomain:e}){return{key:"action",title:ei("Public.Table.Action"),width:80,align:"right",render:t=>we(Q,{options:[{label:ei("Public.Btn.Del"),onClick:()=>{ae({title:`${ei("Site.Batch.index_12")}[${t.name}]`,content:ei("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const ni={class:"flex justify-between items-center mb-24px"},si={class:"w-400px"},oi={class:"pr-40px"},di=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),i=ge(""),n=async()=>{""!==i.value.trim()?(await Ft({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",_()):g.error(a("Site.RulesError.index_31"))},s=async e=>{await zt({id:l.id,webname:l.name,domain:e.name,port:e.port}),_()},{keys:o,table:d,columns:r}=Z([{type:"selection",width:40},ti(),ai(),ii({delDomain:s})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>zt({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{_()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=le(),_=async()=>{try{p(!0);const e={id:l.id},{message:t}=await At(e);d.data=v(t)?t:[],d.data.length>1?r.value[r.value.length-1]=ii({delDomain:s}):r.value[r.value.length-1]=li()}finally{o.value=[],p(!1)}};return _(),t({init:_}),(e,t)=>{const a=za,l=it,s=ie,p=V,_=A;return Ce(),ke("div",null,[Le("div",ni,[Le("div",si,[we(a,{value:We(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null)},{default:Ue(()=>[Le("p",null,Te(e.$t("Site.Config.index_30")),1),Le("p",null,Te(e.$t("Site.Config.index_31")),1),Le("p",null,Te(e.$t("Site.Config.index_32")),1)]),_:1},8,["value"])]),Le("div",oi,[we(l,{type:"primary",onClick:n},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_62")),1)]),_:1})])]),we(_,null,{table:Ue(()=>[we(s,{"checked-row-keys":We(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(o)?o.value=e:null),loading:We(c),"max-height":400,data:We(d).data,columns:We(r)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(p,{"checked-row-keys":We(o),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Ie(o)?o.value=e:null),data:We(d).data,options:u},null,8,["checked-row-keys","data"])]),_:1})])}}}),ri={class:"pt-16px"},ui={class:"flex-1"},ci={class:"w-240px"},pi={class:"mt-8px text-desc"},_i={class:"flex-1"},mi={class:"w-240px"},hi={class:"mt-12px text-desc"},vi={class:"my-16px"},gi={class:"text-desc"},fi={class:"my-20px"},xi={class:"w-240px"},wi={class:"w-240px"},yi={class:"w-240px"},bi=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),n=ge("");let s="";const o=async()=>{""!==n.value.trim()?n.value!==s?(await Vt({id:l.id,name:l.name,path:n.value}),y()):g.success(a("Site.RulesError.index_13")):g.error(a("Site.RulesError.index_13"))},d=ge(null),r=ge([]),u=async()=>{null!==d.value?(await Jt({id:l.id,runPath:d.value}),y()):g.error(a("Site.RulesError.index_15"))},c=ge(!1),p=async()=>{await Kt({id:l.id,path:l.path}),y()},m=ge(!1),h=async()=>{await Xt({id:l.id}),y()},v=ge(!1),f=Ne({username_get:"",password_get_1:"",password_get_2:""}),x=async e=>{e||(await Gt({id:l.id}),y())},w=async()=>{""!==f.username_get.trim()?""!==f.password_get_1.trim()?""!==f.password_get_2.trim()?f.username_get.trim().length<3||f.password_get_1.trim().length<3?g.error(a("Site.RulesError.index_35")):f.password_get_1.trim()===f.password_get_2.trim()?(await Qt({id:l.id,username:f.username_get,password:f.password_get_1}),f.username_get="",f.password_get_1="",f.password_get_2="",y()):g.error(a("Site.RulesError.index_38")):g.error(a("Site.RulesError.index_37")):g.error(a("Site.RulesError.index_36")):g.error(a("Site.RulesError.index_34"))},y=()=>{(async()=>{const{message:e}=await Yt({id:l.id});i(e)&&(n.value=e.result||"/www",s=n.value)})(),(async()=>{const{message:e}=await Zt({id:l.id,path:l.path});if(i(e)){d.value=at(e,"runPath.runPath",null),c.value=at(e,"userini",!1),m.value=at(e,"logs.result",!1),v.value=at(e,"pass.result",!1);const t=at(e,"runPath.dirs",[]);r.value=t.map(e=>({label:e,value:e}))}})()};return y(),t({init:y}),(e,t)=>{const a=Va,l=it,i=ot,s=_t,g=mt,y=_,b=ht,S=vt,k=Fa;return Ce(),ke("div",ri,[we(k,{"label-width":"140"},{default:Ue(()=>[we(s,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:Ue(()=>[Le("div",ui,[we(i,null,{default:Ue(()=>[Le("div",ci,[we(a,{value:We(n),"onUpdate:value":t[0]||(t[0]=e=>Ie(n)?n.value=e:null)},null,8,["value"])]),we(l,{type:"primary",onClick:o},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1}),Le("div",pi,Te(e.$t("Site.Config.index_35")),1)])]),_:1},8,["label"]),we(s,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:Ue(()=>[Le("div",_i,[we(i,null,{default:Ue(()=>[Le("div",mi,[we(g,{value:We(d),"onUpdate:value":t[1]||(t[1]=e=>Ie(d)?d.value=e:null),options:We(r)},null,8,["value","options"])]),we(l,{type:"primary",onClick:u},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1}),Le("div",hi,Te(e.$t("Site.Config.index_36")),1)])]),_:1},8,["label"]),Le("div",vi,[we(y,{dashed:""})]),we(s,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:Ue(()=>[we(i,{class:"items-center"},{default:Ue(()=>[we(b,{value:We(c),"onUpdate:value":[t[2]||(t[2]=e=>Ie(c)?c.value=e:null),p]},null,8,["value"]),Le("div",gi,Te(e.$t("Site.Config.index_37")),1)]),_:1})]),_:1},8,["label"]),we(s,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:Ue(()=>[we(i,{class:"items-center"},{default:Ue(()=>[we(b,{value:We(m),"onUpdate:value":[t[3]||(t[3]=e=>Ie(m)?m.value=e:null),h]},null,8,["value"]),t[8]||(t[8]=Le("div",{class:"text-desc"},null,-1))]),_:1,__:[8]})]),_:1},8,["label"]),Le("div",fi,[we(y,{dashed:""})]),we(s,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Ue(()=>[we(i,{class:"items-center"},{default:Ue(()=>[we(b,{value:We(v),"onUpdate:value":[t[4]||(t[4]=e=>Ie(v)?v.value=e:null),x]},null,8,["value"]),t[9]||(t[9]=Le("div",{class:"text-desc"},null,-1))]),_:1,__:[9]})]),_:1},8,["label"]),We(v)?(Ce(),ke(be,{key:0},[we(s,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:Ue(()=>[Le("div",xi,[we(S,{value:We(f).username_get,"onUpdate:value":t[5]||(t[5]=e=>We(f).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),we(s,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Ue(()=>[Le("div",wi,[we(S,{value:We(f).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>We(f).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),we(s,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:Ue(()=>[Le("div",yi,[we(S,{value:We(f).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>We(f).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),we(s,{class:"mt-16px",label:" ","show-feedback":!1},{default:Ue(()=>[we(l,{type:"primary",onClick:w},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})],64)):ze("",!0)]),_:1})])}}}),Si={class:"mt-8px"},ki=ye({__name:"index",setup(e,{expose:t}){const{multiService:a}=Be(r()),{data:l}=Zl(),n=ul(),s=ge(null),o=ge(),d=ge(""),u=async()=>{await(async()=>{const{message:e}=await qt({site_id:l.id});i(e)&&(o.value=e.result)})(),d.value=await(()=>{const e=a.value?o.value:n.webserver;return`/www/server/panel/vhost/${"openlitespeed"===e?`${e}/detail`:e}/${l.name}.conf`})(),s.value?.getContent()},c=()=>{s.value?.saveFile()};return Ae(()=>{u()}),t({init:u}),(e,t)=>{const l=gt,i=it,n=te;return Ce(),ke("div",null,[We(a)?(Ce(),Ee(l,{key:0,type:"warning",class:"mb-16px"},{default:Ue(()=>t[1]||(t[1]=[Le("span",{class:"font-bold"},"Multi-WebServer Hosting Do not modify the port, otherwise the website will not be accessible normally",-1)])),_:1,__:[1]})):ze("",!0),we(Ja,{ref_key:"configRef",ref:s,path:We(d),"onUpdate:path":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),height:"460","show-tips":!We(a)},null,8,["path","show-tips"]),Le("div",Si,[we(i,{type:"primary",onClick:c},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),we(n,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_54")),1),Le("li",null,Te(e.$t("Site.Config.index_55")),1)]),_:1})])}}}),Ci={class:"px-20px py-24px"},Pi={class:"w-120px"},$i={class:"w-120px"},Li={class:"w-200px"},Wi={class:"w-200px"},Ui={class:"w-200px"},Ri=ye({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Oe(),l=e,{isEdit:i,siteId:n,siteName:s,row:o,getList:d}=l.data,r=ge(null),u=Ne({redirectname:`${(new Date).valueOf()}`,type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),c={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],_=[{label:"301",value:"301"},{label:"302",value:"302"}],m=ge([]),h=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:g,setLoading:f}=le();return i&&o&&(u.redirectname=o.redirectname,u.type=o.type,u.holdpath=o.holdpath,u.redirecttype=o.redirecttype,u.redirectpath=o.redirectpath,u.domainorpath=o.domainorpath,u.redirectdomain=o.redirectdomain,u.tourl=o.tourl),(async()=>{try{f(!0);const{message:e}=await At({id:n});m.value=v(e)?e.map(e=>({label:e.name,value:e.name})):[]}finally{f(!1)}})(),t({onConfirm:async({hide:e})=>{await(r.value?.validate());const t={...Fe(u),sitename:s};i?await ta(t):await ea(t),d?.(),e()}}),(e,t)=>{const a=ht,l=_t,i=ot,n=mt,s=vt,o=Fa,d=te;return Ce(),ke("div",Ci,[we(o,{ref_key:"formRef",ref:r,model:We(u),rules:c},{default:Ue(()=>[we(i,{size:60},{default:Ue(()=>[we(l,{label:e.$t("Site.Lable.index_34")},{default:Ue(()=>[we(a,{value:We(u).type,"onUpdate:value":t[0]||(t[0]=e=>We(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:Ue(()=>[we(a,{value:We(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>We(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1}),we(i,{size:30},{default:Ue(()=>[we(l,{label:e.$t("Site.TableRow.index_11")},{default:Ue(()=>[Le("div",Pi,[we(n,{value:We(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>We(u).domainorpath=e),h],options:p},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:Ue(()=>[Le("div",$i,[we(n,{value:We(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>We(u).redirecttype=e),options:_},null,8,["value"])])]),_:1},8,["label"])]),_:1}),"domain"===We(u).domainorpath?(Ce(),Ee(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:Ue(()=>[Le("div",Li,[we(n,{value:We(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>We(u).redirectdomain=e),multiple:!0,loading:We(g),options:We(m),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])]),_:1},8,["label"])):ze("",!0),"path"===We(u).domainorpath?(Ce(),Ee(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:Ue(()=>[Le("div",Wi,[we(s,{value:We(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>We(u).redirectpath=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])):ze("",!0),we(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:Ue(()=>[Le("div",Ui,[we(s,{value:We(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>We(u).tourl=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),we(d,{class:"mt-12px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_77")),1),Le("li",null,Te(e.$t("Site.Config.index_78")),1),Le("li",null,Te(e.$t("Site.Config.index_79")),1),Le("li",null,Te(e.$t("Site.Config.index_80")),1),Le("li",null,Te(e.$t("Site.Config.index_81")),1),Le("li",null,Te(e.$t("Site.Config.index_82")),1)]),_:1})])}}}),Ti={class:"p-20px"},qi={class:"mt-12px"},Oi=ye({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:n,getList:s}=a.data,o=t,d=ul(),r=ge(""),u=ge(""),c=ge(""),p=async()=>{const{message:e}=await la({path:c.value,data:r.value,encoding:u.value});i(e)&&g.success(e.msg),s?.(),o("close")};return(async()=>{const{message:e}=await aa({sitename:n,redirectname:l.redirectname,webserver:d.webserver});i(e)&&(c.value=e.file,r.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=it,l=te;return Ce(),ke("div",Ti,[we(Ja,{value:We(r),"onUpdate:value":t[0]||(t[0]=e=>Ie(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),Le("div",qi,[we(a,{type:"primary",onClick:p},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),we(l,{class:"mt-24px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_83")),1)]),_:1})])}}}),Bi=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:s,columns:o}=Z([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>we(h,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await sa({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>we(se,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await sa({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},ne({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{ae({title:`${a("Site.Batch.index_14")} [${e.redirectname}]`,content:a("Site.Batch.index_15"),onConfirm:async({hide:t})=>{await ia({sitename:l.name,redirectname:e.redirectname}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>ia({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=le(),c=async()=>{try{u(!0);const{message:e}=await na({sitename:l.name});s.data=v(e)?e:[]}finally{n.value=[],u(!1)}},p=oe(a("Site.Config.index_74"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:c}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_74"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=`${a("Site.Config.index_75")} [${e.redirectname}]`,p.show=!0},g=oe("",{row:void 0,siteName:l.name,getList:c}),f=e=>{g.data.row=e,g.title=`${a("Site.Config.index_76")} [${e.redirectname}]`,g.show=!0};return c(),t({init:c}),(e,t)=>{const a=it,l=ie,i=V,u=A,c=z;return Ce(),ke("div",null,[we(u,null,{toolsLeft:Ue(()=>[we(a,{type:"primary",onClick:_},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_73")),1)]),_:1})]),table:Ue(()=>[we(l,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"redirectname",loading:We(r),"max-height":440,data:We(s).data,columns:We(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(i,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"redirectname",data:We(s).data,options:d},null,8,["checked-row-keys","data"])]),_:1}),we(c,{show:We(p).show,"onUpdate:show":t[2]||(t[2]=e=>We(p).show=e),title:We(p).title,data:We(p).data,width:660,footer:!0,component:Ri},null,8,["show","title","data"]),we(c,{show:We(g).show,"onUpdate:show":t[3]||(t[3]=e=>We(g).show=e),title:We(g).title,data:We(g).data,width:580,component:Oi},null,8,["show","title","data"])])}}}),ji={class:"px-20px py-24px"},Ei={class:"w-220px"},Mi={class:"w-220px"},Di={class:"w-220px"},Hi={class:"w-220px"},Ii={class:"w-220px"},Ni={class:"w-220px"},zi={class:"w-220px"},Ai=ye({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Oe(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=ge(null),r=Ne({type:1,keepuri:1,proxyname:`proxy_${f(5)}`,cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advancedfeature:0,sitename:n}),u=ge([{key:"",value:""}]),c={proxyname:{trigger:["blur","input"],validator:()=>""!==r.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===r.cache&&!r.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>""!==r.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==r.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==r.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},p=e=>{const t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),_.value||(t.test(e)?r.todomain="$host":r.todomain=e)},_=ge(!1),m=()=>{r.todomain&&"$host"!==r.todomain&&(_.value=!0)},v=ge([]),g=()=>{v.value.length>=3||v.value.push({sub1:"",sub2:""})};return g(),(()=>{if(i&&s){r.type=s.type,r.keepuri=s.keepuri,r.cache=s.cache,r.advancedfeature=s.advancedfeature,r.proxyname=s.proxyname,r.cachetime=s.cachetime,r.proxydir=s.proxydir,r.proxysite=s.proxysite,r.todomain=s.todomain,r.sitename=s.sitename,u.value=s.rewritedir.length?s.rewritedir.map(e=>({key:e.dir1,value:e.dir2})):[{key:"",value:""}];const e=s.subfilter.filter(e=>""!==e.sub1||""!==e.sub2);e.length>0&&(v.value=e)}})(),t({onConfirm:async({hide:e})=>{await(d.value?.validate());const t=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];e.forEach((e,t)=>{v.value.length-1<t||(e.sub1=v.value[t].sub1,e.sub2=v.value[t].sub2)});const t=u.value.filter(e=>""!==e.key||""!==e.value).map(e=>({dir1:e.key,dir2:e.value}));return{...Fe(r),advanced:r.advancedfeature,subfilter:e,rewritedir:JSON.stringify(t)}})();i?await da(t):await oa(t),o?.(),e()}}),(e,t)=>{const a=ht,l=_t,n=ot,s=vt,o=xt,_=wt,f=ft,w=x,y=h,b=it,S=Fa,k=te;return Ce(),ke("div",ji,[we(S,{ref_key:"formRef",ref:d,model:We(r),rules:c},{default:Ue(()=>[we(n,null,{default:Ue(()=>[we(l,{label:"Show Proxy Path"},{default:Ue(()=>[we(a,{value:We(r).keepuri,"onUpdate:value":t[0]||(t[0]=e=>We(r).keepuri=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1}),we(l,{label:e.$t("Site.Lable.index_47")},{default:Ue(()=>[we(a,{value:We(r).cache,"onUpdate:value":t[1]||(t[1]=e=>We(r).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_35")},{default:Ue(()=>[we(a,{value:We(r).advancedfeature,"onUpdate:value":t[2]||(t[2]=e=>We(r).advancedfeature=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1}),we(l,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:Ue(()=>[Le("div",Ei,[we(s,{value:We(r).proxyname,"onUpdate:value":t[3]||(t[3]=e=>We(r).proxyname=e),disabled:We(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])]),_:1},8,["label"]),1===We(r).cache?(Ce(),Ee(l,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:Ue(()=>[Le("div",Mi,[we(f,null,{default:Ue(()=>[we(o,{value:We(r).cachetime,"onUpdate:value":t[4]||(t[4]=e=>We(r).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),we(_,{class:"w-70px text-center"},{default:Ue(()=>[Re(Te(We(r).cachetime>1?"Minutes":"Minute"),1)]),_:1})]),_:1})])]),_:1},8,["label"])):ze("",!0),we(l,{label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:Ue(()=>[Le("div",Di,[we(s,{value:We(r).proxydir,"onUpdate:value":t[5]||(t[5]=e=>We(r).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_33")},{default:Ue(()=>[Le("div",Hi,[we(s,{value:We(r).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>We(r).proxysite=e),p],placeholder:"","input-props":{name:"url"}},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_36")},{default:Ue(()=>[Le("div",Ii,[we(s,{value:We(r).todomain,"onUpdate:value":t[7]||(t[7]=e=>We(r).todomain=e),placeholder:"","input-props":{name:"domain"},onBlur:m},null,8,["value"])])]),_:1},8,["label"]),Pe(we(l,{label:"URL Rewrite"},{default:Ue(()=>[we(w,{class:"w-450px!",min:1,value:We(u),"onUpdate:value":t[8]||(t[8]=e=>Ie(u)?u.value=e:null),preset:"pair","key-placeholder":"/aaa","value-placeholder":"/bbb"},null,8,["value"])]),_:1},512),[[$e,1===We(r).advancedfeature]]),Pe(we(l,{label:e.$t("Site.Lable.index_37")},{default:Ue(()=>[we(n,{class:"flex-1",vertical:""},{default:Ue(()=>[(Ce(!0),ke(be,null,Me(We(v),(t,a)=>(Ce(),Ee(n,{key:`${a+1}`,class:"sub-rows items-center"},{default:Ue(()=>[Le("div",Ni,[we(s,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),Le("div",zi,[we(s,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),Le("div",null,[we(y,{type:"error",disabled:0===a&&1===We(v).length,onClick:e=>(e=>{v.value.length<=1||v.value.splice(e,1)})(a)},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Del")),1)]),_:2},1032,["disabled","onClick"])])]),_:2},1024))),128)),Le("div",null,[we(b,{type:"primary",disabled:We(v).length>=3,onClick:g},{default:Ue(()=>[Le("span",null,Te(e.$t("Site.Config.index_87")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["label"]),[[$e,1===We(r).advancedfeature]])]),_:1},8,["model"]),we(k,{class:"mt-12px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_88")),1),Le("li",null,Te(e.$t("Site.Config.index_89")),1),Le("li",null,Te(e.$t("Site.Config.index_90")),1),Le("li",null,Te(e.$t("Site.Config.index_91")),1)]),_:1})])}}}),Fi={class:"p-20px"},Vi={class:"mt-12px"},Ji=ye({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const{multiService:a}=Be(r()),l=e,{row:n,siteName:s,getList:o}=l.data,{data:d}=Zl(),u=t,c=ul(),p=ge(""),_=ge(""),m=ge(""),h=ge(),v=async()=>{const{message:e}=await ra({path:m.value,data:p.value,encoding:_.value});i(e)&&g.success(e.msg),o?.(),u("close")};return(async()=>{await(async()=>{const{message:e}=await qt({site_id:d.id});i(e)&&(h.value=e.result)})(),(async()=>{const{message:e}=await ua({sitename:s,proxyname:n.proxyname,webserver:a.value?h.value:c.webserver});i(e)&&(m.value=e.file,p.value=e.data,_.value=e.encoding)})()})(),(e,t)=>{const a=it,l=te;return Ce(),ke("div",Fi,[we(Ja,{value:We(p),"onUpdate:value":t[0]||(t[0]=e=>Ie(p)?p.value=e:null),height:350,"show-tips":!1},null,8,["value"]),Le("div",Vi,[we(a,{type:"primary",onClick:v},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),we(l,{class:"mt-24px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_83")),1)]),_:1})])}}}),Ki=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime,keepuri:e.keepuri,rewritedir:JSON.stringify(e.rewritedir),advancedfeature:e.advancedfeature}),{keys:n,table:s,columns:o}=Z([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>we("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>we(h,{type:1===e.cache?"primary":"error",onClick:async()=>{await da({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>we(se,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await da({...i(e),type:t,cache:e.cache}),e.type=t}},null)},ne({width:140,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{ae({title:`${a("Site.Batch.index_16")} [${e.proxyname}]`,content:a("Site.Batch.index_17"),onConfirm:async({hide:t})=>{await ca({sitename:l.name,proxyname:e.proxyname}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>ca({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{c()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:r,setLoading:u}=le(),c=async()=>{try{u(!0);const{message:e}=await pa({sitename:l.name});s.data=v(e)?e:[]}finally{n.value=[],u(!1)}},p=oe(a("Site.Config.index_86"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_86"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=`${a("Site.Config.index_75")} [${e.proxyname}]`,p.show=!0},g=oe("",{row:void 0,siteName:l.name,getList:c}),f=e=>{g.data.row=e,g.title=`${a("Site.Config.index_76")} [${e.proxyname}]`,g.show=!0};return c(),t({init:c}),(e,t)=>{const a=it,l=ie,i=V,u=A,c=z;return Ce(),ke("div",null,[we(u,null,{toolsLeft:Ue(()=>[we(a,{type:"primary",onClick:_},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_85")),1)]),_:1})]),table:Ue(()=>[we(l,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"proxyname",loading:We(r),"max-height":440,data:We(s).data,columns:We(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(i,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"proxyname",data:We(s).data,options:d},null,8,["checked-row-keys","data"])]),_:1}),we(c,{show:We(p).show,"onUpdate:show":t[2]||(t[2]=e=>We(p).show=e),title:We(p).title,data:We(p).data,width:660,footer:!0,component:Ai},null,8,["show","title","data"]),we(c,{show:We(g).show,"onUpdate:show":t[3]||(t[3]=e=>We(g).show=e),title:We(g).title,data:We(g).data,width:580,component:Ji},null,8,["show","title","data"])])}}}),Xi={class:"pt-8px"},Gi={class:"w-200px"},Qi={class:"flex flex-col"},Yi={class:"w-200px"},Zi={class:"mt-8px text-desc"},en={class:"flex flex-col"},tn={class:"w-200px"},an={class:"mt-8px text-desc"},ln={class:"flex flex-col"},nn={class:"w-200px"},sn={class:"mt-8px text-desc"},on=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),n=ge(null),s=Ne({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!s.perserver||new Error(a("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!s.perip||new Error(a("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!s.limit_rate||new Error(a("Site.RulesError.index_320"))}},d=ge([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?p():(await _a({id:l.id}),_())},u=(e,t)=>{const{items:a}=t;i(a)&&c(a)},c=e=>{s.perserver=e.perserver,s.perip=e.perip,s.limit_rate=e.limit_rate},p=async()=>{await(n.value?.validate()),await ma({id:l.id,perserver:s.perserver,perip:s.perip,limit_rate:s.limit_rate}),_()},_=async()=>{const{message:e}=await ha({id:l.id});i(e)&&(s.status=0!=e.perserver,c(d.value[0].items),w(e.perserver)&&0!=e.perserver&&(s.perserver=e.perserver),w(e.perip)&&0!=e.perip&&(s.perip=e.perip),w(e.limit_rate)&&0!=e.limit_rate&&(s.limit_rate=e.limit_rate))};return _(),t({init:_}),(e,t)=>{const a=yt,l=_t,i=mt,c=xt,_=it,m=Fa;return Ce(),ke("div",Xi,[we(m,{ref_key:"formRef",ref:n,"label-width":"150",class:"px-8px",model:We(s),rules:o},{default:Ue(()=>[we(l,{label:" "},{default:Ue(()=>[we(a,{checked:We(s).status,"onUpdate:checked":[t[0]||(t[0]=e=>We(s).status=e),r]},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_46")),1)]),_:1},8,["checked"])]),_:1}),we(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:Ue(()=>[Le("div",Gi,[we(i,{value:We(s).type,"onUpdate:value":[t[1]||(t[1]=e=>We(s).type=e),u],options:We(d)},null,8,["value","options"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:Ue(()=>[Le("div",Qi,[Le("div",Yi,[we(c,{value:We(s).perserver,"onUpdate:value":t[2]||(t[2]=e=>We(s).perserver=e),"show-button":!1,min:0},null,8,["value"])]),Le("div",Zi,Te(e.$t("Site.Config.index_47")),1)])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:Ue(()=>[Le("div",en,[Le("div",tn,[we(c,{value:We(s).perip,"onUpdate:value":t[3]||(t[3]=e=>We(s).perip=e),"show-button":!1,min:0},null,8,["value"])]),Le("div",an,Te(e.$t("Site.Config.index_48")),1)])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:Ue(()=>[Le("div",ln,[Le("div",nn,[we(c,{value:We(s).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>We(s).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),Le("div",sn,Te(e.$t("Site.Config.index_49")),1)])]),_:1},8,["label"]),we(l,{label:" "},{default:Ue(()=>[we(_,{type:"primary",onClick:p},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}}),dn=ye({__name:"index",setup(e,{expose:a}){const l=xe(()=>o(()=>t.import("./index-legacy251.js?v=1764830988434"),void 0)),{t:i}=Oe(),{config:n}=Zl(),s=ge("access"),d=ge(),r=[{key:"directory",label:i("Site.Config.index_4"),component:bi},{key:"file",label:i("Site.Config.index_15"),component:ki},{key:"rewrite",label:i("Site.Config.index_7"),component:l},{key:"redirect",label:i("Site.Config.index_21"),component:Bi},{key:"proxy",label:i("Site.Config.index_23"),component:Ki},{key:"traffic",label:i("Site.Config.index_6"),component:on}];return s.value=n.subMenu||"directory",n.subMenu="",a({init:()=>{s.value="directory",Ve(()=>{d.value?.init()})}}),(e,t)=>{const a=Aa;return Ce(),Ee(a,{value:We(s),"onUpdate:value":t[0]||(t[0]=e=>Ie(s)?s.value=e:null),ref_key:"tabsRef",ref:d,options:r},null,8,["value"])}}}),rn={class:"p-8"},un=ye({__name:"form",setup(e,{expose:t}){const a=ge(null),l=ge(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=Ne({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{await(a.value?.validate())}}),(e,t)=>{const o=Va,d=_t,r=yt,u=y,c=bt,p=Fa,_=ot,m=te;return Ce(),ke("div",rn,[we(_,null,{default:Ue(()=>[we(p,{ref_key:"formRef",ref:a,model:We(n),rules:i},{default:Ue(()=>[we(d,{label:"Detection path",path:"path"},{default:Ue(()=>[we(o,{disabled:"",value:We(n).path,"onUpdate:value":t[0]||(t[0]=e=>We(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])]),_:1}),we(d,{label:"Alert operation",path:"operation"},{default:Ue(()=>[we(c,{value:We(n).operation,"onUpdate:value":t[1]||(t[1]=e=>We(n).operation=e)},{default:Ue(()=>[we(u,null,{default:Ue(()=>[we(r,{value:0},{default:Ue(()=>t[2]||(t[2]=[Re(" Read ",-1)])),_:1,__:[2]}),we(r,{value:1,disabled:We(l)},{default:Ue(()=>t[3]||(t[3]=[Re(" delete ",-1)])),_:1,__:[3]},8,["disabled"]),we(r,{value:2,disabled:We(l)},{default:Ue(()=>t[4]||(t[4]=[Re(" Modify/increase ",-1)])),_:1,__:[4]},8,["disabled"])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),we(m,{class:"mt-16px"},{default:Ue(()=>t[5]||(t[5]=[Le("li",null,"Directory temporarily only supports reading alarm operation",-1)])),_:1,__:[5]})])}}}),cn={class:"p-5"},pn={class:"mt-16px"},_n=ye({__name:"monitor",setup(e){const t=ge(!1),a=ge(!1),l=ge([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=ge([]);return(e,n)=>{const s=it,o=ot,d=ie,r=te,u=z;return Ce(),ke("div",cn,[Le("div",null,[we(o,{justify:"space-between"},{default:Ue(()=>[we(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:Ue(()=>n[2]||(n[2]=[Re(" Add monitor ",-1)])),_:1,__:[2]}),we(s,null,{icon:Ue(()=>n[3]||(n[3]=[Le("img",{src:Ka,class:"w-5"},null,-1)])),_:1})]),_:1})]),Le("div",pn,[we(d,{loading:We(a),"loading-num":6,data:We(i),columns:We(l)},null,8,["loading","data","columns"])]),Le("div",null,[we(r,{class:"mt-16px"},{default:Ue(()=>[n[5]||(n[5]=Le("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=Le("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),Le("li",null,[we(s,{text:"",class:"color-#20a53a"},{default:Ue(()=>n[4]||(n[4]=[Re("Tutorial",-1)])),_:1,__:[4]})])]),_:1,__:[5,6]})]),we(u,{show:We(t),"onUpdate:show":n[1]||(n[1]=e=>Ie(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:un},null,8,["show"])])}}}),mn=c({},[["render",function(e,t){return Ce(),ke("div",null,"555")}]]),hn={class:"box mt-16px"},vn={key:0,class:"items-center warning"},gn={class:"warning"},fn={class:"color-#f23836"},xn=ye({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=ul(),a=ge(!1),l=ge(!1),i=ge(!1),n=e,s=r(),o=()=>{G({source:114})},d=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";ae({title:e,content:t,onConfirm:async()=>{const e=Ot(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,r)=>{const u=ht,c=ot,p=it,_=te,m=h,v=I,g=z;return Ce(),ke(be,null,[Le("div",hn,[we(v,{install:We(s).isPro,class:"install"},Je({default:Ue(()=>[we(c,{class:"items-center color-#666"},{default:Ue(()=>[r[8]||(r[8]=Le("div",null,"Site protection",-1)),Le("div",null,[we(u,{value:We(a),"onUpdate:value":[r[0]||(r[0]=e=>Ie(a)?a.value=e:null),d]},null,8,["value"])]),r[9]||(r[9]=Le("div",null,"today: 0",-1)),r[10]||(r[10]=Le("div",null,"Total alarm: 0",-1)),We(a)?ze("",!0):(Ce(),ke("div",vn,[r[7]||(r[7]=Le("img",{src:Ga,class:"h-8"},null,-1)),Le("span",gn,[r[5]||(r[5]=Re(" Please open ",-1)),Le("span",fn,"PHP-"+Te(n.phpVersion),1),r[6]||(r[6]=Re(" protection first ",-1))])]))]),_:1,__:[8,9,10]}),we(c,{class:"mt-16px"},{default:Ue(()=>[we(p,{onClick:r[1]||(r[1]=e=>l.value=!0)},{default:Ue(()=>r[11]||(r[11]=[Re("Monitor",-1)])),_:1,__:[11]}),we(p,{onClick:r[2]||(r[2]=e=>i.value=!0)},{default:Ue(()=>r[12]||(r[12]=[Re("Trigger log",-1)])),_:1,__:[12]})]),_:1}),we(_,{class:"mt-16px"},{default:Ue(()=>r[13]||(r[13]=[Le("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),Le("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)])),_:1,__:[13]})]),_:2},[n.isInstall?{name:"desc",fn:Ue(()=>[we(c,{class:"items-center"},{default:Ue(()=>[r[16]||(r[16]=Le("img",{src:Xa,class:"h-10"},null,-1)),Le("span",null,[r[15]||(r[15]=Re("If you need to use the [PHP website security alarm] function, please buy first ",-1)),we(m,{onClick:o},{default:Ue(()=>r[14]||(r[14]=[Re("click to buy",-1)])),_:1,__:[14]})])]),_:1,__:[16]})]),key:"0"}:{name:"desc",fn:Ue(()=>[we(c,{class:"items-center"},{default:Ue(()=>[r[19]||(r[19]=Le("img",{src:Xa,class:"h-10"},null,-1)),Le("span",null,[r[18]||(r[18]=Re("Currently not installed [PHP website security alarm], ",-1)),we(m,null,{default:Ue(()=>r[17]||(r[17]=[Re("Click to install",-1)])),_:1,__:[17]})])]),_:1,__:[19]})]),key:"1"}]),1032,["install"])]),we(g,{show:We(l),"onUpdate:show":r[3]||(r[3]=e=>Ie(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:_n},null,8,["show"]),we(g,{show:We(i),"onUpdate:show":r[4]||(r[4]=e=>Ie(i)?i.value=e:null),title:`[${We(t).siteName}] Site security log`,width:1e3,"min-height":148,footer:!1,component:mn},null,8,["show","title"])],64)}}}),wn=c(xn,[["__scopeId","data-v-5757bceb"]]),yn={class:"w-140px"},bn={class:"my-16px"},Sn={key:0,class:"my-16px"},kn=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=ul(),n=ge(null),s=ge(!1),o=ge(!1);let d="";const r=ge([]),u=async()=>{null!==n.value?(await va({siteName:a.name,version:n.value,other:d}),l.setRefresh(!0),m()):g.error("Please select a PHP version")},c=async()=>{const{message:e}=await wa({id:a.id});i(e)&&(s.value=e.result)},p=async e=>{await ga({id:a.id,act:e?1:0}),c()},m=()=>{(async()=>{const{message:e}=await Bt();i(e)&&(o.value=e.php_status)})(),c(),(async()=>{const{message:e}=await xa();v(e)&&(r.value=e.map(e=>({label:e.name,value:e.version})))})(),(async()=>{const{message:e}=await fa({siteName:a.name});i(e)&&(n.value=e.phpversion,d=e.php_other||"")})()};return m(),t({init:m}),(e,t)=>{const a=mt,l=it,i=ot,d=te,c=_,m=ht;return Ce(),ke("div",null,[we(i,{class:"items-center"},{default:Ue(()=>[Le("div",null,Te(e.$t("Site.Lable.index_22")),1),Le("div",yn,[we(a,{value:We(n),"onUpdate:value":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),options:We(r)},null,8,["value","options"])]),Le("div",null,[we(l,{type:"primary",onClick:u},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_61")),1)]),_:1})])]),_:1}),we(d,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_65")),1),Le("li",null,Te(e.$t("Site.Config.index_66")),1),Le("li",null,Te(e.$t("Site.Config.index_67")),1),Le("li",null,Te(e.$t("Site.Config.index_68")),1),Le("li",null,Te(e.$t("Site.Config.index_69")),1),Le("li",null,Te(e.$t("Site.Config.index_70")),1)]),_:1}),Le("div",bn,[we(c,{dashed:""})]),we(i,{class:"items-center"},{default:Ue(()=>[Le("div",null,Te(e.$t("Site.Config.index_64")),1),Le("div",null,[we(m,{value:We(s),"onUpdate:value":[t[1]||(t[1]=e=>Ie(s)?s.value=e:null),p]},null,8,["value"])])]),_:1}),we(d,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_71")),1),Le("li",null,Te(e.$t("Site.Config.index_72")),1)]),_:1}),We(b)?(Ce(),ke("div",Sn,[we(c,{dashed:""}),we(wn,{isInstall:We(o),phpVersion:We(n)},null,8,["isInstall","phpVersion"])])):ze("",!0)])}}}),Cn={class:"w-200px"},Pn={class:"w-200px mr-8px"},$n={class:"flex flex-col"},Ln={class:"mt-8px text-desc"},Wn={class:"flex flex-col"},Un={class:"mt-8px text-desc"},Rn=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),l=ul(),s=ge(null),{data:o}=Zl(),d=Ne({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:"",wp_title:"",wp_home:"",site_url:""}),r=ge(!1),u=ge("--"),c=ge("--"),p=fe(()=>r.value?`${a("WP.index_40")} (${c.value}) ${a("WP.index_41")}`:`${a("WP.TableRow.index_1")} ${u.value} ${a("WP.index_39")}`),_=ge(!1),m=ge(null),v=ge("en"),f=ge(""),x=ge("--"),w=async()=>{await(s.value?.validate()),await(e=>n.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}}))({s_id:o.id,language:v.value,admin_password:f.value?f.value:null,admin_email:d.admin_email,whl_enabled:d.wps?1:0,whl_page:d.Login_url,whl_redirect_admin:d.redirection_url,wp_title:d.wp_title,wp_home:d.wp_home,site_url:d.site_url}),$()},y={admin_email:{required:!0,trigger:["blur","input"],message:a("WP.index_42")},redirection_url:{required:!0,trigger:["blur","input"],message:a("Security.Conf.Index_28")},Login_url:{required:!0,trigger:["blur","input"],message:a("Security.Conf.Index_28")}},b=async()=>{r.value?(await ya({s_id:o.id,version:c.value}),$()):g.error(a("WP.index_39"))},k=async e=>{await It({version:o.php_version,sitename:o.name,act:e}),l.setRefresh(!0)},C=async()=>{await Ht({s_id:o.id})},P=async()=>{f.value=S(16,"wp")},$=async()=>{const{message:e}=await pl({s_id:o.id});i(e)&&(_.value=e.cache_enabled,u.value=e.local_version,c.value=e.latest_version,r.value=e.can_upgrade,x.value=e.login_url,m.value=e.admin_user,v.value=e.language,d.admin_email=e.admin_email,d.Login_url=e.whl_page,d.home_url=e.home_url,d.redirection_url=e.whl_redirect_admin,d.wps=e.whl_enabled,d.wp_title=e.wp_title,d.wp_home=e.wp_home,d.site_url=e.site_url)};return $(),t({init:$}),(e,t)=>{const a=h,l=_t,i=gt,n=it,o=ht,u=vt,c=yt,g=ot,S=Fa;return Ce(),ke("div",null,[we(S,{"label-width":"160px",model:We(d),ref_key:"formRef",ref:s,rules:y},{default:Ue(()=>[we(l,{label:e.$t("WP.Config.index_1")},{default:Ue(()=>[we(a,{href:We(x),target:"_blank"},{default:Ue(()=>[Re(Te(We(x)),1)]),_:1},8,["href"])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_14")},{default:Ue(()=>[we(i,{type:We(r)?"warning":"default","show-icon":!1},{default:Ue(()=>[Re(Te(We(p)),1)]),_:1},8,["type"]),we(n,{class:"ml-8px",type:"primary",onClick:b},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_2")),1)]),_:1})]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_31")},{default:Ue(()=>[we(o,{value:We(_),"onUpdate:value":[t[0]||(t[0]=e=>Ie(_)?_.value=e:null),k],class:"mr-20px"},null,8,["value"]),we(n,{onClick:C},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_3")),1)]),_:1})]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_24")},{default:Ue(()=>[Le("div",Cn,[we(u,{value:We(m),"onUpdate:value":t[1]||(t[1]=e=>Ie(m)?m.value=e:null),readonly:""},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("WP.Label.index_1")},{default:Ue(()=>[Le("div",Pn,[we(u,{value:We(f),"onUpdate:value":t[2]||(t[2]=e=>Ie(f)?f.value=e:null),placeholder:e.$t("WP.index_38")},null,8,["value","placeholder"])]),we(n,{type:"primary",onClick:P},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_4")),1)]),_:1})]),_:1},8,["label"]),we(l,{label:e.$t("WP.Label.index_2"),path:"admin_email"},{default:Ue(()=>[we(u,{class:"w-410px!",value:We(d).admin_email,"onUpdate:value":t[3]||(t[3]=e=>We(d).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])]),_:1},8,["label"]),we(l,{label:e.$t("WP.Label.index_3")},{default:Ue(()=>[we(Qa,{class:"w-410px",value:We(v),"onUpdate:value":t[4]||(t[4]=e=>Ie(v)?v.value=e:null)},null,8,["value"])]),_:1},8,["label"]),we(l,{label:"Website Title",path:"wp_title"},{default:Ue(()=>[we(u,{class:"w-410px!",value:We(d).wp_title,"onUpdate:value":t[5]||(t[5]=e=>We(d).wp_title=e)},null,8,["value"])]),_:1}),we(l,{label:"Home Domain",path:"wp_home"},{default:Ue(()=>[we(u,{class:"w-410px!",value:We(d).wp_home,"onUpdate:value":t[6]||(t[6]=e=>We(d).wp_home=e)},null,8,["value"])]),_:1}),we(l,{label:"Website Domain",path:"site_url"},{default:Ue(()=>[we(u,{class:"w-410px!",value:We(d).site_url,"onUpdate:value":t[7]||(t[7]=e=>We(d).site_url=e)},null,8,["value"])]),_:1}),we(l,{label:e.$t("WP.Label.index_4")},{default:Ue(()=>[we(c,{checked:We(d).wps,"onUpdate:checked":t[8]||(t[8]=e=>We(d).wps=e)},{default:Ue(()=>[Le("span",null,Te(e.$t("WP.Add.index_11")),1)]),_:1},8,["checked"])]),_:1},8,["label"]),We(d).wps?(Ce(),ke(be,{key:0},[we(l,{label:e.$t("WP.Add.index_12"),path:"Login_url"},{default:Ue(()=>[Le("div",$n,[Le("div",null,[we(g,{class:"items-center"},{default:Ue(()=>[Le("div",null,Te(We(d).home_url)+"/",1),we(u,{class:"w-200px!",value:We(d).Login_url,"onUpdate:value":t[9]||(t[9]=e=>We(d).Login_url=e),placeholder:e.$t("Site.Placeholder.index_18")},null,8,["value","placeholder"])]),_:1})]),Le("div",Ln,Te(e.$t("WP.Config.index_8")),1)])]),_:1},8,["label"]),we(l,{label:e.$t("WP.Add.index_13"),path:"redirection_url"},{default:Ue(()=>[Le("div",Wn,[Le("div",null,[we(g,{class:"items-center"},{default:Ue(()=>[Le("div",null,Te(We(d).home_url)+"/",1),we(u,{class:"w-200px!",value:We(d).redirection_url,"onUpdate:value":t[10]||(t[10]=e=>We(d).redirection_url=e),placeholder:e.$t("Site.Placeholder.index_19")},null,8,["value","placeholder"])]),_:1})]),Le("div",Un,Te(e.$t("WP.Config.index_9")),1)])]),_:1},8,["label"])],64)):ze("",!0),we(l,{label:" "},{default:Ue(()=>[we(n,{type:"primary",onClick:w},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_5")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}}),Tn={class:"p-10px"},qn=ye({__name:"install",props:{data:{}},setup(e){const{t:t}=Oe(),{data:a}=Zl(),l=e,{getList:s}=l.data,o=Ne({s_id:a.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,h()},{loading:r,setLoading:c}=le(),{keys:p,table:_,columns:m}=Z([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>we("span",null,[we("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),we("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>we("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>we(k,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},ne({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},n.post("/site?action=wp_install_plugin",l,{requestOptions:{loading:cl("WP.api.tamper_16"),successMessage:!1}})),g.success(t("WP.index_20")),h(),s?.()}catch(i){console.error(i)}var l}}]}),{key:"",title:"",width:"25px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?we(st,{trigger:"hover"},{trigger:()=>we(u,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),h=async()=>{try{c(!0);const{message:e}=await hl(Fe(o));i(e)&&(_.total=e.total,v(e.list)?_.data=e.list.map(e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')})):(_.data=[],_.total=0))}finally{p.value=[],c(!1)}};return h(),(e,t)=>{const a=me,l=ie,i=F,n=A;return Ce(),ke("div",Tn,[we(n,{feedback:!1},{toolsLeft:Ue(()=>t[3]||(t[3]=[])),toolsRight:Ue(()=>[we(a,{value:We(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>We(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])]),table:Ue(()=>[we(l,{loading:We(r),data:We(_).data,columns:We(m),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])]),pageRight:Ue(()=>[we(i,{page:We(o).p,"onUpdate:page":t[1]||(t[1]=e=>We(o).p=e),"page-size":We(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>We(o).p_size=e),"item-count":We(_).total,onRefresh:h},null,8,["page","page-size","item-count"])]),_:1})])}}}),On=c(qn,[["__scopeId","data-v-e04ced1d"]]),Bn=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),i=r(),{isPro:s}=Be(i),o=()=>{s.value?window.open(l.login_url,"_blank"):G({source:213})},d=()=>{g.show=!0},{keys:u,table:c,columns:p}=Z([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},de({key:"is_plugin_activate",title:a("WP.TableRow.index_8"),minWidth:60,onClick:async(e,t)=>{await(e=>n.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,activate:e?1:0})}}),de({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>n.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,enable:e?1:0})}}),ne({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{ae({title:`${a("WP.TableRow.index_11")} [${e.name}]`,content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>n.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:cl("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),h(),t()}})}},{label:a("WP.TableRow.index_12"),onClick:()=>{ae({title:`${a("WP.TableRow.index_12")} [${e.name}]`,content:a("WP.index_10"),onConfirm:async({hide:t})=>{await(e=>n.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:cl("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),h(),t()}})}}]})]),{loading:_,setLoading:m}=le(),h=async()=>{try{m(!0);const{message:e}=await(e=>n.post("/site?action=wp_installed_plugins",e))({s_id:l.id});v(e)&&(c.data=e)}finally{u.value=[],m(!1)}},g=oe(a("WP.index_15"),{getList:h});return h(),t({init:h}),(e,t)=>{const a=it,i=pt,n=ie,s=A,r=te,m=z;return Ce(),ke("div",null,[we(s,null,{toolsLeft:Ue(()=>[we(i,{trigger:"hover",disabled:!We(l).maintenance},{trigger:Ue(()=>[we(a,{type:"primary",onClick:o,disabled:We(l).maintenance},{default:Ue(()=>[Re(Te(e.$t("WP.index_3")),1)]),_:1},8,["disabled"])]),default:Ue(()=>[t[2]||(t[2]=Le("span",null,"Maintenance is enabled. Please log in manually.",-1))]),_:1,__:[2]},8,["disabled"]),we(a,{onClick:d},{default:Ue(()=>[Re(Te(e.$t("WP.TableRow.index_13")),1)]),_:1})]),table:Ue(()=>[we(n,{"checked-row-keys":We(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(u)?u.value=e:null),"row-key":"title",loading:We(_),data:We(c).data,columns:We(p)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),we(r,{class:"mt-16px"},{default:Ue(()=>t[3]||(t[3]=[Le("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)])),_:1,__:[3]}),we(m,{show:We(g).show,"onUpdate:show":t[1]||(t[1]=e=>We(g).show=e),title:We(g).title,data:We(g).data,width:750,"min-height":400,footer:!1,component:On},null,8,["show","title","data"])])}}}),jn={class:"p-10px"},En=ye({__name:"install",props:{data:{}},setup(e){const{t:t}=Oe(),{data:a}=Zl(),l=e,{getList:s}=l.data,o=Ne({s_id:a.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,h()},{loading:r,setLoading:c}=le(),{keys:p,table:_,columns:m}=Z([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>we("span",null,[we("img",{class:"w-25px",src:e.screenshot_url},null),we("span",{class:"ml-5px"},[e.name])])},{key:"description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>we("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:t("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>we(k,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},ne({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},n.post("/site?action=wp_install_theme",l,{requestOptions:{loading:cl("WP.api.tamper_16"),successMessage:!1}})),g.success(t("WP.index_20")),s?.(),h()}catch(i){console.error(i)}var l}}]}),{key:"",title:"",width:"30px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?we(st,{trigger:"hover"},{trigger:()=>we(u,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),h=async()=>{try{c(!0);const{message:e}=await ml(Fe(o));i(e)&&(_.total=e.total,v(e.list)?_.data=e.list:(_.data=[],_.total=0))}finally{p.value=[],c(!1)}};return h(),(e,t)=>{const a=me,l=ie,i=F,n=A;return Ce(),ke("div",jn,[we(n,{feedback:!1},{toolsLeft:Ue(()=>t[3]||(t[3]=[])),toolsRight:Ue(()=>[we(a,{value:We(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>We(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])]),table:Ue(()=>[we(l,{loading:We(r),data:We(_).data,columns:We(m),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])]),pageRight:Ue(()=>[we(i,{page:We(o).p,"onUpdate:page":t[1]||(t[1]=e=>We(o).p=e),"page-size":We(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>We(o).p_size=e),"item-count":We(_).total,onRefresh:h},null,8,["page","page-size","item-count"])]),_:1})])}}}),Mn=c(En,[["__scopeId","data-v-86934d13"]]),Dn=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),i=r(),{isPro:s}=Be(i),o=()=>{s.value?window.open(l.login_url,"_blank"):G({source:213})},d=()=>{g.show=!0},{keys:u,table:c,columns:p}=Z([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},de({key:"is_theme_activate",title:a("WP.TableRow.index_8"),minWidth:30,disabled:e=>(console.log(e.name),!0),tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>n.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet}),h()}}),de({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>n.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:cl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet,enable:e?1:0})}}),ne({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{ae({title:`${a("WP.TableRow.index_11")} [${e.name}]`,content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>n.post("/site?action=wp_update_theme",e,{requestOptions:{loading:cl("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),h(),t()}})}},{label:a("WP.TableRow.index_12"),disabled:e.is_theme_activate,onClick:()=>{ae({title:`${a("WP.TableRow.index_12")} [${e.name}]`,content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>n.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:cl("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),h(),t()}})}}]})]),{loading:_,setLoading:m}=le(),h=async()=>{try{m(!0);const{message:e}=await(e=>n.post("/site?action=wp_installed_themes",e))({s_id:l.id});v(e)&&(c.data=e)}finally{u.value=[],m(!1)}},g=oe(a("WP.index_16"),{getList:h});return h(),t({init:h}),(e,t)=>{const a=it,i=pt,n=ie,s=A,r=te,m=z;return Ce(),ke("div",null,[we(s,null,{toolsLeft:Ue(()=>[we(i,{trigger:"hover",disabled:!We(l).maintenance},{trigger:Ue(()=>[we(a,{type:"primary",onClick:o,disabled:We(l).maintenance},{default:Ue(()=>[Re(Te(e.$t("WP.index_3")),1)]),_:1},8,["disabled"])]),default:Ue(()=>[t[2]||(t[2]=Le("span",null,"Maintenance is enabled. Please log in manually.",-1))]),_:1,__:[2]},8,["disabled"]),we(a,{onClick:d},{default:Ue(()=>[Re(Te(e.$t("WP.TableRow.index_13")),1)]),_:1})]),table:Ue(()=>[we(n,{"checked-row-keys":We(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(u)?u.value=e:null),"row-key":"title",loading:We(_),data:We(c).data,columns:We(p)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),we(r,{class:"mt-16px"},{default:Ue(()=>t[3]||(t[3]=[Le("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)])),_:1,__:[3]}),we(m,{show:We(g).show,"onUpdate:show":t[1]||(t[1]=e=>We(g).show=e),title:We(g).title,data:We(g).data,width:750,"min-height":400,footer:!1,component:Mn},null,8,["show","title","data"])])}}}),Hn=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=Ne({wp_debug:!1,wp_debug_log:!1,script_debug:!1,wp_debug_display:!1,save_queries:!1,search_engine:!1}),s=async()=>{const e={set_id:a.id,...l};var t;await(t=e,n.post("/site?action=set_wp_tool",t,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),r()};t({onConfirm:s});const{loading:o,setLoading:d}=le(),r=async()=>{try{d(!0);const{message:t}=await(e={set_id:a.id},n.post("/site?action=get_wp_tool",e));i(t)&&Object.entries(t).forEach(([e,t])=>{l[e]="true"===t})}finally{d(!1)}var e};return r(),(e,t)=>{const a=ht,i=_t,n=it,d=Fa,r=C;return Ce(),Ee(r,{show:We(o)},{default:Ue(()=>[we(d,{model:We(l),"label-width":"150"},{default:Ue(()=>[we(i,{label:"Enable debug mode"},{default:Ue(()=>[we(a,{value:We(l).wp_debug,"onUpdate:value":t[0]||(t[0]=e=>We(l).wp_debug=e)},null,8,["value"]),t[6]||(t[6]=Le("span",{class:"tips"},"Enable main debug mode in WordPress.",-1))]),_:1,__:[6]}),Pe(we(i,{label:"Error Log"},{default:Ue(()=>[we(a,{value:We(l).wp_debug_log,"onUpdate:value":t[1]||(t[1]=e=>We(l).wp_debug_log=e)},null,8,["value"]),t[7]||(t[7]=Le("span",{class:"tips"},"Save all errors to the debug.log file in the wp-content directory.",-1))]),_:1,__:[7]},512),[[$e,We(l).wp_debug]]),Pe(we(i,{label:"Display PHP Errors"},{default:Ue(()=>[we(a,{value:We(l).wp_debug_display,"onUpdate:value":t[2]||(t[2]=e=>We(l).wp_debug_display=e)},null,8,["value"]),t[8]||(t[8]=Le("span",{class:"tips"},"Display debugging information in HTML pages.",-1))]),_:1,__:[8]},512),[[$e,We(l).wp_debug]]),we(i,{label:"Enable script debug"},{default:Ue(()=>[we(a,{value:We(l).script_debug,"onUpdate:value":t[3]||(t[3]=e=>We(l).script_debug=e)},null,8,["value"]),t[9]||(t[9]=Le("span",{class:"tips"},"Force WordPress to use non-minified versions of core CSS and JavaScript files.",-1))]),_:1,__:[9]}),we(i,{label:"Save Queries"},{default:Ue(()=>[we(a,{value:We(l).save_queries,"onUpdate:value":t[4]||(t[4]=e=>We(l).save_queries=e)},null,8,["value"]),t[10]||(t[10]=Le("span",{class:"tips"},"Record all database queries executed on the website and save them in a global variable. Note: Please avoid using this in non-debug environments.",-1))]),_:1,__:[10]}),we(i,{label:"Disable Search Engine Indexing"},{default:Ue(()=>[we(a,{value:We(l).search_engine,"onUpdate:value":t[5]||(t[5]=e=>We(l).search_engine=e)},null,8,["value"]),t[11]||(t[11]=Le("span",{class:"tips"},"If your website is not ready to be publicly viewed, please enable this option to ensure that search engines do not display your website in search results.",-1))]),_:1,__:[11]}),we(i,{label:" "},{default:Ue(()=>[we(n,{type:"primary",onClick:s},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),In=c(Hn,[["__scopeId","data-v-87e0a648"]]),Nn=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{config:l}=Zl(),i=ge("setup"),n=ge(),s=[{key:"setup",label:a("Site.Config.index_16"),component:Rn},{key:"plugin",label:a("Site.Config.index_17"),component:Bn},{key:"theme",label:a("Site.Config.index_18"),component:Dn},{key:"utils",label:"Utils",component:In}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",Ve(()=>{n.value?.init()})}}),(e,t)=>{const a=Aa;return Ce(),Ee(a,{value:We(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),zn={class:"p-20px"},An={class:"w-280px"},Fn={class:"w-280px"},Vn={class:"w-280px"},Jn={class:"w-280px"},Kn=ye({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Oe(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,d=ge(null),r=Ne({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.index_316"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.index_317"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.index_71"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.index_81"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{await(d.value?.validate()),i?await ba({id:n,name:r.name,username:r.username,password:r.password}):await Sa({...Fe(r),id:n}),o?.(),e()}}),(e,t)=>{const a=vt,l=_t,n=Fa,s=te;return Ce(),ke("div",zn,[we(n,{ref_key:"formRef",ref:d,model:We(r),rules:u},{default:Ue(()=>[we(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:Ue(()=>[Le("div",An,[we(a,{value:We(r).name,"onUpdate:value":t[0]||(t[0]=e=>We(r).name=e),disabled:We(i),placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:Ue(()=>[Le("div",Fn,[we(a,{value:We(r).site_dir,"onUpdate:value":t[1]||(t[1]=e=>We(r).site_dir=e),disabled:We(i),placeholder:"Enter the path: /text//test/api"},null,8,["value","disabled"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:Ue(()=>[Le("div",Vn,[we(a,{value:We(r).username,"onUpdate:value":t[2]||(t[2]=e=>We(r).username=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:Ue(()=>[Le("div",Jn,[we(a,{value:We(r).password,"onUpdate:value":t[3]||(t[3]=e=>We(r).password=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),we(s,{class:"mt-4px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_40")),1),Le("li",null,Te(e.$t("Site.Config.index_41")),1)]),_:1})])}}}),Xn=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),{keys:n,table:s,columns:o}=Z([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},ne({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{ae({title:`${a("Site.TableOP.index_6")} [${e.name}]`,content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await ka({id:l.id,name:e.name}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>ka({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=le(),c=async()=>{try{u(!0);const{message:e}=await Ca({id:l.id});if(i(e)){s.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){s.data=a;break}}}finally{n.value=[],u(!1)}},p=oe(a("Site.Config.index_38"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=it,l=ie,i=V,u=A,c=te,m=z;return Ce(),ke("div",null,[we(u,null,{toolsLeft:Ue(()=>[we(a,{type:"primary",onClick:_},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_38")),1)]),_:1})]),table:Ue(()=>[we(l,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"name",loading:We(r),"max-height":440,data:We(s).data,columns:We(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(i,{"checked-row-keys":We(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"name",data:We(s).data,options:d},null,8,["checked-row-keys","data"])]),_:1}),we(c,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_40")),1),Le("li",null,Te(e.$t("Site.Config.index_41")),1)]),_:1}),we(m,{show:We(p).show,"onUpdate:show":t[2]||(t[2]=e=>We(p).show=e),title:We(p).title,data:We(p).data,width:480,footer:!0,component:Kn},null,8,["show","title","data"])])}}}),Gn={class:"p-20px"},Qn={class:"w-280px"},Yn={class:"w-280px"},Zn={class:"w-280px"},es=ye({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Oe(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=ge(null),r=Ne({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...Fe(r),dir:r.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(r.deny_name=s.name,r.suffix=s.suffix,r.dir=s.dir),t({onConfirm:async({hide:e})=>{await(d.value?.validate()),i?await Pa(c()):await $a(c()),o?.(),e()}}),(e,t)=>{const a=vt,l=_t,n=Fa,s=te;return Ce(),ke("div",Gn,[we(n,{ref_key:"formRef",ref:d,model:We(r),rules:u},{default:Ue(()=>[we(l,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:Ue(()=>[Le("div",Qn,[we(a,{value:We(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>We(r).deny_name=e),disabled:We(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:Ue(()=>[Le("div",Yn,[we(a,{value:We(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>We(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:Ue(()=>[Le("div",Zn,[we(a,{value:We(r).dir,"onUpdate:value":t[2]||(t[2]=e=>We(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"]),we(s,{class:"mt-4px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.PHP.index_72")),1),Le("li",null,Te(e.$t("Site.PHP.index_73")),1),Le("li",null,Te(e.$t("Site.PHP.index_74")),1),Le("li",null,Te(e.$t("Site.PHP.index_75")),1),Le("li",null,Te(e.$t("Site.PHP.index_76")),1)]),_:1})])}}}),ts=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{data:l}=Zl(),{keys:i,table:n,columns:s}=Z([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},ne({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{_(e)}},{label:a("Public.Btn.Del"),onClick:()=>{ae({title:`${a("Site.TableOP.index_6")} [${e.name}]`,content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await La({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>La({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:d,setLoading:r}=le(),u=async()=>{try{r(!0);const{message:e}=await Wa({website:l.name});n.data=v(e)?e:[]}finally{i.value=[],r(!1)}},c=oe(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),p=()=>{c.data.row=void 0,c.data.isEdit=!1,c.title=a("Site.Config.index_38"),c.show=!0},_=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.index_39"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=it,l=ie,r=V,u=A,_=te,m=z;return Ce(),ke("div",null,[we(u,null,{toolsLeft:Ue(()=>[we(a,{type:"primary",onClick:p},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_38")),1)]),_:1})]),table:Ue(()=>[we(l,{"checked-row-keys":We(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),"row-key":"name",loading:We(d),"max-height":440,data:We(n).data,columns:We(s)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(r,{"checked-row-keys":We(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(i)?i.value=e:null),"row-key":"name",data:We(n).data,options:o},null,8,["checked-row-keys","data"])]),_:1}),we(_,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Config.index_42"))+" |",1),Le("li",null,Te(e.$t("Site.Config.index_43")),1),Le("li",null,Te(e.$t("Site.Config.index_44")),1),Le("li",null,Te(e.$t("Site.Config.index_45")),1)]),_:1}),we(m,{show:We(c).show,"onUpdate:show":t[2]||(t[2]=e=>We(c).show=e),title:We(c).title,data:We(c).data,width:480,footer:!0,component:es},null,8,["show","title","data"])])}}}),as={class:"w-300px"},ls={class:"w-300px"},is={class:"w-300px"},ns={class:"flex flex-col"},ss=ye({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:a}){const{t:l}=Oe(),n=a,s=Ke(e,"site"),o=ge(null),d=Ne({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==d.fix.trim()||new Error(l("Site.RulesError.index_330"))},return_rule:{trigger:["blur","change"],validator:()=>""!==d.return_rule.trim()||new Error(l("Site.RulesError.index_330"))}},u=()=>{p()},c=()=>{p()},p=async()=>{await(o.value?.validate()),await Ua({id:s.value.id,name:s.value.name,fix:d.fix,domains:d.domains.trim().split("\n").join(","),return_rule:d.return_rule,status:d.status,http_status:d.http_status}),n("changeHotlink",d.status),_()},_=async()=>{const{message:e}=await Ra({id:s.value.id,name:s.value.name});i(e)&&(d.fix=e.fix,d.domains=e.domains.split(",").join("\n"),d.return_rule=e.return_rule,d.status=e.status,d.http_status="true"===e.http_status||!0===e.http_status)};return _(),t({init:_}),(e,t)=>{const a=vt,l=_t,i=yt,n=it,s=Fa,_=te;return Ce(),ke("div",null,[we(s,{ref_key:"formRef",ref:o,class:"px-8px",model:We(d),rules:r},{default:Ue(()=>[we(l,{label:e.$t("Site.Lable.index_6"),path:"fix"},{default:Ue(()=>[Le("div",as,[we(a,{value:We(d).fix,"onUpdate:value":t[0]||(t[0]=e=>We(d).fix=e),disabled:We(d).status,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_7")},{default:Ue(()=>[Le("div",ls,[we(a,{value:We(d).domains,"onUpdate:value":t[1]||(t[1]=e=>We(d).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])]),_:1},8,["label"]),we(l,{label:e.$t("Site.Lable.index_13"),path:"return_rule"},{default:Ue(()=>[Le("div",is,[we(a,{value:We(d).return_rule,"onUpdate:value":t[2]||(t[2]=e=>We(d).return_rule=e),disabled:We(d).status,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),we(l,{label:" "},{default:Ue(()=>[Le("div",ns,[we(i,{checked:We(d).status,"onUpdate:checked":[t[3]||(t[3]=e=>We(d).status=e),u]},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_94")),1)]),_:1},8,["checked"]),we(i,{checked:We(d).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>We(d).http_status=e),c],class:"mt-16px"},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_95")),1)]),_:1},8,["checked"])])]),_:1}),we(l,{label:" ","show-feedback":!1},{default:Ue(()=>[we(n,{type:"primary",onClick:p},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})]),_:1},8,["model"]),we(_,{class:"mt-20px"},{default:Ue(()=>[Le("li",null,[Re(Te(e.$t("Site.Config.index_96")),1),t[5]||(t[5]=Le("br",null,null,-1)),Re(" "+Te(e.$t("Site.Config.index_97")),1)]),Le("li",null,Te(e.$t("Site.Config.index_98")),1),Le("li",null,Te(e.$t("Site.Config.index_99")),1)]),_:1})])}}}),os={class:"pt-8px"},ds=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=ge();return t({init:async()=>{l.value.init()}}),(e,t)=>(Ce(),ke("div",os,[we(ss,{ref_key:"formRef",ref:l,site:We(a)},null,8,["site"])]))}}),rs=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{config:l}=Zl(),i=ge("access"),n=ge(),s=[{key:"access",label:a("Site.Config.index_5"),component:Xn},{key:"deny",label:a("Site.Config.index_14"),component:ts},{key:"hotlink",label:a("Site.Config.index_24"),component:ds}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ve(()=>{n.value?.init()})}}),(e,t)=>{const a=Aa;return Ce(),Ee(a,{value:We(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),us=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=ge("None"),{loading:n,setLoading:s}=le(),o=async()=>{try{s(!0);const{message:e}=await Ta({siteName:a.name});i(e)&&(l.value=P(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Ya,i=C;return Ce(),Ee(i,{class:"h-560px",show:We(n)},{default:Ue(()=>[we(a,{log:We(l)},null,8,["log"])]),_:1},8,["show"])}}}),cs=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=ge("None"),{loading:n,setLoading:s}=le(),o=async()=>{try{s(!0);const{message:e}=await qa({siteName:a.name});i(e)&&(l.value=P(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Ya,i=C;return Ce(),Ee(i,{class:"h-560px",show:We(n)},{default:Ue(()=>[we(a,{log:We(l)},null,8,["log"])]),_:1},8,["show"])}}}),ps=ye({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,n=ge(""),{loading:s,setLoading:o}=le();return(async()=>{try{o(!0);const{message:e}=await Oa({type:a,path:l});i(e)&&(n.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=Ya,l=C;return Ce(),Ee(l,{class:"w-650px h-550px bg-#282C34",show:We(s)},{default:Ue(()=>[we(a,{log:We(n)},null,8,["log"])]),_:1},8,["show"])}}}),_s={class:"text-error"},ms={class:"w-400px p-20px"},hs={class:"mb-16px"},vs=ye({__name:"index",setup(e,{expose:t}){const a=ul(),{t:l}=Oe(),{data:n}=Zl(),s=fe(()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return`/www/wwwlogs/${n.name}${e}`}),o=fe(()=>{const e=s.value.split("/");return e[e.length-1]}),d=()=>{ae({title:l("Site.Config.index_104"),content:`${l("Site.Config.index_105")} [${o.value}] ${l("Site.Config.index_106")}`,onConfirm:async({hide:e})=>{await Ba({path:s.value}),e(),c()}})},r=ge(!1),u=ge(0),c=async()=>{r.value=!0,p()},p=(e=0)=>{let t=setTimeout(async()=>{const{message:e}=await ja({path:s.value});i(e)&&(u.value=e.result,u.value>=100?(g.success(l("Site.Config.index_107")),r.value=!1,u.value=0,w(),clearTimeout(t)):p(1e3))},e)},_=e=>{J({title:`[${e}] ${l("Site.Config.index_103")}`,data:{type:e,path:s.value},component:ps})},{table:m,columns:v}=Z([{key:"start_time",title:l("Site.Cert.index_68")},{key:"time",title:l("Site.DelSite.index_6"),render:e=>`${e.time.substring(0,4)} s`},{key:"xss",title:l("Site.TableRow.index_4"),render:e=>e.xss>0?we("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.index_5"),render:e=>e.sql>0?we("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.index_6"),render:e=>e.san>0?we("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.index_27"),render:e=>e.php>0?we("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.index_7"),render:e=>e.ip>0?we(h,{onClick:()=>{_("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.index_8"),render:e=>e.url>0?we(h,{onClick:()=>{_("url")}},{default:()=>[e.url]}):e.url}]),{loading:f,setLoading:x}=le(),w=async()=>{try{x(!0);const{message:e}=await Ea({path:s.value});i(e)&&(m.data=[e])}finally{x(!1)}},y=()=>{w()};return y(),t({init:y}),(e,t)=>{const a=it,l=ie,i=A,n=te,s=ut,o=z;return Ce(),ke("div",null,[we(i,null,{toolsLeft:Ue(()=>[we(a,{type:"primary",onClick:d},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_104")),1)]),_:1})]),table:Ue(()=>[we(l,{loading:We(f),"loading-num":1,data:We(m).data,columns:We(v)},null,8,["loading","data","columns"])]),_:1}),we(n,{class:"mt-16px"},{default:Ue(()=>[Le("li",null,[Re(Te(e.$t("Site.Config.index_108"))+" ",1),Le("span",_s,Te(e.$t("Site.Config.index_109")),1)]),Le("li",null,Te(e.$t("Site.Config.index_110")),1),Le("li",null,Te(e.$t("Site.Config.index_111")),1),Le("li",null,Te(e.$t("Site.Config.index_112")),1),Le("li",null,[we(h,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_113")),1)]),_:1}),Re(" "+Te(e.$t("Site.Config.index_114")),1)])]),_:1}),we(o,{show:We(r),"onUpdate:show":t[0]||(t[0]=e=>Ie(r)?r.value=e:null)},{default:Ue(()=>[Le("div",ms,[Le("div",hs,Te(e.$t("Site.Config.index_115")),1),we(s,{type:"line",status:"success",height:24,percentage:We(u),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])]),_:1},8,["show"])])}}}),gs={class:"text-right mt-10px color-#333"},fs=ye({__name:"index",setup(e,{expose:t}){const{data:a}=Zl(),l=ge("None"),s=Ne({lines:50,total:0}),{loading:o,setLoading:d}=le(),r=async()=>{await u()},u=async()=>{try{d(!0);const{message:e}=await(e=>n.post("/site?action=get_wp_debug_log",e))({set_id:a.id,lines:s.lines});i(e)&&(l.value=e.last_lines.join("\n"),s.total=e.total)}finally{d(!1)}};return u(),t({init:u}),(e,t)=>{const a=it,i=te,n=ot,d=Ya,u=St,c=kt,p=C;return Ce(),Ee(p,{class:"h-530px",show:We(o)},{default:Ue(()=>[we(n,{class:"items-center! mb-10px flex-nowrap!"},{default:Ue(()=>[we(a,{type:"primary",onClick:r},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Refresh")),1)]),_:1}),we(i,null,{default:Ue(()=>t[1]||(t[1]=[Le("li",null,"WP debug logs are obtained by default from/wp-content/debug.log, do not change the log path.",-1),Le("li",null,"Note: that debug logging can be enabled in the WordPress Setting Utils tab.",-1)])),_:1,__:[1]})]),_:1}),we(d,{log:We(l)},null,8,["log"]),Le("div",gs,[t[4]||(t[4]=Le("span",null,"Last",-1)),we(c,{value:We(s).lines,"onUpdate:value":[t[0]||(t[0]=e=>We(s).lines=e),r],class:"px-5px"},{default:Ue(()=>[we(u,{value:50},{default:Ue(()=>t[2]||(t[2]=[Re(" 50 ",-1)])),_:1,__:[2]}),we(u,{value:100},{default:Ue(()=>t[3]||(t[3]=[Re(" 100 ",-1)])),_:1,__:[3]}),we(u,{value:""},{default:Ue(()=>[Re(Te(e.$t("Public.All")),1)]),_:1})]),_:1},8,["value"]),Re(" "+Te(e.$t("Home.index_57"))+" "+Te(We(s).total),1)])]),_:1},8,["show"])}}}),xs=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),{config:l}=Zl(),i=ge("access"),n=ge(),s=[{key:"access",label:a("Site.Config.index_100"),component:us},{key:"error",label:a("Site.Config.index_101"),component:cs},{key:"security",label:a("Site.Config.index_102"),component:vs},{key:"debug",label:"Debug Log",component:fs}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ve(()=>{n.value?.init()})}}),(e,t)=>{const a=Aa;return Ce(),Ee(a,{value:We(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),ws={class:"cert-info"},ys={class:"cert-label"},bs={class:"cert-value"},Ss={class:"cert-info"},ks={class:"cert-label"},Cs={class:"cert-value"},Ps={class:"cert-info"},$s={class:"cert-label"},Ls={class:"cert-value"},Ws={class:"cert-info"},Us={class:"cert-label"},Rs={class:"cert-value"},Ts={key:0,class:"text-primary"},qs={key:1,class:"text-error"},Os={class:"cert-info"},Bs={class:"cert-label"},js={class:"cert-value"},Es={class:"w-48%"},Ms={class:"mb-8px"},Ds={class:"w-48%"},Hs={class:"mb-8px"},Is=ye({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:a}){const l=e,n=a,{t:s}=Oe(),{data:o}=Zl(),d=ul(),r=ge(-1),u=ge(!1),c=ge(!1),p=ge(""),_=ge("");let m="";const v=ge("");let f="";const x=ge({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),w=fe(()=>r.value===il.LetsEncryptDeploy?s("Site.Cert.index_65"):r.value===il.BusinessDeploy?s("Site.Cert.index_64"):r.value===il.TestDeploy?s("Site.Cert.index_38"):s("Site.Cert.index_37")),y=fe(()=>!!v.value),b=fe(()=>l.isRenew||r.value===il.LetsEncryptDeploy),S=fe(()=>!1),k=fe(()=>u.value),P=async e=>{e?(await el({siteName:o.name}),n("refresh")):ae({title:s("Site.Cert.index_12"),content:s("Site.Cert.index_13"),onConfirm:async()=>{await Za({siteName:o.name}),n("refresh")},onPublicClose:()=>{c.value=!0}})},R=()=>{""!==_.value.trim()&&""!==v.value.trim()?_.value!==m&&m||v.value!==f&&f?ae({title:s("Site.Cert.index_10"),content:s("Site.Cert.index_11"),onConfirm:async()=>{await T()}}):T():g.error(s("Site.Cert.index_9"))},T=async()=>{const{message:e}=await L({key:_.value,cert:v.value});i(e)&&e.hash&&(await W({hash:e.hash,domains:JSON.stringify([o.name]),append:1}),g.success(s("SSL.index_32"))),B()},q=async()=>{const{message:e}=await U({hash:l.info?.hash||""});i(e)&&J({hideClose:!0,data:{isJump:!1,task_id:e.task_id,onFinish:()=>{n("refresh")}},component:nl})},O=async()=>{await tl({updateOf:1,siteName:o.name}),B()},B=()=>{n("refresh"),d.setRefresh(!0)};return Xe(()=>{const{info:e}=l;e&&(r.value=e.type,u.value=e.status,c.value=e.httpTohttps,_.value=e.key||"",m=e.key||"",v.value=e.csr||"",f=e.csr||"",x.value=e.cert_data,p.value=e.index)}),t({init:n("refresh")}),(e,t)=>{const a=h,l=Ct,i=rt,n=ht,s=$,o=gt,d=za,r=ot,p=it,m=te,g=C;return Ce(),Ee(g,{show:e.loading},{default:Ue(()=>[We(y)?(Ce(),Ee(o,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:Ue(()=>[we(s,{"x-gap":12,cols:"15"},{default:Ue(()=>[we(l,{span:"8"},{default:Ue(()=>[Le("div",ws,[Le("div",ys,Te(e.$t("Site.Cert.index_44"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",bs,[we(a,null,{default:Ue(()=>[Re(Te(We(w)),1)]),_:1})])])]),_:1}),we(l,{span:"7"},{default:Ue(()=>[Le("div",Ss,[Le("div",ks,Te(e.$t("Site.Cert.index_45"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",Cs,[we(i,null,{default:Ue(()=>[Re(Te(We(x).issuer||"other"),1)]),_:1})])])]),_:1}),we(l,{span:"8"},{default:Ue(()=>[Le("div",Ps,[Le("div",$s,Te(e.$t("Site.Cert.index_46"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",Ls,[we(i,null,{default:Ue(()=>[Re(Te(We(x).dns.join(e.$t("Public.Punctuation.Comma"))),1)]),_:1})])])]),_:1}),we(l,{span:"7"},{default:Ue(()=>[Le("div",Ws,[Le("div",Us,Te(e.$t("Site.Cert.index_47"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",Rs,[We(x).endtime>0?(Ce(),ke("span",Ts,Te(e.$t("Site.Cert.index_48",{date:We(x).notAfter,days:We(x).endtime})),1)):(Ce(),ke("span",qs,Te(e.$t("Site.Cert.index_47")),1))])])]),_:1}),we(l,{span:"8"},{default:Ue(()=>[Le("div",Os,[Le("div",Bs,Te(e.$t("Site.Cert.index_49"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",js,[we(n,{value:We(c),"onUpdate:value":[t[0]||(t[0]=e=>Ie(c)?c.value=e:null),P],size:"small"},null,8,["value"])])])]),_:1})]),_:1})]),_:1})):ze("",!0),we(r,{class:"mb-16px",size:10,justify:"space-between"},{default:Ue(()=>[Le("div",Es,[Le("div",Ms,Te(e.$t("Site.Cert.index_50")),1),we(d,{value:We(_),"onUpdate:value":t[1]||(t[1]=e=>Ie(_)?_.value=e:null),rows:10},null,8,["value"])]),Le("div",Ds,[Le("div",Hs,Te(e.$t("Site.Cert.index_51")),1),we(d,{value:We(v),"onUpdate:value":t[2]||(t[2]=e=>Ie(v)?v.value=e:null),rows:10},null,8,["value"])])]),_:1}),we(r,{class:"mb-12px"},{default:Ue(()=>[we(p,{type:"primary",onClick:R},{default:Ue(()=>[Re(Te(We(u)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)]),_:1}),We(b)?(Ce(),Ee(p,{key:0,type:"primary",onClick:q},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_53")),1)]),_:1})):ze("",!0),We(S)?(Ce(),Ee(p,{key:1},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_54")),1)]),_:1})):ze("",!0),We(k)?(Ce(),Ee(p,{key:2,onClick:O},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_55")),1)]),_:1})):ze("",!0)]),_:1}),we(m,null,{default:Ue(()=>[Le("li",null,Te(e.$t("Site.Cert.index_33")),1),Le("li",null,Te(e.$t("Site.Cert.index_34")),1),Le("li",null,Te(e.$t("Site.Cert.index_35")),1),Le("li",null,Te(e.$t("Site.Cert.index_36")),1)]),_:1})]),_:1},8,["show"])}}}),Ns=c(Is,[["__scopeId","data-v-1f152531"]]),zs={class:"business-top-tips flex flex-wrap border-#d6e9c6 border-1px rounded-5px p-12px"},As={class:"text-#3c763d w-100%"},Fs=ye({__name:"top-tips",setup(e){const{t:t}=Oe(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=u,i=ot;return Ce(),ke("div",zs,[(Ce(),ke(be,null,Me(a,(e,t)=>we(i,{size:5,key:e,class:qe(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:Ue(()=>[we(l,{name:"base-tick",size:16,color:"#ff8d00"}),Le("span",As,Te(e),1)]),_:2},1032,["class"])),64))])}}}),Vs=c(Fs,[["__scopeId","data-v-c4bf96b6"]]),Js={class:"my-10px"},Ks=ye({__name:"table",setup(e){const a=xe(()=>o(()=>t.import("./index-legacy213.js?v=1764830988434"),void 0)),l=xe(()=>o(()=>t.import("./index-legacy214.js?v=1764830988434"),void 0)),n=xe(()=>o(()=>t.import("./domain-verification-legacy.js?v=1764830988434"),void 0)),s=r(),{userInfo:d}=Be(s),u=R(),{t:c}=Oe(),p=Ne({p:1,limit:9999}),_=oe(c("SSL.Business.index_41"),{onRefresh:(e,t)=>{v.data.request=!0,v.data.uc_id=t,v.data.verify=e,v.show=!0,w()}}),m=oe(c("SSL.index_44")),h=oe(c("SSL.index_49"),{onRefresh:()=>{w(),u.setRefresh(!0)}}),v=oe(c("SSL.Business.index_42"),{onRefresh:()=>{w()}}),{table:g,columns:f}=Z([{key:"verify_domains",title:c("Layout.Sider.mail_3"),render:e=>we("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:c("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},sl({title:c("SSL.index_54")}),{key:"order_status",title:c("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_45"),Re(" ")]):"PENDING"===t.order_status&&1===t.status?we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_46"),Re(" ")]):"COMPLETE"===t.order_status&&1===t.status?we("span",{class:"color-#20a53a"},[Re(" "),c("SSL.Business.index_47"),Re(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_48"),Re(" ")]):"FAILED"===t.order_status&&1===t.status?we("span",{class:"color-error"},[Re(" "),c("SSL.Business.index_49"),Re(" ")]):"EXPIRED"===t.order_status&&1===t.status?we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_50"),Re(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_52"),Re(" ")]):void 0:we("span",{class:"color-warning"},[Re(" "),c("SSL.Business.index_51"),Re(" ")]):we("span",{class:"color-warning cursor-pointer",onClick:()=>x(e)},[" ",c("SSL.Business.index_44")," "])}},ne({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:c("SSL.Business.index_53"),onClick:()=>{x(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:c("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await T({uc_id:e.order_info.uc_id});i(t)&&(v.data.uc_id=e.order_info.uc_id,v.data.verify=t.data,v.data.paths=t.paths,v.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:c("SSL.index_58"),onClick:async()=>{h.data.row=e,h.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:c("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:c("Public.Btn.Del"),onClick:()=>{ae({title:c("SSL.index_59"),content:c("SSL.index_60"),onConfirm:async()=>{await q({hash:e.hash}),w()}})}}]})]),x=e=>{_.data.row=e,_.show=!0},w=async()=>{try{g.loading=!0;const{message:e}=await O(p);i(e)&&(g.data=e.data,g.total=e.total)}finally{g.loading=!1}};return d.value.status&&w(),(e,t)=>{const i=it,s=ie,o=A,r=z,u=I;return Ce(),ke("div",Js,[we(u,{install:We(d).status},{desc:Ue(()=>[t[5]||(t[5]=Le("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),we(i,{type:"primary",onClick:We(re)},{default:Ue(()=>[Re(Te(e.$t("Login.index_3")),1)]),_:1},8,["onClick"])]),default:Ue(()=>[we(o,null,{toolsLeft:Ue(()=>[we(i,{type:"primary",onClick:t[0]||(t[0]=e=>We(m).show=!0)},{default:Ue(()=>[Re(Te(We(c)("SSL.index_44")),1)]),_:1})]),table:Ue(()=>[we(s,{loading:We(g).loading,data:We(g).data,columns:We(f),"max-height":220},null,8,["loading","data","columns"])]),_:1}),we(r,{show:We(m).show,"onUpdate:show":t[1]||(t[1]=e=>We(m).show=e),title:We(m).title,data:We(m).data,"min-height":250,component:ol},null,8,["show","title","data"]),we(r,{show:We(_).show,"onUpdate:show":t[2]||(t[2]=e=>We(_).show=e),title:We(_).title,data:We(_).data,width:650,"min-height":450,component:We(a)},null,8,["show","title","data","component"]),we(r,{show:We(h).show,"onUpdate:show":t[3]||(t[3]=e=>We(h).show=e),title:We(h).title,data:We(h).data,width:720,height:530,component:We(l)},null,8,["show","title","data","component"]),we(r,{show:We(v).show,"onUpdate:show":t[4]||(t[4]=e=>We(v).show=e),title:We(v).title,data:We(v).data,width:650,"min-height":450,component:We(n)},null,8,["show","title","data","component"])]),_:1},8,["install"])])}}}),Xs={class:"text-error"},Gs=c({},[["render",function(e,t){const a=h,l=te;return Ce(),Ee(l,null,{default:Ue(()=>[Le("li",Xs,Te(e.$t("SSL.SiteSSL.index_1")),1),Le("li",null,Te(e.$t("SSL.SiteSSL.index_2")),1),Le("li",null,Te(e.$t("SSL.SiteSSL.index_3")),1),Le("li",null,[Re(Te(e.$t("SSL.SiteSSL.index_4"))+" ",1),we(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:Ue(()=>[Re(Te(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1})}]]),Qs=ye({__name:"index",setup:e=>(e,t)=>(Ce(),ke("div",null,[we(Vs),we(Ks),we(Gs)]))}),Ys={class:"cert-info"},Zs={class:"cert-label"},eo={class:"cert-value"},to={class:"cert-info"},ao={class:"cert-label"},lo={class:"cert-value"},io={class:"cert-info"},no={class:"cert-label"},so={class:"cert-value"},oo={class:"cert-info"},ro={class:"cert-label"},uo={class:"cert-value"},co={key:0,class:"text-primary"},po={key:1,class:"text-error"},_o={class:"w-48%"},mo={class:"mb-8px"},ho={class:"w-48%"},vo={class:"mb-8px"},go=ye({__name:"cert",emits:["update"],setup(e,{emit:t}){const a=t,{data:l}=Zl(),n=ul(),s=ge(!1),o=ge(1),d=ge(""),r=ge(""),u=Ne({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),c=async()=>{const{message:e}=await U({hash:u.hash});i(e)&&J({hideClose:!0,data:{isJump:!1,task_id:e.task_id,onFinish:()=>{h()}},component:nl})},p=async()=>{await tl({updateOf:1,siteName:l.name}),a("update"),n.setRefresh(!0)},{loading:_,setLoading:m}=le(),h=async()=>{try{m(!0);const{message:e}=await al({siteName:l.name});i(e)&&(s.value=e.status,u.hash=e.hash,u.issuer=e.cert_data.issuer,u.notAfter=e.cert_data.notAfter,u.notBefore=e.cert_data.notBefore,u.dns=e.cert_data.dns,u.subject=e.cert_data.subject,u.endtime=e.cert_data.endtime,d.value=e.key,r.value=e.csr,o.value=e.auto_renew)}finally{m(!1)}};return h(),(e,t)=>{const a=Ct,l=rt,i=$,n=gt,s=za,m=ot,h=it,v=te,g=C;return Ce(),Ee(g,{show:We(_)},{default:Ue(()=>[we(n,{class:"mb-16px",type:"success","show-icon":!1},{default:Ue(()=>[we(i,{"x-gap":12,cols:"15"},{default:Ue(()=>[We(o)?(Ce(),Ee(a,{key:0,span:"16"},{default:Ue(()=>[Le("div",Ys,[Le("div",Zs,Te(e.$t("SSL.SiteSSL.index_22"))+" ",1),Le("div",eo,Te(e.$t("SSL.SiteSSL.index_23")),1)])]),_:1})):ze("",!0),we(a,{span:"7"},{default:Ue(()=>[Le("div",to,[Le("div",ao,Te(e.$t("Site.Cert.index_45"))+" ",1),Le("div",lo,[we(l,null,{default:Ue(()=>[Re(Te(We(u).issuer),1)]),_:1})])])]),_:1}),we(a,{span:"8"},{default:Ue(()=>[Le("div",io,[Le("div",no,Te(e.$t("Site.Cert.index_46"))+" ",1),Le("div",so,[we(l,null,{default:Ue(()=>[Re(Te(We(u).dns.join(e.$t("Public.Punctuation.Comma"))),1)]),_:1})])])]),_:1}),we(a,{span:"7"},{default:Ue(()=>[Le("div",oo,[Le("div",ro,Te(e.$t("Site.Cert.index_47"))+Te(e.$t("Public.Punctuation.Colon")),1),Le("div",uo,[We(u).endtime>0?(Ce(),ke("span",co,Te(e.$t("Site.Cert.index_48",{date:We(u).notAfter,days:We(u).endtime})),1)):(Ce(),ke("span",po,Te(e.$t("Site.Cert.index_47")),1))])])]),_:1})]),_:1})]),_:1}),we(m,{class:"mb-16px",size:10,justify:"space-between"},{default:Ue(()=>[Le("div",_o,[Le("div",mo,Te(e.$t("Site.Cert.index_50")),1),we(s,{readonly:"",value:We(d),"onUpdate:value":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),rows:14},null,8,["value"])]),Le("div",ho,[Le("div",vo,Te(e.$t("Site.Cert.index_51")),1),we(s,{readonly:"",value:We(r),"onUpdate:value":t[1]||(t[1]=e=>Ie(r)?r.value=e:null),rows:14},null,8,["value"])])]),_:1}),we(m,{class:"mb-12px"},{default:Ue(()=>[we(h,{type:"primary",onClick:c},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_53")),1)]),_:1}),we(h,{onClick:p},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_55")),1)]),_:1})]),_:1}),we(v,null,{default:Ue(()=>[Le("li",null,Te(e.$t("SSL.SiteSSL.index_24")),1),Le("li",null,Te(e.$t("SSL.SiteSSL.index_25")),1)]),_:1})]),_:1},8,["show"])}}}),fo=c(go,[["__scopeId","data-v-31e23451"]]),xo={class:"flex items-center"},wo={class:"leading-17px"},yo={class:"w-full"},bo={class:"w-full"},So={class:"text-error"},ko=ye({__name:"apply",emits:["update"],setup(e,{emit:t}){const a=je(),{t:l}=Oe(),{data:n}=Zl(),s=ul(),o=t,d=Ne({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),r={domains:{required:!0,trigger:"change",type:"array",message:l("SSL.SiteSSL.index_16")}},c=ge(null),p=ge([]),_=e=>p.value.find(t=>t.name===e)?.auto,m=()=>{a.push("/ssl_domain/domain")},h=fe(()=>d.domains.length>0&&d.domains.length<p.value.length);Ge(()=>d.domains,e=>{e.length===p.value.length?d.all=!0:e.length||(d.all=!1)}),Ge(()=>d.all,e=>{e?(d.domains=p.value.map(e=>e.name),c.value?.validate()):d.domains=[]}),Ge(()=>d.auth_type,e=>{"dns"===e?(d.domains=p.value.filter(e=>e.auto).map(e=>e.name),c.value?.validate()):d.domains=[]});const f=fe(()=>d.domains.filter(e=>!_(e))),x=async()=>{if(await(c.value?.validate()),"dns"===d.auth_type&&f.value.length&&!d.dns_manual)return void g.error({content:()=>Qe("span",{innerHTML:`${f.value.join("<br/>")}${l("SSL.SiteSSL.index_14")}`})});let e={auth_type:d.dns_manual?"dns_manual":d.auth_type,auto_wildcard:d.auto_wildcard,domains:JSON.stringify(d.domains),site_id:d.dns_manual?n.id:void 0,deploy:d.dns_manual?0:1};if(d.dns_manual&&"dns"===d.auth_type){const{message:t}=await B({site_id:n.id,domains:JSON.stringify(d.domains)});if(i(t)&&Object.keys(t).length)return void ue(t.auths,n.id,d.domains,()=>{o("update"),s.setRefresh(!0)},!0);const r=J({width:500,height:300,hideClose:!0,component:ce});try{const{message:t}=await j(e,!1);i(t)&&(t.deploy?(g.success(t.result||l("SSL.index_32")),o("update"),s.setRefresh(!0)):Array.isArray(t.auths)&&t.auths.length&&ue(t.auths,n.id,d.domains,()=>{o("update"),s.setRefresh(!0)}))}catch(a){pe(at(a,"message",""))}finally{r.hide()}return}const{message:t}=await j(e);i(t)&&J({hideClose:!0,data:{isJump:!1,task_id:t.task_id,onFinish:()=>{o("update"),s.setRefresh(!0)}},component:nl})},{loading:w,setLoading:b}=le();return Ae(()=>{(async()=>{try{b(!0);const{message:e}=await At({id:n.id});if(v(e)){const t=e.map(async e=>{const{message:t}=await E({domain:e.name});i(t)&&p.value.push({name:e.name,auto:t.support.includes("auto")})});await Promise.all(t)}}finally{b(!1)}})()}),(e,t)=>{const a=u,l=gt,i=Pt,n=y,s=kt,o=_t,v=yt,g=ot,b=bt,S=$t,k=C,P=it,$=Fa,L=te;return Ce(),ke("div",null,[Pe(we(l,{"show-icon":!1,class:"mb-10px"},{default:Ue(()=>[Le("div",xo,[we(a,{name:"base-info",size:"17",class:"mr-8px"}),Le("span",wo,Te(e.$t("SSL.SiteSSL.index_12")),1)])]),_:1},512),[[$e,"dns"===We(d).auth_type]]),we($,{ref_key:"formRef",ref:c,model:We(d),rules:r,"label-width":"140"},{default:Ue(()=>[we(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:Ue(()=>[we(s,{value:We(d).auth_type,"onUpdate:value":t[0]||(t[0]=e=>We(d).auth_type=e)},{default:Ue(()=>[we(n,null,{default:Ue(()=>[we(i,{value:"http"},{default:Ue(()=>[Re(Te(e.$t("SSL.SiteSSL.index_17")),1)]),_:1}),we(i,{value:"dns"},{default:Ue(()=>[Re(Te(e.$t("SSL.index_12"))+" (Wildcard support) ",1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),Pe(we(o,{label:" ","show-feedback":!1},{default:Ue(()=>[we(v,{checked:We(d).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>We(d).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:Ue(()=>[Re(Te(e.$t("SSL.index_2")),1)]),_:1},8,["checked"])]),_:1},512),[[$e,"dns"===We(d).auth_type]]),Pe(we(o,{label:" "},{default:Ue(()=>[we(v,{checked:We(d).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>We(d).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:Ue(()=>[Re(Te(e.$t("SSL.SiteSSL.index_20")),1)]),_:1},8,["checked"])]),_:1},512),[[$e,"dns"===We(d).auth_type]]),we(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:Ue(()=>[we(k,{show:We(w),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:Ue(()=>[we(v,{class:"mb-12px",checked:We(d).all,"onUpdate:checked":t[3]||(t[3]=e=>We(d).all=e),label:e.$t("Public.SelectAll"),indeterminate:We(h)},null,8,["checked","label","indeterminate"]),We(p).length?(Ce(),Ee(b,{key:0,value:We(d).domains,"onUpdate:value":t[4]||(t[4]=e=>We(d).domains=e)},{default:Ue(()=>[we(g,{class:"flex-col!",size:12},{default:Ue(()=>[(Ce(!0),ke(be,null,Me(We(p),e=>(Ce(),Ee(v,{key:e.name,value:e.name,label:e.name},null,8,["value","label"]))),128))]),_:1})]),_:1},8,["value"])):(Ce(),Ee(S,{key:1,description:"No domain name"}))]),_:1},8,["show"])]),_:1},8,["label"]),Pe(we(o,{label:" "},{default:Ue(()=>[we(l,{"show-icon":!1,type:We(f).length?"warning":"success"},{default:Ue(()=>[(Ce(!0),ke(be,null,Me(We(d).domains,t=>(Ce(),Ee(g,{key:t},{default:Ue(()=>[_(t)?(Ce(),Ee(g,{key:0,class:"flex-nowrap! py-3px"},{default:Ue(()=>[we(a,{name:"base-success",size:"17",color:"#20a53a"}),Le("span",yo,"["+Te(t)+"] "+Te(e.$t("SSL.SiteSSL.index_13")),1)]),_:2},1024)):(Ce(),Ee(g,{key:1,class:"flex-nowrap! py-3px items-center!"},{default:Ue(()=>[we(a,{name:"base-error",size:"17",color:"#E85445"}),Le("span",bo,"["+Te(t)+"] "+Te(e.$t("SSL.SiteSSL.index_14")),1),we(P,{type:"primary",size:"tiny",onClick:m},{default:Ue(()=>[Re(Te(e.$t("SSL.SiteSSL.index_21")),1)]),_:1})]),_:2},1024))]),_:2},1024))),128))]),_:1},8,["type"])]),_:1},512),[[$e,"dns"===We(d).auth_type&&We(d).domains.length&&!We(d).dns_manual]]),we(o,{label:" "},{default:Ue(()=>[we(P,{type:"primary",onClick:x},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Apply")),1)]),_:1})]),_:1})]),_:1},8,["model"]),Pe(we(L,{class:"mt-16px"},{default:Ue(()=>[Le("li",So,Te(e.$t("SSL.SiteSSL.index_15")),1),Le("li",null,Te(e.$t("Site.Cert.index_21")),1),Le("li",null,Te(e.$t("Site.Cert.index_23")),1),Le("li",null,Te(e.$t("Site.Cert.index_24")),1)]),_:1},512),[[$e,"http"===We(d).auth_type]]),Pe(we(L,{class:"mt-24px"},{default:Ue(()=>[t[5]||(t[5]=Le("li",null,"Manually resolved certificates do not support auto-renewal",-1)),Le("li",null,Te(e.$t("Site.Cert.index_25")),1),Le("li",null,Te(e.$t("Site.Cert.index_26")),1),Le("li",null,Te(e.$t("Site.Cert.index_27")),1),Le("li",null,Te(e.$t("Site.Cert.index_28")),1)]),_:1,__:[5]},512),[[$e,"dns"===We(d).auth_type]])])}}}),Co=ye({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>(Ce(),ke("div",null,[t.isOpen&&"Let's Encrypt"===t.type?(Ce(),Ee(fo,{key:0,onUpdate:a})):(Ce(),Ee(ko,{key:1,onUpdate:a}))]))}}),Po=ye({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:a}=Zl(),{t:l}=Oe(),n=Ne({p:1,limit:99999}),{columns:s,table:o}=Z([{key:"domain",title:l("Site.Cert.index_29"),render:e=>we("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},sl({title:l("SSL.index_54"),width:140}),{key:"issuer",title:l("Site.Cert.index_30"),ellipsis:{tooltip:!0}},ne({width:150,options:t=>[{label:l("Public.Btn.Deploy"),onClick:async()=>{try{await W({hash:t.hash,domains:JSON.stringify([a.name]),append:1}),g.success(l("SSL.index_32")),setTimeout(()=>{e.onMenuChange()},500)}catch(i){console.log(i)}}},{show:"Let's Encrypt"===t.provider,label:l("Public.Btn.Del"),onClick:()=>{(e=>{_e({title:l("Site.Cert.index_31"),content:l("Site.Cert.index_32"),onConfirm:async()=>{await q({hash:e.hash}),u()}})})(t)}}]})]),{loading:d,setLoading:r}=le(!0),u=async()=>{try{r(!0);const{message:e}=await M(n);i(e)&&(o.data=e.data)}finally{r(!1)}};return u(),t({init:u}),(e,t)=>{const a=ie;return Ce(),ke("div",null,[we(a,{loading:We(d),columns:We(s),data:We(o).data,"max-height":510},null,8,["loading","columns","data"])])}}}),$o={class:"mr-12px"},Lo={key:0,class:"mr-12px"},Wo={key:1,class:"mr-12px"},Uo=ye({__name:"index",setup(e,{expose:t}){const a=ul(),{data:l}=Zl(),{t:n}=Oe(),s=ge("current"),o=ge(""),d=ge(il.NotDeploy),r=ge(""),u=ge(!1),c=ge(0),p=ge(!1),_=ge(""),m=async()=>{const{message:e}=await U({hash:o.value});i(e)&&J({hideClose:!0,data:{isJump:!1,task_id:e.task_id,onFinish:()=>{v()}},component:nl})},h=e=>{g.value[0].data&&(g.value[0].data.loading=e)},v=async()=>{try{h(!0);const{message:a}=await ll({siteName:l.name});i(a)&&(d.value=a.type,u.value=a.status,c.value=at(a,"cert_data.endtime",0),_.value=a.cert_data.issuer_O,p.value=(()=>{let e=!1;return c.value<=30&&(e=!0),d.value===il.TestDeploy&&c.value<0&&(e=!0),d.value!==il.SaveOrHolderDeploy&&d.value!==il.NotDeploy||(e=!1),e})(),r.value=a.cert_data.dns.join(","),o.value=a.hash,t=a,g.value[0].data&&(g.value[0].data.info=t),e=p.value,g.value[0].data&&(g.value[0].data.isRenew=e))}catch{u.value=!1,p.value=!1}finally{h(!1)}var e,t},g=ge([{key:"current",label:()=>we("div",null,[we("span",null,[Re("Current Certs - ")]),we("span",{class:u.value?"text-#1d9534":"text-red-500"},[Re("["),u.value?"Deployed":"Not Deployed",Re("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:v},component:Ye(Ns)},{key:"business",label:n("Site.Cert.index_64"),component:Ye(Qs)},{key:"let",label:n("Site.Cert.index_65"),data:{isOpen:fe(()=>u.value),type:fe(()=>_.value),onRefresh:v},component:Ye(Co)},{key:"holder",label:n("Site.Cert.index_66"),component:Ye(Po),data:{onMenuChange:()=>{s.value="current",v(),a.setRefresh(!0)}}}]);return t({init:()=>{v()}}),(e,t)=>{const a=it,l=gt,i=Aa;return Ce(),ke("div",null,[We(u)?ze("",!0):(Ce(),Ee(l,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Ue(()=>[Le("span",$o,Te(e.$t("Site.Cert.index_41")),1),we(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>s.value="business")},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_43")),1)]),_:1})]),_:1})),We(u)&&We(p)?(Ce(),Ee(l,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Ue(()=>[We(c)>0?(Ce(),ke("span",Lo,Te(e.$t("SSL.SiteSSL.index_26",[We(r),We(c)])),1)):(Ce(),ke("span",Wo,Te(e.$t("SSL.SiteSSL.index_19",[We(r)])),1)),we(a,{size:"tiny",type:"primary",onClick:m},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_53")),1)]),_:1})]),_:1})):ze("",!0),we(i,{value:We(s),"onUpdate:value":t[1]||(t[1]=e=>Ie(s)?s.value=e:null),options:We(g)},null,8,["value","options"])])}}}),Ro={class:"tips"},To={class:"w-full ml-12px"},qo={class:"w-full ml-12px"},Oo={class:"text-warning font-bold"},Bo=ye({__name:"index",setup(e){const t=r(),a=ul(),{isPro:l}=Be(t),{data:s}=Zl(),o=Ne({maintenance:!1,type:"default",maintenance_title:"",maintenance_big_text:"",maintenance_small_text:"",social_network_links:[],times:null,template_upload:"",background_upload:""}),d=()=>{o.social_network_links.push({title:"",value:""})},u=e=>{const t=s.path+"/wp-content";dl({path:t,uploadData:{multiple:!1,accept:"bg"===e?".jpg,.jpeg,.png,.gif,.svg,.webp":".html,.phtml,.php"},size:10,onUploadSuccess:a=>{"bg"===e?o.background_upload=`${t}/${a[0].name}`:o.template_upload=`${t}/${a[0].name}`}})},c=()=>{G({source:371})},p=e=>e<Date.now()-864e5,_=async()=>{const e={set_id:s.id,...o,social_network_links:JSON.stringify(o.social_network_links),template_upload:"custom"===o.type?o.template_upload:""};var t;await(t=e,n.post("/site?action=set_wp_maintenance",t,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),v(),a.setRefresh(!0)},{loading:m,setLoading:h}=le(),v=async()=>{try{h(!0);const{message:t}=await(e={set_id:s.id},n.post("/site?action=get_wp_maintenance",e));i(t)&&(o.maintenance="true"===t.maintenance,o.maintenance_title=t.maintenance_title,o.maintenance_big_text=t.maintenance_big_text,o.maintenance_small_text=t.maintenance_small_text,o.social_network_links=t.social_network_links.length?t.social_network_links:[{title:"",value:""}],o.times=Number(t.times)||null,o.template_upload=t.template_upload,o.background_upload=t.background_upload,o.type=t.template_upload?"custom":"default")}finally{h(!1)}var e};return l.value&&v(),(e,t)=>{const a=it,i=ht,n=_t,s=St,r=kt,h=vt,v=Lt,g=ot,f=D,x=Va,w=Fa,y=te,b=C,S=I;return Ce(),Ee(S,{install:We(l)},{desc:Ue(()=>[Le("span",null,Te(e.$t("WP.Config.index_34")),1),we(a,{class:"ml-8px",onClick:c,type:"primary",size:"small"},{default:Ue(()=>[Re(Te(e.$t("Component.Auth.index_3")),1)]),_:1})]),default:Ue(()=>[we(b,{show:We(m),class:"pr-16px"},{default:Ue(()=>[we(w,{model:We(o),"label-width":"150"},{default:Ue(()=>[we(n,{label:e.$t("WP.Config.index_33")},{default:Ue(()=>[we(i,{value:We(o).maintenance,"onUpdate:value":t[0]||(t[0]=e=>We(o).maintenance=e)},null,8,["value"]),Le("span",Ro,Te(e.$t("WP.Config.index_35")),1)]),_:1},8,["label"]),we(n,{label:e.$t("Layout.Sider.docker_8")},{default:Ue(()=>[we(r,{value:We(o).type,"onUpdate:value":t[1]||(t[1]=e=>We(o).type=e)},{default:Ue(()=>[we(s,{label:e.$t("Site.Proxy.index_54"),value:"default"},null,8,["label"]),we(s,{label:e.$t("Public.Search.Custom"),value:"custom"},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"]),"default"===We(o).type?(Ce(),ke(be,{key:0},[we(n,{label:e.$t("WP.Config.index_36")},{default:Ue(()=>[we(h,{value:We(o).maintenance_title,"onUpdate:value":t[2]||(t[2]=e=>We(o).maintenance_title=e)},null,8,["value"])]),_:1},8,["label"]),we(n,{label:e.$t("WP.Config.index_37")},{default:Ue(()=>[we(h,{value:We(o).maintenance_big_text,"onUpdate:value":t[3]||(t[3]=e=>We(o).maintenance_big_text=e),maxlength:200},null,8,["value"])]),_:1},8,["label"]),we(n,{label:e.$t("WP.Config.index_38")},{default:Ue(()=>[we(h,{type:"textarea",value:We(o).maintenance_small_text,"onUpdate:value":t[4]||(t[4]=e=>We(o).maintenance_small_text=e),maxlength:300},null,8,["value"])]),_:1},8,["label"]),we(n,{label:e.$t("WP.Config.index_39")},{default:Ue(()=>[we(g,null,{default:Ue(()=>[(Ce(!0),ke(be,null,Me(We(o).social_network_links,(l,i)=>(Ce(),Ee(g,{class:"flex-nowrap!",key:i},{default:Ue(()=>[we(h,{class:"w-150px!",value:l.title,"onUpdate:value":e=>l.title=e,placeholder:e.$t("Config.Alarm.index_7")},null,8,["value","onUpdate:value","placeholder"]),we(h,{class:"w-200px!",value:l.value,"onUpdate:value":e=>l.value=e,placeholder:"https://www.aapanel.com/"},null,8,["value","onUpdate:value"]),we(v,null,{default:Ue(()=>[we(a,{onClick:e=>(e=>{o.social_network_links=o.social_network_links.filter(t=>t!==e)})(l),disabled:1===We(o).social_network_links.length},{default:Ue(()=>t[10]||(t[10]=[Re("-",-1)])),_:2,__:[10]},1032,["onClick","disabled"]),we(a,{onClick:d,disabled:We(o).social_network_links.length>=5},{default:Ue(()=>t[11]||(t[11]=[Re("+",-1)])),_:1,__:[11]},8,["disabled"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),we(n,{label:e.$t("WP.Config.index_40")},{default:Ue(()=>[we(f,{value:We(o).times,"onUpdate:value":t[5]||(t[5]=e=>We(o).times=e),type:"datetime",clearable:"","is-date-disabled":p},null,8,["value"])]),_:1},8,["label"]),we(n,{ref:"dbBakFileRef",label:e.$t("WP.Config.index_41"),path:"db_bak_file"},{default:Ue(()=>[we(a,{onClick:t[6]||(t[6]=e=>u("bg"))},{default:Ue(()=>[Re(Te(e.$t("Docker.App.Backup.index_3")),1)]),_:1}),Le("div",To,[we(x,{value:We(o).background_upload,"onUpdate:value":t[7]||(t[7]=e=>We(o).background_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])]),_:1},8,["label"])],64)):ze("",!0),"custom"===We(o).type?(Ce(),Ee(n,{key:1,label:e.$t("WP.Config.index_42")},{default:Ue(()=>[we(a,{onClick:t[8]||(t[8]=e=>u("template"))},{default:Ue(()=>[Re(Te(e.$t("Docker.App.Backup.index_3")),1)]),_:1}),Le("div",qo,[we(x,{value:We(o).template_upload,"onUpdate:value":t[9]||(t[9]=e=>We(o).template_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])]),_:1},8,["label"])):ze("",!0),we(n,{label:" "},{default:Ue(()=>[we(a,{type:"primary",onClick:_},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),we(y,null,{default:Ue(()=>[Le("li",Oo,Te(e.$t("WP.Config.index_43")),1),Le("li",null,Te(e.$t("WP.Config.index_44")),1),"custom"===We(o).type?(Ce(),ke(be,{key:0},[Le("li",null,Te(e.$t("WP.Config.index_45")),1),Le("li",null,Te(e.$t("WP.Config.index_46")),1)],64)):ze("",!0)]),_:1})]),_:1},8,["show"])]),_:1},8,["install"])}}}),jo=c(Bo,[["__scopeId","data-v-80e183ea"]]),Eo={class:"font-bold line-height-24px mb-8px"},Mo={class:"font-bold line-height-24px mb-8px"},Do={class:"p-16px rounded-8px"},Ho=ye({__name:"index",setup(e,{expose:t}){const{t:a}=Oe(),l=ul(),{data:n}=Zl(),{multiService:s,isWebServerJump:o}=Be(r()),d=Ne({webServer:"apache",ico:""}),c=ge(""),p=async()=>{o.value=!0,await Ma({name:"nginx",title:"Nginx",admin:!1})},_=ge([{label:"Apache",value:"apache"},{label:"Nginx",value:"nginx"},{label:"Openlitespeed",value:"openlitespeed"}]),m=()=>{ae({title:a("WP.Config.index_25"),width:500,content:()=>we(be,null,[we("span",null,[a("WP.Config.index_26",[d.webServer])]),we("div",{class:"mt-12px"},[a("WP.Config.index_27")]),we(te,{class:"text-12px"},{default:()=>[we("li",{class:"text-warning font-bold"},[a("WP.Config.index_28")]),we("li",{class:"text-warning font-bold"},[a("WP.Config.index_29")]),we("li",null,[a("WP.Config.index_30")]),we("li",null,[a("WP.Config.index_31")])]})]),onConfirm:async()=>{await jt({site_id:n.id,service_type:d.webServer}),g(),l.setRefresh(!0)}})},v=()=>{ae({title:a("WP.Config.index_19"),content:a("WP.Config.index_32"),onConfirm:async()=>{await Et({site_id:n.id}),g(),l.setRefresh(!0)}})},g=async()=>{const{message:e}=await qt({site_id:n.id});i(e)&&(d.webServer=e.result,c.value=e.result.charAt(0).toUpperCase()+e.result.slice(1))};return g(),t({init:g}),(e,t)=>{const a=it,l=ot,i=te,n=Wt,o=u,r=gt,g=pt,f=_t,x=mt,w=Fa,y=h,b=I;return Ce(),Ee(b,{install:We(s)},{desc:Ue(()=>[we(l,{class:"items-center"},{default:Ue(()=>[Le("span",null,Te(e.$t("WP.Config.index_11")),1),we(a,{size:"small",onClick:p,type:"primary"},{default:Ue(()=>[Re(Te(e.$t("file.fileOperation.open")),1)]),_:1})]),_:1})]),default:Ue(()=>[we(n,{class:"p-16px"},{default:Ue(()=>[we(l,{class:"mb-20px flex-nowrap!"},{default:Ue(()=>[t[1]||(t[1]=Le("i",{class:"i-material-symbols:network-node color-#20a53a text-24px"},null,-1)),Le("div",null,[Le("div",Eo,Te(e.$t("WP.Config.index_12")),1),we(i,null,{default:Ue(()=>[Le("li",null,Te(e.$t("WP.Config.index_13")),1)]),_:1})])]),_:1,__:[1]}),we(l,{class:"flex-nowrap!"},{default:Ue(()=>[t[2]||(t[2]=Le("i",{class:"i-ic:outline-arrow-circle-right color-#20a53a text-24px"},null,-1)),Le("div",null,[Le("div",Mo,Te(e.$t("WP.Config.index_14")),1),we(i,null,{default:Ue(()=>[Le("li",null,Te(e.$t("WP.Config.index_15")),1),Le("li",null,Te(e.$t("WP.Config.index_16")),1),Le("li",null,Te(e.$t("WP.Config.index_17")),1)]),_:1})])]),_:1,__:[2]})]),_:1}),we(w,{class:"my-16px",model:We(d)},{default:Ue(()=>[we(f,{label:e.$t("WP.Config.index_18")},{default:Ue(()=>[we(r,{"show-icon":!1},{default:Ue(()=>[we(l,{class:"items-center!",size:2},{default:Ue(()=>[we(o,{name:`soft-${We(c).toLowerCase()}`,size:"24"},null,8,["name"]),Le("span",null,Te(We(c)),1)]),_:1})]),_:1}),we(a,{class:"ml-12px",onClick:v},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_19")),1)]),_:1}),we(g,{trigger:"hover",style:{"--n-color":"var(--site-multi-service-rollback-bg)"}},{trigger:Ue(()=>[we(o,{class:"ml-5px",name:"base-problem",size:"20"})]),default:Ue(()=>[Le("div",Do,Te(e.$t("WP.Config.index_20")),1)]),_:1})]),_:1},8,["label"]),we(f,{label:e.$t("WP.Config.index_21")},{default:Ue(()=>[we(x,{class:"w-300px!",value:We(d).webServer,"onUpdate:value":t[0]||(t[0]=e=>We(d).webServer=e),options:We(_)},null,8,["value","options"])]),_:1},8,["label"]),we(f,{label:" "},{default:Ue(()=>[we(a,{type:"primary",onClick:m},{default:Ue(()=>[Re(Te(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),we(i,null,{default:Ue(()=>[Le("li",null,Te(e.$t("WP.Config.index_22")),1),Le("li",null,[Re(Te(e.$t("WP.Config.index_23")),1),we(y,{class:"ml-5px",target:"_blank",href:"https://www.aapanel.com/docs/faq/multi-webserver_hosting.html"},{default:Ue(()=>[Re(Te(e.$t("WP.Config.index_24")),1)]),_:1})])]),_:1})]),_:1},8,["install"])}}}),Io=c(Ho,[["__scopeId","data-v-7dd2155e"]]),No=ye({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Oe(),a=ul(),{siteName:l}=Be(a),i=e,{siteInfo:n,config:s}=i;l.value=i.siteInfo.name;const o=ge();n&&He(Yl,{data:n,config:s});const d=ge("domain"),r=[{key:"domain",label:t("Site.Config.index_1"),component:di},{key:"wordpress",label:t("Site.Config.index_2"),component:Nn},{key:"security",label:t("Site.Config.index_13"),component:rs},{key:"config",label:t("Site.Config.index_10"),component:dn},{key:"ssl",label:()=>we(be,null,[t("Site.Config.index_11")]),component:Uo},{key:"php",label:t("Site.Lable.index_22"),component:kn},{key:"webserver",label:t("WP.Config.index_21"),component:Io},{key:"maintenance",label:t("WP.Config.index_33"),component:jo},{key:"logs",label:t("Site.Config.index_25"),component:xs}];return d.value=s.menu||"domain",s.menu="",Ae(()=>{window.siteConfigInit=o.value.init}),(e,t)=>{const a=Na;return Ce(),Ee(a,{value:We(d),"onUpdate:value":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),ref_key:"tabsRef",ref:o,data:r},null,8,["value"])}}}),zo={class:"pt-50px pb-40px"},Ao={class:"mb-24px text-center text-22px font-bold"},Fo={class:"mb-16px"},Vo={class:"ul-style"},Jo={class:"ml-4px"},Ko={class:"ml-4px"},Xo={class:"ml-4px"},Go={class:"ml-4px"},Qo={class:"text-center text-14px color-desc"},Yo={class:"text-center my-24px"},Zo={class:"flex justify-center"},ed=c(ye({__name:"transition",setup(e){const t=()=>{re()};return(e,a)=>{const l=u,i=it,n=Ut;return Ce(),ke("div",zo,[Le("div",Ao,Te(e.$t("WP.Transition.index_1")),1),Le("div",Fo,[Le("ul",Vo,[Le("li",null,[we(l,{name:"wp-install",size:"22"}),Le("span",Jo,Te(e.$t("WP.Transition.index_2")),1)]),Le("li",null,[we(l,{name:"wp-safe",size:"22"}),Le("span",Ko,Te(e.$t("WP.Transition.index_3")),1)]),Le("li",null,[we(l,{name:"wp-backup",size:"22"}),Le("span",Xo,Te(e.$t("WP.Transition.index_4")),1)]),Le("li",null,[we(l,{name:"wp-cache",size:"22"}),Le("span",Go,Te(e.$t("WP.Transition.index_5")),1)])])]),Le("div",Qo,Te(e.$t("WP.Transition.index_6")),1),Le("div",Yo,[we(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:Ue(()=>[Re(Te(e.$t("WP.Transition.index_8")),1)]),_:1})]),Le("div",Zo,[we(n,{class:"justify-center",width:"50%",src:We("/static/vite/images/preview.png")},null,8,["src"])])])}}}),[["__scopeId","data-v-0744d9b2"]]),td={class:"p-20px"},ad={class:"flex-1"},ld={class:"mt-12px"},id={class:"px-20px pt-24px pb-8px"},nd={class:"w-150px"},sd=ye({__name:"set",props:{data:{}},setup(e){const{t:t}=Oe(),a=e,{setOptions:l}=a.data,i=ge(""),s=async()=>{const e=i.value.trim();var a;""!==e?(await(a={name:e},n.post("/site?action=add_wp_site_type",a,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),i.value="",await m(),l()):g.error(t("Site.PHP.index_46"))},o=oe(),d=ge(null),r=Ne({id:-1,name:""}),u={name:{required:!0,message:t("Site.PHP.index_46"),trigger:["blur","change"]}},c=async({hide:e})=>{var t;await(d.value?.validate()),await(t=Fe(r),n.post("/site?action=edit_wp_site_type",t,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),await m(),l(),e()},{table:p,columns:_}=Z([{key:"name",title:"Name"},ne({width:120,options:e=>[{label:t("Public.Btn.Edit"),disabled:1===e.id,onClick:()=>{(e=>{r.id=e.id,r.name=e.name,o.title=`${t("Site.PHP.index_48")} [${e.name}]`,o.show=!0})(e)}},{label:t("Public.Btn.Delete"),disabled:1===e.id,onClick:()=>{ae({title:`${t("Site.PHP.index_49")} [${e.name}]`,content:t("Site.PHP.index_50"),onConfirm:async({hide:t})=>{var a;await(a={id:e.id},n.post("/site?action=del_wp_site_type",a,{requestOptions:{loading:cl("Login.index_22"),successMessage:!0}})),await m(),l(e.id),t()}})}}]})]),m=async()=>{const{message:e}=await vl();p.data=v(e)?e:[]};return m(),(e,t)=>{const a=vt,l=it,n=ot,m=Rt,h=_t,v=Fa,g=z;return Ce(),ke("div",td,[we(n,null,{default:Ue(()=>[Le("div",ad,[we(a,{value:We(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),placeholder:e.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),Le("div",null,[we(l,{type:"primary",onClick:s},{default:Ue(()=>[Re(Te(e.$t("Site.Cert.index_62")),1)]),_:1})])]),_:1}),Le("div",ld,[we(m,{"max-height":300,data:We(p).data,columns:We(_)},null,8,["data","columns"])]),we(g,{show:We(o).show,"onUpdate:show":t[2]||(t[2]=e=>We(o).show=e),title:We(o).title,width:350,footer:!0,onConfirm:c},{default:Ue(()=>[Le("div",id,[we(v,{ref_key:"formRef",ref:d,model:We(r),rules:u},{default:Ue(()=>[we(h,{label:e.$t("Site.PHP.index_47"),path:"name"},{default:Ue(()=>[Le("div",nd,[we(a,{value:We(r).name,"onUpdate:value":t[1]||(t[1]=e=>We(r).name=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["show","title"])])}}}),od={class:"w-160px"},dd=ye({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e,{expose:t}){const a=Ze(e,"value"),{t:l}=Oe(),{loading:i,setLoading:n}=le(),s=ge([]),o=oe(l("Site.PHP.index_44"),{setOptions:e=>{r(),a.value===e&&(a.value="")}}),d=()=>{o.show=!0},r=async()=>{try{n(!0);const{message:e}=await vl();v(e)&&(s.value=e.map(e=>({label:e.name,value:e.id})))}finally{s.value.unshift({label:l("Site.PHP.index_45"),value:""}),n(!1)}};return t({getList:r}),(e,t)=>{const l=it,n=mt,r=z;return Ce(),ke("div",od,[we(n,et(e.$attrs,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),loading:We(i),options:We(s)}),{action:Ue(()=>[we(l,{block:"",onClick:d},{default:Ue(()=>[Re(Te(e.$t("Site.PHP.index_43")),1)]),_:1})]),_:1},16,["value","loading","options"]),we(r,{show:We(o).show,"onUpdate:show":t[1]||(t[1]=e=>We(o).show=e),width:350,title:We(o).title,data:We(o).data,component:sd},null,8,["show","title","data"])])}}}),rd={class:"w-860px h-720px"},ud=ye({__name:"index",setup(e){const a=xe(()=>o(()=>t.import("./index-legacy252.js?v=1764830988434"),void 0)),l=xe(()=>o(()=>t.import("./index-legacy253.js?v=1764830988434"),void 0)),s=xe(()=>o(()=>t.import("./index-legacy254.js?v=1764830988434"),void 0)),u=xe(()=>o(()=>t.import("./index-legacy255.js?v=1764830988434"),void 0)),c=xe(()=>o(()=>t.import("./index-legacy256.js?v=1764830988434"),void 0)),p=xe(()=>o(()=>t.import("./ssl-log-legacy.js?v=1764830988434"),void 0)),_=xe(()=>o(()=>t.import("./index-legacy257.js?v=1764830988434"),void 0)),{t:m}=Oe(),g=ul(),f=r(),{web:x,webserver:w}=Be(g),{userInfo:y,isFree:b,siteMonitorStatus:S}=Be(f),k=ge(!1),C=ge(),P=oe(m("WP.index_27")),$=oe(m("WP.Add.index_7"),{done:async()=>{bl(m("WP.Add.index_7"),"backup_deploy",async()=>{await ce(),ve()})}}),L=oe(m("Site.Config.index_19")),W=oe("Data Copy",{done:async()=>{bl("Data Copy","wp_copy")}}),U=()=>{$.show=!0},R=()=>{P.show=!0},T=()=>{L.show=!0},q=()=>{f.isFree?G({source:370}):W.show=!0},O=ge([]),B=ge([]),j=Ye({}),E=oe(m("SSL.Domain.index_5")),M=async()=>{if(b.value&&!S.value)return;const{message:e}=await Mt((()=>{const e=new Date,t=Da(e,-30);return{start_date:d(t,"yyyy-MM-dd"),end_date:d(e,"yyyy-MM-dd")}})(),"WP2");i(e)&&(j.value=e)},D=Ne({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),N=oe(m("WP.index_2"),{done:async()=>{bl(m("WP.index_2"),"backup_deploy",async()=>{await ce(),ve()})}}),X=oe(),{keys:Q,table:Y,columns:ae}=((e,t,a,l,i,n,s)=>{const{t:o}=Oe(),{isFree:d,siteMonitorStatus:u}=Be(r()),{webserver:c,monitor:p,isMonitorInstall:_}=Be(ul()),{keys:m,table:h,columns:v}=Z([{type:"selection",width:40},{key:"name",title:o("Site.PHP.index_17"),minWidth:160,sorter:!0,sortOrder:!1,render:e=>we(zl,{ico:e.ico,name:e.name,description:e.ps,onClickName:()=>{n(e)},onClickServer:()=>{n(e,{menu:"webserver"})},onBlur:async t=>{await Nt({id:e.id,ps:t}),e.ps=t}},null)},{key:"status",title:o("Public.Table.Status"),align:"center",sorter:!0,sortOrder:!1,render:e=>we(Rl,{row:e,onClick:()=>{n(e,{menu:"maintenance"})}},null)},{key:"backup_count",title:o("Site.PHP.index_19"),width:"10%",minWidth:110,render:e=>we(Tl,{row:e},null)},{key:"path",title:"Quick action",align:"center",minWidth:200,render:t=>we(Al,{protection:e.value,row:t,onShowToolkit:()=>{n(t,{menu:"wordpress"})},onShowPhp:()=>{n(t,{menu:"php"})},onShowProtection:()=>{l(t)},onShowClone:()=>{i(t)}},null)},{key:"site_ssl",title:o("Site.PHP.index_27"),align:"center",minWidth:100,sorter:!0,sortOrder:!1,className:"sort-center",render:e=>{const t=a.value.filter(t=>t.target_id===e.id);return we(Kl,{config:e.ssl,sslApplyList:t,onClick:()=>{n(e,{menu:"ssl"})}},null)}},{key:"requests",title:()=>we(ot,{class:"items-center justify-center!",size:3},{default:()=>[we("span",null,[Re("Requests")]),we(pt,{trigger:"hover"},{trigger:()=>we("i",{class:"i-uiw:question-circle-o text-16px text-#9DA1A6 cursor-pointer"},null),default:()=>we(te,null,{default:()=>[we("li",null,[Re('If you don\'t need it, you can turn it off in "Settings" - "Panel Settings" - "Site Monitor".')]),we("li",null,[Re("The monitoring report data will be updated as the website list is refreshed")])]})})]}),align:"center",width:"12%",minWidth:120,render:e=>{if("nginx"!==c.value&&"apache"!==c.value)return"--";if(d.value&&!u.value)return we(it,{type:"primary",text:!0,onClick:()=>{K({source:142})}},{default:()=>[Re("Active")]});if(!(_.value||d.value&&u.value))return we(it,{type:"primary",text:!0,onClick:()=>{ee("monitor",async()=>{s()})}},{default:()=>[1===p.value.is_install?o("Public.Btn.Update"):o("Public.Btn.Install")]});const a=t.value[e.name];if(!ct(a)){const t=(e=>e.total?e.total.request:0)(a),l=(e=>e.list.map(e=>({date:e.date,value:e.request})))(a);return we(Ql,{name:e.name,total:t,value:l},null)}return"--"}},ql({onClick:(e,t)=>{n(e,t)}})]);return{keys:m,table:h,columns:v}})(B,j,O,async e=>{X.title=`${m("WP.Config.index_10")} [${e.name}]`,X.data.site=e,X.show=!0},async e=>{N.data.row=e,N.show=!0},(e,t={})=>{D.title=`${m("Site.Cert.index_58")} [${e.name}] -- ${m("Site.Cert.index_59")} [${e.addtime}]`,D.siteInfo=e,D.config=Object.assign({menu:"",subMenu:""},t),D.show=!0},M),ne=((e,a)=>[{key:"enable",type:"confirm",label:Ol("Site.Batch.index_1"),confirm:{title:Ol("Site.Batch.index_2"),desc:Ol("Site.Batch.index_3"),columns:[e.value[1]],api:e=>Dt(!0,{id:e.id,name:e.name},!1),done:()=>{a()}}},{key:"disable",type:"confirm",label:Ol("Site.Batch.index_4"),confirm:{title:Ol("Site.Batch.index_5"),desc:Ol("Site.Batch.index_6"),columns:[e.value[1]],api:e=>Dt(!1,{id:e.id,name:e.name},!1),done:()=>{a()}}},{key:"backup",type:"confirm",label:Ol("Site.Batch.index_7"),confirm:{title:Ol("Site.Batch.index_8"),desc:Ol("Site.Batch.index_9"),columns:[e.value[1]],api:e=>_l({s_id:e.id,bak_type:3},!1),done:()=>{a()}}},{key:"php",label:Ol("Site.PHP.index_66"),onBatch:e=>{J({title:Ol("Site.PHP.index_65"),width:500,minHeight:198,footer:!0,data:{rows:e,showStatic:!1,refresh:a},component:xe(()=>o(()=>t.import("./php-legacy2.js?v=1764830988434"),void 0))})}},{key:"category",label:Ol("Crontab.Planned.index_19"),onBatch:e=>{J({title:Ol("Site.Batch.index_22"),width:350,minHeight:72,footer:!0,data:{rows:e},component:xe(()=>o(()=>t.import("./batch-legacy3.js?v=1764830988434"),void 0))})}},{key:"webserver",label:"Switch service",onBatch:e=>{J({title:"Batch switch service",width:450,minHeight:100,footer:!0,data:{rows:e},component:xe(()=>o(()=>t.import("./index-legacy250.js?v=1764830988434"),void 0))})}},{key:"delete",label:Ol("Site.Batch.index_10"),onBatch:e=>{Ul(e)}}])(ae,()=>{ce()}),{loading:se,setLoading:de}=le(!0),re=e=>{ae.value.forEach(t=>{const a=t;a.key===e.columnKey?a.sortOrder=e.order:a.sortOrder=!1});const t=e.order?`${e.columnKey} ${"descend"===e.order?"desc":"asc"}`:"";ue.order=t,ce()},ue=Ne({p:1,limit:10,search:"",order:"",site_type:""}),ce=async(e=!1)=>{try{de(!(O.value.length>0||e));const a={...ue,order:ue.order?ue.order:null},{message:l}=await(t=a,n.post("/data?action=get_wp_site_list",t));i(l)?(Y.data=v(l.data)?l.data:[],Y.total=l.total):(Y.data=[],Y.total=0)}finally{fe(),Q.value=[],de(!1)}var t};let pe=null;const _e=ge(!1),ve=async()=>{pe&&clearTimeout(pe);const{message:e}=await H();v(e)&&(O.value=e,e.length>0?(_e.value=!0,pe=window.setTimeout(()=>{ve()},3e3)):(_e.value&&ce(!0),pe&&clearTimeout(pe)))},fe=async()=>{const{message:e}=await n.post("/site?action=get_wp_security_status");v(e)&&(B.value=e)};return Ge(()=>g.isRefresh,e=>{e&&(g.setRefresh(!1),ce())}),(async()=>{try{await g.getConfig(),g.web.setup?(k.value=!0,await ce(),ve(),M(),C.value?.getList()):(de(!1),Tt())}catch{de(!1)}})(),tt(()=>{pe&&clearTimeout(pe)}),(e,t)=>{const i=h,n=it,o=he,d=me,r=ie,m=V,v=F,g=A,f=z,b=I,S=Wt;return Ce(),Ee(S,null,{default:Ue(()=>[We(y).status?(Ce(),Ee(b,{key:0,install:We(x).setup},{desc:Ue(()=>[Le("span",null,Te(e.$t("Site.PHP.index_1")),1),we(i,{class:"ml-4px",onClick:t[0]||(t[0]=e=>We(ee)("nginx"))},{default:Ue(()=>[Re(Te(e.$t("Site.PHP.index_2")),1)]),_:1}),t[18]||(t[18]=Le("span",{class:"mx-4px"},"|",-1)),we(i,{onClick:t[1]||(t[1]=e=>We(ee)("apache"))},{default:Ue(()=>[Re(Te(e.$t("Site.PHP.index_3")),1)]),_:1})]),default:Ue(()=>[we(g,{class:"p-16px",feedback:!0},{toolsLeft:Ue(()=>[we(n,{type:"primary",onClick:U},{default:Ue(()=>[Re(Te(e.$t("WP.index_5")),1)]),_:1}),we(n,{onClick:R},{default:Ue(()=>[Re(Te(e.$t("WP.index_27")),1)]),_:1}),we(n,{onClick:T},{default:Ue(()=>[Re(Te(e.$t("Site.Config.index_19")),1)]),_:1}),we(n,{onClick:q},{default:Ue(()=>t[19]||(t[19]=[Re("Data Copy",-1)])),_:1,__:[19]}),We(k)?(Ce(),Ee(o,{key:0,"soft-name":We(w),"is-web-site":!0},null,8,["soft-name"])):ze("",!0)]),toolsRight:Ue(()=>[we(dd,{ref_key:"siteCategoryRef",ref:C,value:We(ue).site_type,"onUpdate:value":[t[2]||(t[2]=e=>We(ue).site_type=e),t[3]||(t[3]=e=>ce(!1))]},null,8,["value"]),we(d,{value:We(ue).search,"onUpdate:value":t[4]||(t[4]=e=>We(ue).search=e),placeholder:e.$t("WP.index_4"),onSearch:t[5]||(t[5]=e=>ce(!1))},null,8,["value","placeholder"])]),table:Ue(()=>[we(r,{"checked-row-keys":We(Q),"onUpdate:checkedRowKeys":t[6]||(t[6]=e=>Ie(Q)?Q.value=e:null),loading:We(se),data:We(Y).data,columns:We(ae),"onUpdate:sorter":re},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Ue(()=>[we(m,{"checked-row-keys":We(Q),"onUpdate:checkedRowKeys":t[7]||(t[7]=e=>Ie(Q)?Q.value=e:null),data:We(Y).data,options:We(ne)},null,8,["checked-row-keys","data","options"])]),pageRight:Ue(()=>[we(v,{page:We(ue).p,"onUpdate:page":t[8]||(t[8]=e=>We(ue).p=e),"page-size":We(ue).limit,"onUpdate:pageSize":t[9]||(t[9]=e=>We(ue).limit=e),"item-count":We(Y).total,"store-key":"wp-toolkit",onRefresh:ce},null,8,["page","page-size","item-count"])]),_:1}),we(f,{show:We($).show,"onUpdate:show":t[10]||(t[10]=e=>We($).show=e),title:We($).title,data:We($).data,width:640,height:590,footer:!0,component:We(a)},null,8,["show","title","data","component"]),we(f,{show:We(P).show,"onUpdate:show":t[11]||(t[11]=e=>We(P).show=e),title:We(P).title,width:640,"min-height":205,footer:!1,component:We(l)},null,8,["show","title","component"]),we(f,{show:We(N).show,"onUpdate:show":t[12]||(t[12]=e=>We(N).show=e),title:We(N).title,data:We(N).data,width:640,"min-height":268,footer:!0,component:We(s)},null,8,["show","title","data","component"]),we(f,{show:We(X).show,"onUpdate:show":t[13]||(t[13]=e=>We(X).show=e),title:We(X).title,data:We(X).data,width:600,"min-height":268,component:We(u)},null,8,["show","title","data","component"]),we(f,{show:We(L).show,"onUpdate:show":t[14]||(t[14]=e=>We(L).show=e),title:We(L).title,width:700,"min-height":300,component:We(c)},null,8,["show","title","component"]),we(f,{show:We(D).show,"onUpdate:show":t[15]||(t[15]=e=>We(D).show=e),title:We(D).title},{default:Ue(()=>[Le("div",rd,[we(No,{"site-info":We(D).siteInfo,config:We(D).config},null,8,["site-info","config"])])]),_:1},8,["show","title"]),we(f,{show:We(E).show,"onUpdate:show":t[16]||(t[16]=e=>We(E).show=e),title:We(E).title,data:We(E).data,width:700,height:450,footer:!1,component:We(p)},null,8,["show","title","data","component"]),we(f,{show:We(W).show,"onUpdate:show":t[17]||(t[17]=e=>We(W).show=e),title:We(W).title,data:We(W).data,component:We(_),width:700,"min-height":200,footer:!0},null,8,["show","title","data","component"])]),_:1},8,["install"])):(Ce(),Ee(ed,{key:1}))]),_:1})}}}),cd=Object.freeze(Object.defineProperty({__proto__:null,default:ud},Symbol.toStringTag,{value:"Module"}));e("U",cd)}}});
