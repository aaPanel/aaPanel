System.register(["./page_layout-legacy.js?v=1767769852656","./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1767769852656","./planned-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./index-legacy99.js?v=1767769852656","./utils-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1767769852656","./compiler-legacy.js?v=1767769852656","./index-legacy98.js?v=1767769852656"],function(e,a){"use strict";var l,t,n,d,o,u,i,s,r,p,c,_,b,v,m,y,h,x,g,w,f,C,k,P,$,U,N,T,S,B,j,E,L,V,q,D,H,I,A,M,R,O,W,z,F,J,K,Y,Z,G,Q,X,ee,ae,le,te,ne,de,oe,ue,ie,se,re,pe,ce,_e,be,ve,me,ye,he,xe,ge,we,fe,Ce,ke,Pe,$e,Ue,Ne,Te,Se,Be,je,Ee,Le,Ve,qe,De,He,Ie;return{setters:[e=>{l=e.o,t=e.i,n=e.a,d=e.x,o=e.a7,u=e.p,i=e.T,s=e.aM,r=e.aN,p=e.m},e=>{c=e._},e=>{_=e._},e=>{b=e._},e=>{v=e.r,m=e.u,y=e.a,h=e.d,x=e.e,g=e._,w=e.c,f=e.f,C=e.h},e=>{k=e._},e=>{P=e.s,$=e.g,U=e.e,N=e.a,T=e.b,S=e.d,B=e.c,j=e.f},e=>{E=e.W,L=e.j,V=e._,q=e.r,D=e.k,H=e.P,I=e.ah,A=e.R,M=e.V,R=e.a3,O=e.a4,W=e.U,z=e.ak,F=e.ad,J=e.ae,K=e.c,Y=e.o,Z=e.a2,G=e.an,Q=e.S,X=e.e,ee=e.w,ae=e.F,le=e.N},e=>{te=e.da,ne=e._,de=e.aC,oe=e.dV,ue=e.dR,ie=e.av,se=e.df,re=e.dZ,pe=e.au,ce=e.dk,_e=e.dS},e=>{be=e._},e=>{ve=e._},e=>{me=e.t,ye=e.w,he=e.u,xe=e.r,ge=e.a,we=e.m,fe=e.s,Ce=e.d,ke=e.b,Pe=e.c,$e=e.e,Ue=e.f,Ne=e.g,Te=e.h,Se=e.p,Be=e.i,je=e.o,Ee=e.j,Le=e.k,Ve=e.l,qe=e.n,De=e.q,He=e.v},e=>{Ie=e._},null,null,null,null,null],execute:function(){var Ae=document.createElement("style");Ae.textContent=".second[data-v-69cb9b47] .n-form-item-feedback--error{position:absolute}\n/*$vite$:1*/",document.head.appendChild(Ae);const{t:Me}=t.global,Re=e=>E(v,{onClick:a=>{const l=q(!1);y({title:Me("Crontab.Planned.index_7"),content:()=>E("div",null,[1==e.row.status?E("div",null,[E("span",null,[Me("Crontab.Planned.index_79")]),E(te,{class:"items-center mt-8px"},{default:()=>[E(ne,{checked:l.value,"on-update:checked":e=>{l.value=e}},null),Me("Crontab.Planned.index_80")]})]):"",0==e.row.status?E("div",null,[Me("Crontab.Planned.index_81")]):""]),onConfirm:async()=>{await P({id:e.row.id,if_stop:l.value}),e.row.status=a}})},value:e.row.status.toString()},null),Oe=e=>{const{row:t}=e;return E("div",null,["logs"==t.sType?E("span",null,[t.save]):"","logs"!==t.sType?E("div",null,[t.save?"":E("span",null,[L("--")]),t.save>0?E(l,{type:t.save>0?"primary":"warning",onClick:()=>{m({title:`${Me("Crontab.Script.index_35")} [${t.name}]`,width:800,minHeight:200,data:{row:t},component:V(()=>n(()=>a.import("./index-legacy117.js?v=1767769852656"),void 0))})}},{default:()=>[t.save]}):""]):""])},We={class:"w-160px"},ze=D({__name:"index",props:{value:{default:null}},setup(e){const{t:l}=H(),t=V(()=>n(()=>a.import("./set-legacy2.js?v=1767769852656"),void 0)),o=I(e,"value"),{loading:u,setLoading:i}=h(),s=q([]),r=x(l("Crontab.Planned.index_29"),{setOptions:(e,a)=>{a===o.value&&(o.value="-1"),s.value=e.map(e=>({label:e.name,value:e.id})),_()}}),p=()=>{r.show=!0},_=()=>{s.value.unshift({label:l("Site.PHP.index_45"),value:""},{label:l("Crontab.Planned.index_82"),value:"-1"},{label:l("Crontab.Planned.index_83"),value:"0"})};return _(),(async()=>{try{i(!0);const{message:e}=await $();d(e)?s.value=e.map(e=>({label:e.name,value:e.id})):s.value=[],_()}finally{i(!1)}})(),(e,a)=>{const l=de,n=oe,d=c;return M(),A("div",We,[E(n,{value:W(o),"onUpdate:value":a[0]||(a[0]=e=>z(o)?o.value=e:null),loading:W(u),options:W(s)},{action:R(()=>[E(l,{block:"",onClick:p},{default:R(()=>[L(O(e.$t("Site.PHP.index_43")),1)]),_:1})]),_:1},8,["value","loading","options"]),E(d,{show:W(r).show,"onUpdate:show":a[1]||(a[1]=e=>W(r).show=e),width:350,title:W(r).title,data:W(r).data,component:W(t)},null,8,["show","title","data","component"])])}}}),{t:Fe}=t.global,Je={name:{required:!0,trigger:["blur","input"],message:Fe("Crontab.Planned.index_49")},sName:{required:!0,trigger:["blur","input"],message:Fe("Security.Conf.Index_28")},day:{trigger:["blur","input"],validator:(e,a)=>!(a>=32||a<1||""==a)||new Error(`${Fe("Site.Placeholder.Index_10")} 1-31`)},hour:{trigger:["blur","input"],validator:(e,a)=>!(a>=24||a<0||null==a)||new Error(`${Fe("Site.Placeholder.Index_10")} 0-23`)},second:{required:!0,trigger:["blur","input"],validator:(e,a)=>!(a>=60||a<1||""==a)||new Error(`${Fe("Site.Placeholder.Index_10")} 1-59`)},sBody:{required:!0,trigger:["blur","input"],message:Fe("Crontab.Planned.index_50")},save:{trigger:["blur","input"],validator:(e,a)=>!(a<=0||""==a)||new Error(Fe("Crontab.Planned.index_51"))},url:{required:!0,trigger:["blur","input"],message:Fe("Crontab.Planned.index_53")},splitValue:{trigger:["blur","input"],required:!0,type:"number",message:Fe("Site.Placeholder.Index_10")},costom_time:{trigger:["blur","change"],type:"date",required:!0,message:Fe("Please select time")}},Ke={class:"mt-8px"},Ye=D({__name:"time-select",props:F({isEdit:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,l=J(e,"modelValue"),t=K(()=>{const e=l.value.time,a="once"===e;return{day:!a&&("day-n"===e||"month"===e),week:!a&&"week"===e,hour:!a&&"hour"!==e&&"minute-n"!==e&&"second-n"!==e,minute:!a&&"second-n"!==e,second:!a&&"second-n"===e,custom_time:a}}),n=e=>e<Date.now()-864e5,d=e=>{const a=new Date,l=new Date(e),t=a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()&&a.getDate()===l.getDate();return{isHourDisabled:e=>t&&e<a.getHours(),isMinuteDisabled:(e,l)=>t&&null!==l&&l===a.getHours()&&e<a.getMinutes(),isSecondDisabled:(e,l,n)=>t&&null!==n&&n===a.getHours()&&null!==l&&l===a.getMinutes()&&e<a.getSeconds()}};return Y(()=>{me.value=me.value.map(e=>("once"===e.value&&(e.disabled=a.isEdit),e))}),(a,u)=>{const i=oe,s=ue,r=se,p=re,c=ie,_=o,b=te;return M(),Z(b,null,{default:R(()=>[E(s,{label:a.$t("Crontab.Planned.index_9")},{default:R(()=>[E(i,{class:"w-105px!",value:l.value.time,"onUpdate:value":u[0]||(u[0]=e=>l.value.time=e),options:W(me),disabled:"once"===l.value.time&&e.isEdit},null,8,["value","options","disabled"])]),_:1},8,["label"]),W(t).day?(M(),Z(s,{key:0,path:"day"},{default:R(()=>[E(c,{class:"w-100px!"},{default:R(()=>[E(r,{value:l.value.day,"onUpdate:value":u[1]||(u[1]=e=>l.value.day=e),"show-button":!1,placeholder:""},null,8,["value"]),E(p,null,{default:R(()=>[L(O(a.$t("Crontab.arrange.index_41")),1)]),_:1})]),_:1})]),_:1})):G("",!0),W(t).week?(M(),Z(s,{key:1,path:"week"},{default:R(()=>[E(i,{class:"w-100px!",value:l.value.week,"onUpdate:value":u[2]||(u[2]=e=>l.value.week=e),options:W(ye)},null,8,["value","options"])]),_:1})):G("",!0),W(t).hour?(M(),Z(s,{key:2,path:"hour"},{default:R(()=>[E(c,null,{default:R(()=>[E(r,{value:l.value.hour,"onUpdate:value":u[3]||(u[3]=e=>l.value.hour=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"hour"}},null,8,["value"]),E(p,null,{default:R(()=>[L(O(a.$t("Crontab.arrange.index_43")),1)]),_:1})]),_:1})]),_:1})):G("",!0),W(t).minute?(M(),Z(s,{key:3,path:"minute",class:"second"},{default:R(()=>[E(c,null,{default:R(()=>[E(r,{value:l.value.minute,"onUpdate:value":u[4]||(u[4]=e=>l.value.minute=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"minute"}},null,8,["value"]),E(p,null,{default:R(()=>[L(O(a.$t("Crontab.arrange.index_44")),1)]),_:1})]),_:1})]),_:1})):G("",!0),W(t).second?(M(),Z(s,{key:4,path:"second"},{default:R(()=>[E(c,null,{default:R(()=>[E(r,{value:l.value.second,"onUpdate:value":u[5]||(u[5]=e=>l.value.second=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"second"}},null,8,["value"]),E(p,null,{default:R(()=>[L(O(a.$t("Waf.Setting.config_53")),1)]),_:1})]),_:1})]),_:1})):G("",!0),W(t).custom_time?(M(),Z(s,{key:5,path:"costom_time"},{default:R(()=>[E(_,{"formatted-value":l.value.costom_time,"onUpdate:formattedValue":u[6]||(u[6]=e=>l.value.costom_time=e),type:"datetime",clearable:"","is-date-disabled":n,"is-time-disabled":d,"value-format":"yyyy-MM-dd HH:mm:ss"},null,8,["formatted-value"])]),_:1})):G("",!0),Q("span",Ke,O(W(he)(l.value)),1)]),_:1})}}}),Ze=u(Ye,[["__scopeId","data-v-69cb9b47"]]),Ge={key:0},Qe={key:0,class:"ml-126px mb-8px mt--10px"},Xe={key:0},ea={class:"mr-10px"},aa={class:"mr-10px text-nowrap"},la={key:1},ta=D({__name:"backup-setting",props:F({isEdit:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:F(["onChangePath","onUpdateTaskName","onChangeBDType"],["update:modelValue"]),setup(e,{emit:a}){const l=a,t=J(e,"modelValue"),n=e=>{l("onChangePath",e)},d=(e,a)=>{l("onUpdateTaskName",e,a)},o=e=>{l("onChangeBDType",e)};return(a,l)=>{const u=oe,i=ue,s=te,r=Ie,p=se,c=re,_=ie,b=ne;return"site"==t.value.type||"database"==t.value.type||"enterpriseBackup"==t.value.type||"path"==t.value.type?(M(),A("div",Ge,[E(s,null,{default:R(()=>[E(i,{label:a.$t("Crontab.Planned.index_64")},{default:R(()=>[E(u,{class:"w-200px!",value:t.value.reminder,"onUpdate:value":l[0]||(l[0]=e=>t.value.reminder=e),options:W(xe)},null,8,["value","options"])]),_:1},8,["label"]),"1"==t.value.reminder?(M(),Z(i,{key:0,label:a.$t("Crontab.Planned.index_65")},{default:R(()=>[E(u,{class:"w-200px!",value:t.value.message,"onUpdate:value":l[1]||(l[1]=e=>t.value.message=e),options:W(we),"render-label":W(ge)},null,8,["value","options","render-label"])]),_:1},8,["label"])):G("",!0)]),_:1}),"1"==t.value.reminder?(M(),A("div",Qe,O(a.$t("Crontab.Planned.index_66")),1)):G("",!0),E(s,null,{default:R(()=>["path"==t.value.type?(M(),Z(i,{key:0,label:a.$t("Crontab.Planned.index_67"),path:"sName"},{default:R(()=>[E(r,{value:t.value.sName,"onUpdate:value":l[2]||(l[2]=e=>t.value.sName=e),disabled:e.isEdit,onChange:n},null,8,["value","disabled"])]),_:1},8,["label"])):G("",!0),"path"!==t.value.type?(M(),Z(i,{key:1,label:"site"==t.value.type?a.$t("Crontab.Planned.index_68"):a.$t("Crontab.Planned.index_69")},{default:R(()=>[E(s,null,{default:R(()=>["site"==t.value.type?(M(),Z(u,{key:0,class:"w-200px!",value:t.value.sName,"onUpdate:value":[l[3]||(l[3]=e=>t.value.sName=e),d],disabled:e.isEdit,filterable:"",options:W(fe)},null,8,["value","disabled","options"])):G("",!0),"database"==t.value.type?(M(),Z(u,{key:1,class:"w-120px!",value:t.value.databaseType,"onUpdate:value":[l[4]||(l[4]=e=>t.value.databaseType=e),o],disabled:e.isEdit,options:W(Ce)},null,8,["value","disabled","options"])):G("",!0),"database"==t.value.type||"enterpriseBackup"==t.value.type?(M(),Z(s,{key:2,class:"items-center"},{default:R(()=>["database"==t.value.type?(M(),A("div",Xe,O(a.$t("Site.PHP.add_site_16")),1)):G("",!0),E(u,{class:"w-140px!",value:t.value.sName,"onUpdate:value":[l[5]||(l[5]=e=>t.value.sName=e),d],filterable:"",options:W(ke),disabled:e.isEdit},null,8,["value","options","disabled"])]),_:1})):G("",!0)]),_:1})]),_:1},8,["label"])):G("",!0),E(i,null,{default:R(()=>[Q("span",ea,O(a.$t("Crontab.Planned.index_11")),1),E(u,{class:"w-150px!",value:t.value.backupTo,"onUpdate:value":l[6]||(l[6]=e=>t.value.backupTo=e),options:W(Pe)},null,8,["value","options"])]),_:1}),E(i,{path:"save"},{default:R(()=>[Q("span",aa,O(a.$t("Docker.Container.log.index_18")),1),E(_,null,{default:R(()=>[E(p,{class:"w-50px!",value:t.value.save,"onUpdate:value":l[7]||(l[7]=e=>t.value.save=e),"show-button":!1,placeholder:""},null,8,["value"]),E(c,null,{default:R(()=>[L(O(a.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1}),"localhost"!==t.value.backupTo?(M(),A("div",la,[E(i,{label:a.$t("Crontab.Script.index_55")},{default:R(()=>[E(b,{checked:t.value.backup,"onUpdate:checked":l[8]||(l[8]=e=>t.value.backup=e)},{default:R(()=>[L(O(a.$t("Crontab.Script.index_56")),1)]),_:1},8,["checked"])]),_:1},8,["label"])])):G("",!0)])):G("",!0)}}}),na={class:"ml-8px color-#ef0808"},da=D({__name:"index",props:{data:{}},setup(e,{expose:a}){const l=e,{getList:t,isEdit:n,row:d}=l.data,{t:o}=H(),u=q(null),r=X({type:"toShell",name:"",get newName(){return`${p.value}${p.value?c.value?c.value:"[ALL]":""}${"database"!=this.type||n?"":`--${this.databaseType}`}`},time:"day",day:1,week:"1",hour:1,minute:30,second:5,user:"root",sBody:"",reminder:"0",message:"ALL",sName:"ALL",backupTo:"localhost",save:3,databaseType:"mysql",zip:"",url:"http://",agent:"",dbBackupPath:"/www/backup",id:0,region:"Asia",splitType:"",splitValue:3,backup:!0,costom_time:null}),p=q(""),c=q(""),_=(e,a)=>{c.value=`[${a.label}]`},b=e=>{c.value=`[${e}]`},v=e=>{c.value=`[${e}]`},m=e=>{r.region=Le(e),r.sName=e,c.value=`[${Le(e)} / ${e}]`},y={...Je,minute:{required:!0,trigger:["blur","input"],validator:(e,a)=>a>=60||a<0||null==a?new Error(`${o("Site.Placeholder.Index_10")} 0-59`):"hour-n"!=r.time||0!=a||0!=r.hour||new Error(o("Crontab.Script.index_60"))}},x=async()=>{await Ve(r.databaseType),r.sName="ALL",c.value=""},w=e=>{u.value?.restoreValidation(),r.sName={sync_time:"Aqtau",path:"/www/wwwroot"}[e]||"ALL",r.url="webshell"===e?"ALL":"http://",r.save="logs"===e?180:3,r.time="day",qe(e);const a=Ue.find(a=>a.value===e);p.value=a&&"toShell"!==e?a.label:"",["site","database","enterpriseBackup"].includes(e)?x():c.value={path:"[/www/wwwroot]",toUrl:"[http://]",sync_time:"[Asia / Aqtau]",rememory:" "}[e]||""};ee(()=>r.newName,e=>r.name=e),a({onConfirm:async({hide:e})=>{await(u.value?.validate()),n?await U(le(De(r))):await N(le(De(r))),t?.(),e()}});const{loading:f,setLoading:C}=h();return(async()=>{try{C(!0),await qe(n?d.sType:"toShell"),n&&d&&(r.type=d.sType,r.name=d.name,r.time=d.type,r.day=Number(d.where1),r.week=d.where1,r.hour=d.where_hour,r.minute=d.where_minute?d.where_minute:Number(d.where1),r.second=Number(d.second),r.user=d.user,r.sBody=d.sBody,r.reminder=d.notice.toString(),r.message=d.notice_channel,r.sName="sync_time"===d.sType?d.sName.split("/").pop():d.sName,r.backupTo=He(d.backupTo),r.databaseType=d.db_type,r.save=Number(d.save),r.url=d.urladdress,r.agent=d.user_agent,r.dbBackupPath=d.db_backup_path,r.id=d.id,r.splitType=d.split_type,r.splitValue=Number(d.split_value),r.backup=!!d.save_local,r.costom_time="once"===d.type?d.where1:null)}finally{C(!1)}})(),(e,a)=>{const l=oe,t=ue,d=pe,o=ve,p=se,c=re,h=ie,C=te,k=s,P=de,$=be,U=ce,N=g,T=i;return M(),Z(T,{class:"p-20px",show:W(f)},{default:R(()=>[E($,{ref_key:"formRef",ref:u,model:W(r),rules:y},{default:R(()=>[E(t,{label:e.$t("Crontab.Planned.index_60")},{default:R(()=>[E(l,{class:"w-250px",value:W(r).type,"onUpdate:value":[a[0]||(a[0]=e=>W(r).type=e),w],options:W(Ue),disabled:W(n),"render-label":W($e)},null,8,["value","options","disabled","render-label"])]),_:1},8,["label"]),E(t,{label:e.$t("Crontab.Planned.index_61"),path:"name"},{default:R(()=>[E(d,{class:"w-350px!",value:W(r).name,"onUpdate:value":a[1]||(a[1]=e=>W(r).name=e),"input-props":{name:"name"},disabled:W(Ne)(W(r).type),placeholder:e.$t("Crontab.Planned.index_49")},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),E(Ze,{modelValue:W(r),"onUpdate:modelValue":a[2]||(a[2]=e=>z(r)?r.value=e:null),isEdit:W(n)},null,8,["modelValue","isEdit"]),"toShell"==W(r).type?(M(),A(ae,{key:0},[E(t,{label:e.$t("Crontab.Planned.index_62")},{default:R(()=>[E(l,{class:"w-250px",value:W(r).user,"onUpdate:value":a[3]||(a[3]=e=>W(r).user=e),options:W(Te)},null,8,["value","options"])]),_:1},8,["label"]),E(t,{label:e.$t("Crontab.Planned.index_63"),path:"sBody"},{default:R(()=>[E(o,{class:"w-550px",value:W(r).sBody,"onUpdate:value":a[4]||(a[4]=e=>W(r).sBody=e),rows:8,name:"sBody",placeholder:e.$t("Crontab.Planned.index_50")},null,8,["value","placeholder"])]),_:1},8,["label"])],64)):G("",!0),E(ta,{modelValue:W(r),"onUpdate:modelValue":a[5]||(a[5]=e=>z(r)?r.value=e:null),isEdit:W(n),onOnChangeBDType:x,onOnChangePath:b,onOnUpdateTaskName:_},null,8,["modelValue","isEdit"]),"site"==W(r).type||"path"==W(r).type?(M(),Z(t,{key:1,label:e.$t("Crontab.Planned.index_70"),path:"rules"},{default:R(()=>[E(d,{class:"w-550px!",autosize:{minRows:8},value:W(r).sBody,"onUpdate:value":a[6]||(a[6]=e=>W(r).sBody=e),type:"textarea",placeholder:W(Se)},null,8,["value","placeholder"])]),_:1},8,["label"])):G("",!0),"enterpriseBackup"==W(r).type?(M(),Z(t,{key:2,label:e.$t("Crontab.Planned.index_71")},{default:R(()=>[E(d,{class:"w-250px!",value:W(r).zip,"onUpdate:value":a[7]||(a[7]=e=>W(r).zip=e),type:"text",placeholder:e.$t("Crontab.Planned.index_72")},null,8,["value","placeholder"]),Q("span",na," *"+O(e.$t("Crontab.Planned.index_73")),1)]),_:1},8,["label"])):G("",!0),"logs"==W(r).type?(M(),Z(C,{key:3},{default:R(()=>[E(t,{label:e.$t("Crontab.Planned.index_74")},{default:R(()=>[E(l,{class:"w-150px!",value:W(r).sName,"onUpdate:value":[a[8]||(a[8]=e=>W(r).sName=e),_],options:W(fe),disabled:W(n)},null,8,["value","options","disabled"])]),_:1},8,["label"]),E(t,{path:"save"},{default:R(()=>[E(h,null,{default:R(()=>[E(p,{class:"w-50px!",value:W(r).save,"onUpdate:value":a[9]||(a[9]=e=>W(r).save=e),"show-button":!1,placeholder:""},null,8,["value"]),E(c,null,{default:R(()=>[L(O(e.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1})):G("",!0),"webshell"==W(r).type?(M(),A(ae,{key:4},[E(t,{label:e.$t("Home.index_68")},{default:R(()=>[E(l,{class:"w-150px!",value:W(r).sName,"onUpdate:value":[a[10]||(a[10]=e=>W(r).sName=e),_],options:W(fe),disabled:W(n)},null,8,["value","options","disabled"])]),_:1},8,["label"]),E(t,{label:e.$t("Crontab.Planned.index_65")},{default:R(()=>[E(l,{class:"w-200px!",value:W(r).url,"onUpdate:value":a[11]||(a[11]=e=>W(r).url=e),options:W(we),"render-label":W(ge)},null,8,["value","options","render-label"])]),_:1},8,["label"])],64)):G("",!0),"sync_time"==W(r).type?(M(),Z(t,{key:5,label:e.$t("Crontab.Planned.index_75")},{default:R(()=>[E(k,{class:"w-300px!",value:W(r).sName,"onUpdate:value":a[12]||(a[12]=e=>W(r).sName=e),options:W(Be),"on-update:value":m,"check-strategy":"child"},null,8,["value","options"])]),_:1},8,["label"])):G("",!0),"toUrl"==W(r).type?(M(),A(ae,{key:6},[E(C,null,{default:R(()=>[E(t,{label:e.$t("Site.Proxy.index_11"),path:"url"},{default:R(()=>[E(d,{class:"w-350px!",value:W(r).url,"onUpdate:value":a[13]||(a[13]=e=>W(r).url=e),placeholder:"",onInput:v},null,8,["value"])]),_:1},8,["label"]),E(t,{path:"url"},{default:R(()=>[E(P,{onClick:a[14]||(a[14]=e=>W(je)(W(r).url))},{default:R(()=>[L(O(e.$t("Crontab.Planned.index_84")),1)]),_:1})]),_:1})]),_:1}),E(t,{label:e.$t("Crontab.Planned.index_76")},{default:R(()=>[E(d,{class:"w-350px!",type:"textarea",value:W(r).agent,"onUpdate:value":a[15]||(a[15]=e=>W(r).agent=e),placeholder:e.$t("Crontab.Planned.index_77")},null,8,["value","placeholder"])]),_:1},8,["label"])],64)):G("",!0)]),_:1},8,["model"]),"second-n"==W(r).time?(M(),Z(U,{key:0,type:"warning"},{default:R(()=>a[16]||(a[16]=[Q("span",null,"To maintain service stability and ensure smooth performance, please refrain from frequently running high-load scripts and avoid adding too many such tasks",-1)])),_:1,__:[16]})):G("",!0),W(Ee)(W(r).type)?(M(),Z(N,{key:1},{default:R(()=>[Q("li",null,O(W(Ee)(W(r).type)),1)]),_:1})):G("",!0)]),_:1},8,["show"])}}});e("default",D({__name:"index",setup(e){const l=r(),t=V(()=>n(()=>a.import("./index-legacy118.js?v=1767769852656"),void 0)),{t:o}=H(),u=()=>{D.title=o("Crontab.Planned.index_4"),D.data.isEdit=!1,D.show=!0},i=e=>{I.title=o("Crontab.Planned.index_6",[e.name]),I.data.id=e.id,I.show=!0},{keys:s,table:v,columns:g}=w([{type:"selection",width:40},{key:"name",title:o("Site.TableRow.index_2"),minWidth:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"status",title:o("Public.Table.Status"),minWidth:90,render:e=>E(Re,{row:e},null)},{key:"cycle",title:o("Crontab.Planned.index_9")},{key:"save",title:o("Crontab.Planned.index_10"),align:"center",minWidth:80,render:e=>E(Oe,{row:e},null)},{key:"backupTo",title:o("Crontab.Planned.index_11"),align:"center",render:e=>e.backupTo?e.backupTo:"--"},{key:"addtime",title:o("Crontab.Planned.index_12")},f({title:o("Public.Table.Operation"),width:240,options:e=>[{label:o("Docker.LocalImage.pull.index_12"),class:"execute-btn",onClick:()=>{y({title:o("Crontab.Planned.index_13"),content:o("Crontab.Planned.index_14",[e.name]),onConfirm:async()=>{await T({id:e.id}),q(),i(e)}})}},{label:o("Public.Btn.Edit"),class:"edit-btn",onClick:()=>{D.title=o("Crontab.arrange.index_37"),D.data.isEdit=!0,D.data.row=e,D.show=!0}},{label:o("Ftp.Table.index_15"),class:"logs-btn",onClick:()=>{i(e)}},{label:o("Public.Btn.Del"),class:"delete-btn",onClick:()=>{y({title:o("Crontab.arrange.index_3",[e.name]),content:o("Crontab.Planned.index_78",[e.name]),onConfirm:async()=>{await S({id:e.id}),q()}})}}]})]),P=[{key:"execute",type:"confirm",label:o("Crontab.Planned.index_20"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_20")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_20")]),columns:[g.value[1]],api:e=>T({id:e.id},!1),done:()=>{q()}}},{key:"start",label:o("Crontab.Planned.index_15"),onBatch:()=>{y({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_15")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_15")]),onConfirm:async({hide:e})=>{try{await B({id_list:JSON.stringify(s.value),type:"start",if_stop:!1}),p.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}q(),e()}})}},{key:"stop",label:o("Crontab.Planned.index_18"),onBatch:()=>{y({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_18")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_18")]),onConfirm:async({hide:e})=>{try{await B({id_list:JSON.stringify(s.value),type:"stop",if_stop:!1}),p.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}q(),e()}})}},{key:"category",label:o("Crontab.Planned.index_19"),onBatch:e=>{m({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_19")]),width:350,minHeight:72,footer:!0,data:{rows:e},component:V(()=>n(()=>a.import("./batch-legacy.js?v=1767769852656"),void 0))})}},{key:"delete",type:"confirm",label:o("Crontab.Planned.index_22"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_22")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_22")]),columns:[g.value[1]],api:e=>S({id:e.id},!1),done:()=>{q()}}}],$=X({search:"",type_id:"",order_param:""}),{loading:U,setLoading:N}=h(!0),q=async()=>{try{N(!0);const{message:e}=await j(le({...$}));d(e)?v.data=e:(v.data=[],v.total=0)}finally{s.value=[],N(!1)}};q(),ee(()=>l.isRefresh,e=>{e&&(l.setRefresh(!1),q())});const D=x(o("Crontab.Planned.index_4"),{getList:q}),I=x("",{getList:q});return(e,a)=>{const l=de,n=k,d=C,i=b,r=_,p=c,m=_e;return M(),Z(m,null,{default:R(()=>[E(r,{class:"p-16px",feedback:!0},{toolsLeft:R(()=>[E(l,{class:"add-task-btn",type:"primary",onClick:u},{default:R(()=>[L(O(W(o)("Crontab.Planned.index_4")),1)]),_:1})]),toolsRight:R(()=>[E(ze,{value:W($).type_id,"onUpdate:value":[a[0]||(a[0]=e=>W($).type_id=e),q]},null,8,["value"]),E(n,{value:W($).search,"onUpdate:value":a[1]||(a[1]=e=>W($).search=e),placeholder:e.$t("Crontab.Planned.index_5"),onSearch:q},null,8,["value","placeholder"])]),table:R(()=>[E(d,{"checked-row-keys":W(s),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>z(s)?s.value=e:null),loading:W(U),data:W(v).data,columns:W(g)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:R(()=>[E(i,{"checked-row-keys":W(s),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>z(s)?s.value=e:null),data:W(v).data,options:P},null,8,["checked-row-keys","data"])]),_:1}),E(p,{show:W(D).show,"onUpdate:show":a[4]||(a[4]=e=>W(D).show=e),title:W(D).title,data:W(D).data,width:950,footer:!0,component:da},null,8,["show","title","data"]),E(p,{show:W(I).show,"onUpdate:show":a[5]||(a[5]=e=>W(I).show=e),title:W(I).title,data:W(I).data,width:800,"min-height":550,footer:!1,component:W(t)},null,8,["show","title","data","component"])]),_:1})}}}))}}});
