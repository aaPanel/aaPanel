System.register(["./index-legacy109.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index-legacy99.js?v=1767769852656","./mail-legacy.js?v=1767769852656","./index-legacy50.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,l){"use strict";var a,t,s,n,i,o,c,d,r,u,_,p,m,f,y,v,h,x,g,b,w,k,j,C,S,$,D,L,P,z,U,M,R,A,B,V,G,N;return{setters:[e=>{a=e._},e=>{t=e.d,s=e._,n=e.a,i=e.c,o=e.h},e=>{c=e._},e=>{d=e.ae,r=e.af},e=>{u=e.s},e=>{_=e.m,p=e.p,m=e.gK,f=e.gL,y=e.d},e=>{v=e.da,h=e.dj,x=e.dk,g=e.aC,b=e.dR},e=>{w=e.k,k=e.P,j=e.r,C=e.c,S=e.R,$=e.V,D=e.a2,L=e.an,P=e.W,z=e.U,U=e.a3,M=e.S,R=e.a4,A=e.ak,B=e.j,V=e.am,G=e.e},e=>{N=e._},null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".n-alert[data-v-ec749ad6]{--n-color: #dff0d8;--n-border: 1px solid #d6e9c6;--n-font-size: 12px}.cert-info[data-v-ec749ad6]{color:#3c763d}.cert-info+.cert-info[data-v-ec749ad6]{margin-top:2px}.cert-info .cert-label[data-v-ec749ad6]{font-weight:700}.cert-info .cert-value[data-v-ec749ad6]{flex:1;width:0}\n/*$vite$:1*/",document.head.appendChild(l);const O={class:"cert-info"},q={class:"cert-label"},E={class:"cert-value"},H={class:"cert-info"},I={class:"cert-label"},K={class:"cert-value"},T={class:"cert-info mt-10px"},W={class:"cert-label mr-10px"},Y={class:"w-48%"},F={class:"mb-8px"},J={class:"w-48%"},Q={class:"mb-8px"},X=p(w({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const a=e,i=l,{row:o}=a,{t:p}=k(),m=j(o.ssl_info.key||""),f=j(o.ssl_info.src||""),y=C(()=>(o.ssl_info.dns||[]).join(", ")),b=async()=>{""!==m.value&&""!==f.value?(await d({domain:o.domain,key:m.value,csr:f.value}),i("refresh"),i("close")):_.error(p("Mail.Domain.index_31"))},w=()=>{n({title:p("Mail.Domain.index_32"),content:p("Mail.Domain.index_33"),onConfirm:async()=>{await r({domain:o.domain,key:m.value,csr:f.value}),i("refresh"),i("close")}})},{loading:V,setLoading:G}=t(),N=async e=>{try{G(!0),await u({domain:o.domain,open:e}),o.ssl_alarm=e}catch{o.ssl_alarm=1===e?0:1}finally{G(!1)}};return(e,l)=>{const a=v,t=h,n=x,i=c,d=g,r=s;return $(),S("div",null,[z(o).ssl_status?($(),D(n,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:U(()=>[P(a,{class:"items-center"},{default:U(()=>[M("div",O,[M("span",q,R(e.$t("Site.Cert.index_30"))+R(e.$t("Public.Punctuation.Colon")),1),M("span",E,R(z(o).ssl_info.issuer),1)]),M("div",H,[M("span",I,R(e.$t("Site.Cert.index_46"))+R(e.$t("Public.Punctuation.Colon")),1),M("span",K,R(z(y)),1)])]),_:1}),M("div",T,[M("span",W,R(e.$t("SSL.Domain.index_26")),1),P(t,{size:"small",loading:z(V),"rubber-band":!1,value:z(o).ssl_alarm,"onUpdate:value":N,"checked-value":1,"unchecked-value":0},null,8,["loading","value"])])]),_:1})):L("",!0),P(a,{class:"mb-16px",size:10,justify:"space-between"},{default:U(()=>[M("div",Y,[M("div",F,R(e.$t("Site.Cert.index_50")),1),P(i,{value:z(m),"onUpdate:value":l[0]||(l[0]=e=>A(m)?m.value=e:null),rows:10},null,8,["value"])]),M("div",J,[M("div",Q,R(e.$t("Site.Cert.index_51")),1),P(i,{value:z(f),"onUpdate:value":l[1]||(l[1]=e=>A(f)?f.value=e:null),rows:10},null,8,["value"])])]),_:1}),P(a,{class:"mb-12px"},{default:U(()=>[P(d,{type:"primary",onClick:b},{default:U(()=>[B(R(e.$t("Public.Btn.Save")),1)]),_:1}),P(d,{onClick:w},{default:U(()=>[B(R(e.$t("Public.Btn.Delete")),1)]),_:1})]),_:1}),P(r,null,{default:U(()=>[M("li",null,R(e.$t("Site.Cert.index_33")),1),M("li",null,R(e.$t("Site.Cert.index_34")),1),M("li",null,R(e.$t("Site.Cert.index_35")),1),M("li",null,R(e.$t("Site.Cert.index_36")),1)]),_:1})])}}}),[["__scopeId","data-v-ec749ad6"]]),Z={key:0},ee={key:1},le={class:"color-#3c763d"},ae={class:"color-#3c763d"},te=w({__name:"index",props:{row:{}},emits:["refresh"],setup(e,{emit:l}){const a=e,t=l,{row:s}=a,n=V(),c=G({ssl_method:"2"}),d=j({}),r=C(()=>s.ssl_hash&&Object.keys(d.value).length>0),{table:u,columns:_}=i([{key:"type",title:"Type",width:50},{key:"record",title:"Record",width:120,ellipsis:{tooltip:!0}},{key:"value",title:"Value",ellipsis:{tooltip:!0}},{key:"necessary",title:"Necessary"}]),p=()=>{n.push("/ssl_domain/domain")},h=async()=>{},w=async()=>{await m({hash:s.ssl_hash,domain:s.domain}),t("refresh")};return(async()=>{if(s.ssl_hash){const{message:e}=await f({hash:s.ssl_hash});y(e)&&(d.value=e,c.ssl_method="2")}})(),(e,l)=>{const a=x,t=b,n=g,i=v,m=o,f=N;return $(),D(f,{model:z(c),"label-width":"180px"},{default:U(()=>[P(t,{label:"Domain name"},{default:U(()=>[P(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:U(()=>[M("span",null,R(z(s).domain),1)]),_:1})]),_:1}),P(t,{label:"SSL to be applied for"},{default:U(()=>[P(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:U(()=>[z(d).dns?($(),S("span",Z,R(z(d).dns.join(",")),1)):($(),S("span",ee,"--"))]),_:1})]),_:1}),"1"===z(c).ssl_method?($(),D(t,{key:0,label:" "},{default:U(()=>[P(i,{class:"flex-col!"},{default:U(()=>[P(a,{type:"warning"},{default:U(()=>[P(i,{class:"items-center flex-nowrap!"},{default:U(()=>[l[1]||(l[1]=M("span",null,"After clicking Generate, the system will submit a verification request to Lets encrypt for you, please follow the prompts to your domain name hosting provider to add the corresponding resolution",-1)),P(n,{type:"primary",size:"small",ghost:"",onClick:h},{default:U(()=>l[0]||(l[0]=[B("Generate",-1)])),_:1,__:[0]})]),_:1,__:[1]})]),_:1}),P(m,{columns:z(_),data:z(u).data},null,8,["columns","data"])]),_:1})]),_:1})):($(),D(t,{key:1,label:" "},{default:U(()=>[P(i,{class:"flex-col!"},{default:U(()=>[z(r)?($(),D(a,{key:1,type:"success"},{default:U(()=>l[4]||(l[4]=[M("span",{class:"color-#3c763d font-bold"},"Does the system find a matching certificate for you and deploy it immediately?",-1)])),_:1,__:[4]})):($(),D(a,{key:0,type:"error"},{default:U(()=>[P(i,{class:"items-center flex-nowrap!"},{default:U(()=>[l[3]||(l[3]=M("span",null,"Your domain has not yet been integrated with the domain management center.",-1)),P(n,{type:"primary",size:"small",ghost:"",onClick:p},{default:U(()=>l[2]||(l[2]=[B("Add Now",-1)])),_:1,__:[2]})]),_:1,__:[3]})]),_:1})),z(r)?($(),D(i,{key:2,class:"flex-col!"},{default:U(()=>[l[7]||(l[7]=M("div",null,"Valid certificate",-1)),P(a,{type:"success","show-icon":!1},{default:U(()=>[M("div",le,[l[5]||(l[5]=M("span",{class:"font-bold"},"Brand：",-1)),B(R(z(d).info.issuer_O+" "+z(d).info.issuer),1)]),M("div",ae,[l[6]||(l[6]=M("span",{class:"font-bold"},"Certificate domain(s)：",-1)),B(" "+R(z(d).dns.join(",")),1)])]),_:1})]),_:1,__:[7]})):L("",!0)]),_:1})]),_:1})),P(t,{label:" "},{default:U(()=>[P(n,{type:"primary",onClick:w,disabled:!z(r)},{default:U(()=>[B(R(e.$t("SSL.index_29")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])}}}),se={class:"h-full p-16px"};e("default",w({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const t=e,s=l,{row:n}=t,{t:i}=k(),o={row:n,onClose:()=>{s("close")},onRefresh:()=>{s("refresh")}},c=j("other"),d=[{key:"other",label:i("Mail.Domain.index_30"),component:X},{key:"apply",label:"Apply for SSL",component:te}];return(e,l)=>{const t=a;return $(),S("div",se,[P(t,{value:z(c),"onUpdate:value":l[0]||(l[0]=e=>A(c)?c.value=e:null),data:o,options:d},null,8,["value"])])}}}))}}});
