import{_ as e}from"./index.js?v=1769066082311";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import{_ as l}from"./page_layout.js?v=1769066082311";import{A as o,a2 as s,w as t,P as u}from"./CalcSize.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import{R as n}from"./ResourceManagerWindow.js?v=1769066082311";import{dS as r,dW as i,av as p,au as v,aC as c}from"./naive.js?v=1769066082311";import{k as m,P as f,i as _,av as d,r as j,w as h,R as g,V as w,W as y,a3 as b,S as x,U as z,ak as C,F as M,n as F}from"./vue.js?v=1769066082311";import"./common.js?v=1769066082311";import"./__commonjsHelpers__.js?v=1769066082311";import"./public.js?v=1769066082311";import"./soft2.js?v=1769066082311";import"./soft.js?v=1769066082311";import"./site.js?v=1769066082311";import"./index38.js?v=1769066082311";import"./file2.js?v=1769066082311";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1769066082311";const R={class:"p-20px pt-28px"},W=m({__name:"Compression",setup(m,{expose:W}){const{t:k}=f(),P=_("fileStore"),{choosedKeys:S,currentPath:U,fileList:A}=P,D=d("resourceWindowRef"),H=j(!1),K=j(""),L=j(""),T=j(""),V=j("tar.gz"),q=j(U.value),B=j([{label:"tar.gz",value:"tar.gz"},{label:"zip",value:"zip"},{label:"rar",value:"rar"}]),E=o(A.value,S.value)[0];function G(){1==S.value.length?T.value="".concat(q.value,"/").concat(E.nm,".").concat(V.value):S.value.length>1&&(T.value="".concat(q.value,"/").concat(U.value.split("/").pop(),".").concat(V.value))}function I(){var e;null==(e=D.value)||e.open()}function J(e){q.value=e,F(G)}async function N(){await s(L.value,T.value,V.value,U.value),t(P),u(P)}return h(V,()=>F(G)),W({open:function(){H.value=!0,1==S.value.length?(L.value=E.nm,"dir"==E.type?K.value=k("file.compressionModal.compressFolder",{name:E.nm}):K.value=k("file.compressionModal.compressFile",{name:E.nm})):S.value.length>1&&(L.value=S.value.join(","),K.value=k("file.compressionModal.compressFolderAndFile",{names:L.value})),G()},close:function(){H.value=!1}}),(o,s)=>{const t=i,u=r,m=v,f=l,_=c,d=p,j=a,h=e;return w(),g(M,null,[y(h,{show:z(H),"onUpdate:show":s[2]||(s[2]=e=>C(H)?H.value=e:null),width:480,title:z(K),footer:!0,onConfirm:N},{default:b(()=>[x("div",R,[y(j,null,{default:b(()=>[y(u,{label:z(k)("file.compressionModal.compressType")},{default:b(()=>[y(t,{value:z(V),"onUpdate:value":s[0]||(s[0]=e=>C(V)?V.value=e:null),options:z(B)},null,8,["value","options"])]),_:1},8,["label"]),y(u,{label:z(k)("file.compressionModal.compressPath")},{default:b(()=>[y(d,null,{default:b(()=>[y(m,{value:z(T),"onUpdate:value":s[1]||(s[1]=e=>C(T)?T.value=e:null)},null,8,["value"]),y(_,{onClick:I},{icon:b(()=>[y(f,{name:"file-dir",size:"20"})]),_:1})]),_:1})]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title"]),y(n,{ref_key:"resourceWindowRef",ref:D,"current-path":z(U),onChooseDir:J},null,8,["current-path"])],64)}}});export{W as default};
