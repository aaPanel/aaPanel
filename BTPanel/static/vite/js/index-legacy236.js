System.register(["./page_layout-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./index-legacy238.js?v=1763625242172","./public-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1763625242172","./file-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172"],(function(e,t){"use strict";var l,a,i,n,s,d,o,r,c,u,p,x,m,v,_,g,h,S,f,y,b,w,C,D,$,T,k,j,P,z,H,M,R,I,U,O,E;return{setters:[e=>{l=e.n,a=e.c,i=e._,n=e.p,s=e.ap},e=>{d=e.b6,o=e.b7},e=>{r=e.u},e=>{c=e.u},e=>{u=e.a,p=e._},e=>{x=e.e},e=>{m=e.k,v=e.P,_=e.r,g=e.c,h=e.R,S=e.S,f=e.U,y=e.X,b=e.a4,w=e.F,C=e.O,D=e.a3,$=e.j,T=e.V,k=e.an,j=e.H,P=e.aj,z=e.I,H=e.ap},e=>{M=e.dc,R=e.dh,I=e._,U=e.d9,O=e.eg,E=e.df},null,null],execute:function(){var t=document.createElement("style");t.textContent=".site-content[data-v-e67980d1]{height:300px;border:1px solid #ececec;overflow-y:auto}.site-content .content-item[data-v-e67980d1]{padding:12px;max-height:80px;border-bottom:1px solid #ececec;font-size:13px;transition:background-color .3s}.site-content .content-item[data-v-e67980d1]:hover{background-color:var(--site-detele-content-item-hover-bg)}.site-content .content-item .site-size[data-v-e67980d1],.site-content .content-item .site-db[data-v-e67980d1]{display:flex;align-items:center;min-height:24px}.site-content .content-item .site-title[data-v-e67980d1]{width:170px}.site-content .content-item .site-path[data-v-e67980d1]{display:flex;align-items:center;flex:1;width:0;margin:0 10px}.site-content .content-item .site-path .value[data-v-e67980d1]{max-width:162px;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.site-content .content-item .db-name[data-v-e67980d1]{flex:1;width:0}.site-content .content-item .db-size[data-v-e67980d1]{width:180px}.site-content .content-item .db-time[data-v-e67980d1],.site-content .content-item .site-time[data-v-e67980d1]{width:130px}\n",document.head.appendChild(t);const F={class:"p-24px"},V={class:"flex"},X={class:"flex-1 ml-14px pt-6px"},q={class:"text-19px font-bold text-font1"},A={class:"site-content mt-24px"},B={class:"site-size"},G={class:"site-title"},J={class:"site-path"},K={class:"value"},L={class:"font-bold text-error"},N={key:1},Q={key:0},W={class:"site-time"},Y={key:0,class:"site-db"},Z={class:"db-name"},ee={class:"db-size"},te={class:"db-time"},le={class:"mt-24px text-13px text-error"},ae={key:0},ie={key:1,class:"mt-6px"},ne={key:2,class:"mt-6px",style:{color:"var(--color-text-5)"}},se={class:"text-error font-bold"},de={key:3,class:"mt-6px"},oe=m({__name:"verify",props:{data:{}},emits:["setConfirm"],setup(e,{expose:t,emit:n}){const{t:s}=v(),o=e,r=n,{rows:c,type:u,delSite:p}=o.data,m=_(!0),P=_(!0),z=g((()=>!!u.find((e=>"database"===e)))),H=g((()=>!!u.find((e=>"path"===e)))),I=_([]),U=_(5);return(()=>{r("setConfirm",{type:"error",disabled:!0,text:s("Site.DelSite.ContentText16",[U.value])});const e=setInterval((()=>{U.value--,r("setConfirm",{text:s("Site.DelSite.ContentText16",[U.value])}),0===U.value&&(clearInterval(e),r("setConfirm",{disabled:!1,text:s("Site.DelSite.ContentText16")}))}),1e3)})(),(async()=>{const{message:e}=await d({ids:c.map((e=>e.id))});a(e)&&(I.value=e.data.map((e=>{const{database:t}=e;return a(t)&&(t.addtime_show=t.addtime.split(" ")[0],t.is_time_rule=Math.round(Date.now()/1e3)-t.st_time>2592e3&&t.total>10240),{...e,addtime_show:e.addtime.split(" ")[0],is_time_rule:Math.round(Date.now()/1e3)-e.st_time>2592e3&&e.total>10240}})))})(),(async()=>{const{message:e}=await x();a(e)&&(m.value=e.status,P.value=e.status_db)})(),t({onConfirm:async({hide:e})=>{await(p?.(e))}}),(e,t)=>{const n=i,s=M,d=R;return h(),S("div",F,[f("div",V,[y(n,{name:"base-warning",size:"34",color:"#f0a020"}),f("div",X,[f("div",q,b(e.$t("Site.DelSite.ContentText7")),1)])]),f("div",A,[(h(!0),S(w,null,C(T(I),(i=>(h(),S("div",{key:i.name,class:"content-item"},[f("div",B,[f("div",G,[y(s,null,{default:D((()=>[$(b(e.$t("Site.DelSite.index_3"))+": "+b(i.name),1)])),_:2},1024)]),y(d,{trigger:"hover"},{trigger:D((()=>[f("div",J,[f("div",null,b(e.$t("Site.DelSite.index_2"))+":",1),f("div",K,b(i.path),1),f("div",null,[t[1]||(t[1]=f("span",null,"(",-1)),i.limit?(h(),S(w,{key:0},[f("span",L,b(e.$t("Site.DelSite.index_9")),1),t[0]||(t[0]=f("span",{class:"glyphicon glyphicon-info-sign text-error"},null,-1))],64)):(h(),S("span",N,b(T(l)(i.total)),1)),t[2]||(t[2]=f("span",null,")",-1))])])])),default:D((()=>[f("div",null,[i.limit?(h(),S("p",Q,b(e.$t("Site.DelSite.ContentText8")),1)):k("",!0),f("p",null,[f("span",null,b(e.$t("Site.DelSite.index_4"))+": "+b(i.path),1),f("span",null," ("+b((i.limit?"greater than ":"")+T(l)(i.total))+")",1)])])])),_:2},1024),f("div",W,[y(d,{trigger:"hover",disabled:!i.is_time_rule},{trigger:D((()=>[f("div",null,[f("span",null,b(e.$t("Site.DelSite.index_5"))+": ",1),f("span",{class:j({"text-error":i.is_time_rule})},b(i.addtime_show),3)])])),default:D((()=>[f("div",null,[f("p",null,b(e.$t("Site.DelSite.ContentText9")),1),f("p",null,b(e.$t("Site.DelSite.index_6"))+": "+b(i.addtime_show),1)])])),_:2},1032,["disabled"])])]),T(z)&&T(a)(i.database)?(h(),S("div",Y,[f("div",Z,[y(s,null,{default:D((()=>[$(b(e.$t("Home.index_70"))+": "+b(i.name),1)])),_:2},1024)]),f("div",ee,[y(d,{trigger:"hover"},{trigger:D((()=>[$(b(e.$t("Site.DelSite.index_8"))+": "+b(T(l)(i.database.total)),1)])),default:D((()=>[f("div",null,[f("p",null,b(e.$t("Site.DelSite.ContentText10")),1),f("p",null,b(e.$t("Site.PHP.add_site_16"))+": "+b(T(l)(i.database.total)),1)])])),_:2},1024)]),f("div",te,[y(d,{trigger:"hover",disabled:!i.database.is_time_rule},{trigger:D((()=>[f("div",null,[f("span",null,b(e.$t("Site.DelSite.index_5"))+": ",1),f("span",{class:j({"text-error":i.database.is_time_rule})},b(i.addtime_show),3)])])),default:D((()=>[f("div",null,[f("p",null,b(e.$t("Site.DelSite.ContentText11")),1),f("p",null,b(e.$t("Site.DelSite.index_6"))+": "+b(i.database.addtime_show),1)])])),_:2},1032,["disabled"])])])):k("",!0)])))),128))]),f("div",le,[T(z)&&!T(P)?(h(),S("div",ae,[t[3]||(t[3]=f("span",{class:"glyphicon glyphicon-info-sign"},null,-1)),f("span",null,b(e.$t("Site.DelSite.ContentText12")),1)])):k("",!0),T(H)&&!T(m)?(h(),S("div",ie,[t[4]||(t[4]=f("span",{class:"glyphicon glyphicon-info-sign"},null,-1)),f("span",null,b(e.$t("Site.DelSite.ContentText13")),1)])):k("",!0),T(U)>0?(h(),S("div",ne,[f("span",null,b(e.$t("Site.DelSite.ContentText14")),1),f("span",se,b(T(U)),1),f("span",null,b(e.$t("Site.DelSite.index_1")),1)])):(h(),S("div",de,b(e.$t("Site.DelSite.ContentText15")),1))])])}}}),re=n(oe,[["__scopeId","data-v-e67980d1"]]),ce={class:"p-24px"},ue={class:"flex pl-12px"},pe={class:"flex-1 ml-14px pt-8px"},xe={class:"text-16px font-bold text-font1"},me={class:"mt-20px"},ve={class:"mr-8px"},_e={class:"confirm-calc-box flex items-center h-40px mt-24px mx-12px pl-48px text-14px",style:{backgroundColor:"var(--site-confirm-calc-box-bg)"}},ge={class:"confirm-calc-num mx-12px"},he={class:"w-80px ml-12px"};e("default",m({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:l}=v(),a=e,{rows:n}=a.data,d=s(),x=r(),m=_(null),w=_([]),C=g((()=>1===w.value.length&&"ftp"===w.value[0])),k=_(0),j=_(0),M=_(null),F=_(!1),V=_("");let X=null;const q=e=>{H((()=>{(e=>{V.value=e,F.value=!0,m.value?.focus(),X&&clearTimeout(X),X=window.setTimeout((()=>{F.value=!1}),3e3)})(e)}))()},A=async e=>{1===n.length?(await B(n[0],!0),x.setRefresh(!0),e?.()):G(e)},B=async(e,t=!1)=>{const l=w.value.reduce(((e,t)=>(e[t]=1,e)),{});return await o(Object.assign({id:e.id,webname:e.name},l),t)},G=e=>{c({title:l("Site.Cert.index_56"),hideClose:!0,component:u,data:{title:l("Site.Cert.index_56"),api:B,data:n,callback:t=>{e(),J(t)}}})},J=e=>{x.setRefresh(!0),c({title:l("Site.DelSite.index_11"),width:440,footer:!0,component:p,data:{title:l("Site.Cert.index_56"),data:e,status:"done",columns:[{key:"name",title:l("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})};return M.value=null,k.value=Math.round(9*Math.random()+1),j.value=Math.round(9*Math.random()+1),t({onConfirm:async({hide:e})=>null==M.value||null==M.value?(q(l("Site.DelSite.ContentText5")),!1):M.value!==k.value+j.value?(q(l("Site.DelSite.ContentText6")),!1):void(0===w.value.length||C.value?await A(e):(c({title:1===n.length?`${l("Site.DelSite.ContentText3")} [${n[0].name}]`:l("Site.DelSite.ContentText4"),width:740,footer:!0,data:{rows:n,type:w.value,delSite:A},component:re}),e()))}),(e,t)=>{const l=i,a=I,n=U,s=O,o=E,r=R;return h(),S("div",ce,[f("div",ue,[y(l,{name:"base-warning",size:"34",color:"#f0a020"}),f("div",pe,[f("div",xe,[f("div",null,b(e.$t("Site.PHP.index_59")),1),f("div",me,b(e.$t("Site.PHP.index_60")),1)]),y(s,{value:T(w),"onUpdate:value":t[0]||(t[0]=e=>P(w)?w.value=e:null)},{default:D((()=>[y(n,{size:32,class:"items-center h-24px mt-24px"},{default:D((()=>[y(a,{value:"ftp"},{default:D((()=>[$(b(e.$t("Site.PHP.add_site_10")),1)])),_:1}),y(a,{value:"database"},{default:D((()=>[f("span",ve,b(e.$t("Site.PHP.add_site_16")),1),t[3]||(t[3]=f("span",{class:"glyphicon glyphicon-info-sign text-error"},null,-1))])),_:1,__:[3]}),y(a,{value:"path"},{default:D((()=>[$(b(e.$t("Site.PHP.index_20")),1)])),_:1})])),_:1})])),_:1},8,["value"])])]),f("div",_e,[f("span",null,b(e.$t("Site.DelSite.index_10"))+":",1),f("span",ge,b(T(k))+" + "+b(T(j)),1),t[4]||(t[4]=f("span",null,"=",-1)),f("div",he,[y(r,{show:T(F),"onUpdate:show":t[2]||(t[2]=e=>P(F)?F.value=e:null),trigger:"manual",placement:"top-start","arrow-point-to-center":!0,style:z({"--n-color":T(d).errorColor,"--n-text-color":"#fff"})},{trigger:D((()=>[y(o,{ref_key:"inputRef",ref:m,value:T(M),"onUpdate:value":t[1]||(t[1]=e=>P(M)?M.value=e:null),size:"small",placeholder:"","show-button":!1,inputProps:{name:"sum"}},null,8,["value"])])),default:D((()=>[f("div",null,b(T(V)),1)])),_:1},8,["show","style"])])])])}}}))}}}));
