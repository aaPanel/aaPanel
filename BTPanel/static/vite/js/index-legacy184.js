System.register(["./page_layout-legacy.js?v=1758789124250","./vue-legacy.js?v=1758789124250","./__commonjsHelpers__-legacy.js?v=1758789124250","./public-legacy.js?v=1758789124250","./naive-legacy.js?v=1758789124250","./index-legacy101.js?v=1758789124250","./index-legacy39.js?v=1758789124250","./common-legacy.js?v=1758789124250","./index-legacy.js?v=1758789124250","./soft-legacy2.js?v=1758789124250","./soft-legacy.js?v=1758789124250","./site-legacy.js?v=1758789124250","./file-legacy2.js?v=1758789124250","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1758789124250"],function(e,t){"use strict";var a,l,i,n,o,c,s,r,u,d,b,g,m,v,f,h,p,I,C,Y,x,y,W,Z,G,A,V,X,j,F,w,N,k,U,L,B,S,M,H,J,R,Q,z,D,O,T,$,_,E,K,q,P,ee,te,ae,le;return{setters:[e=>{a=e.m,l=e.t,i=e.d,n=e.q,o=e.cn,c=e._,s=e.p,r=e.fV},e=>{u=e.k,d=e.r,b=e.a2,g=e.V,m=e.a3,v=e.W,f=e.U,h=e.ak,p=e.j,I=e.F,C=e.S,Y=e.R,x=e.O,y=e.a4,W=e.e,Z=e.o,G=e.i,A=e.av,V=e.aL,X=e.n,j=e.w,F=e.c,w=e.an,N=e.I,k=e.H,U=e.l,L=e.au,B=e.a7,S=e.a6,M=e.v,H=e.aj},e=>{J=e.g,e.c},e=>{R=e.a},e=>{Q=e.dg,z=e.dl,D=e.aC,O=e.dh,T=e.au,$=e.av,_=e._,E=e.G,K=e.dc},e=>{q=e.a,P=e.V},e=>{ee=e.f,te=e.s,ae=e.b,le=e.r},null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.modal-footer-btns[data-v-8c9008ce]{display:flex;align-items:center;flex-direction:row;justify-content:end;gap:10px;padding:10px}.single-line-ellipsis[data-v-8c9008ce]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.help-wrapper[data-v-8c9008ce]{padding:20px}.help-wrapper .attention-wrapper[data-v-8c9008ce]{margin-bottom:20px;border-bottom:1px solid #ececec}.help-wrapper .attention-wrapper .attention-tit[data-v-8c9008ce]{display:flex;flex-direction:row;align-items:center;gap:5px;font-size:14px;margin-bottom:10px}.help-wrapper .attention-wrapper .attention-desc[data-v-8c9008ce]{display:grid;grid-template-columns:1fr 2fr 1fr 2fr 1fr 2fr 1fr 2fr;border-top:1px solid #ececec;border-right:1px solid #ececec}.help-wrapper .attention-wrapper .attention-desc .desc-label[data-v-8c9008ce]{background:#fafafc;flex:1;padding:10px;display:flex;align-items:center;flex-direction:row;justify-content:flex-start;border-left:1px solid #ececec;font-weight:700;height:100%}.help-wrapper .attention-wrapper .attention-desc .desc-value[data-v-8c9008ce]{background-color:#fff;flex:2;padding:10px;display:flex;align-items:center;flex-direction:row;justify-content:flex-start;border-left:1px solid #ececec;height:100%}.help-wrapper .attention-wrapper .select-key-desc[data-v-8c9008ce]{grid-template-columns:1fr 2fr 1fr 2fr}.modal-footer-btns[data-v-d2e7bac1]{display:flex;align-items:center;flex-direction:row;justify-content:end;gap:10px;padding:10px}.single-line-ellipsis[data-v-d2e7bac1]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editor-modal[data-v-d2e7bac1]{position:fixed;z-index:100;background:#fff;box-shadow:0 0 6px rgba(0,0,0,.3);display:grid;grid-template-rows:40px 30px 1fr;overflow:hidden}.editor-modal.transition-visible[data-v-d2e7bac1]{transition:.1s all ease-in-out}.editor-modal .modal-tit[data-v-d2e7bac1]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:40px;background:#181818;box-sizing:border-box;padding:0 0 0 20px;color:#fff;cursor:move}.editor-modal .modal-tit .tit[data-v-d2e7bac1]{font-size:14px}.editor-modal .modal-tit .tools[data-v-d2e7bac1]{display:flex;align-items:center;flex-direction:row;height:40px}.editor-modal .modal-tit .tools .tool-item[data-v-d2e7bac1]{display:flex;flex-direction:row;align-items:center;justify-content:center;height:40px;width:40px;cursor:pointer}.editor-modal .modal-tit .tools .tool-item[data-v-d2e7bac1]:hover{background-color:#2f3129}.editor-modal .menu-tools[data-v-d2e7bac1]{height:30px;background:#565656;display:flex;align-items:center;flex-direction:row;justify-content:flex-start;position:relative;width:100%;overflow:hidden}.editor-modal .menu-tools .menu-item[data-v-d2e7bac1]{height:30px;padding:0 15px;color:#fff;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:5px;cursor:pointer}.editor-modal .menu-tools .menu-item[data-v-d2e7bac1]:hover{background-color:#40413f}.editor-modal .editor-container[data-v-d2e7bac1]{height:100%;display:grid;grid-template-columns:300px 1fr;color:#fff;transition:.1s all ease-in-out;overflow:hidden;position:relative}.editor-modal .editor-container .resources-management[data-v-d2e7bac1]{position:relative;height:100%;background:#222;overflow:hidden}.editor-modal .editor-container .resources-management .resource-management-container[data-v-d2e7bac1]{display:grid;grid-template-rows:40px 30px 1fr;overflow:hidden;height:100%}.editor-modal .editor-container .resources-management .resource-management-container .path-tool[data-v-d2e7bac1]{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 10px}.editor-modal .editor-container .resources-management .resource-management-container .quick-menu[data-v-d2e7bac1]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;background:#383838}.editor-modal .editor-container .resources-management .resource-management-container .quick-menu .quick-menu-item[data-v-d2e7bac1]{display:flex;flex-direction:row;gap:5px;align-items:center;padding:0 10px;cursor:pointer;height:100%}.editor-modal .editor-container .resources-management .resource-management-container .quick-menu .quick-menu-item[data-v-d2e7bac1]:hover{background:#2b2a2a}.editor-modal .editor-container-collapse[data-v-d2e7bac1]{grid-template-columns:0px 1fr}.editor-modal .editor-content[data-v-d2e7bac1]{display:grid;grid-template-rows:40px 1fr 40px;position:relative}.editor-modal .editor-content .sider-collapse[data-v-d2e7bac1]{width:15px;height:50px;background-color:#565656;position:absolute;z-index:10000;left:0;top:50%;transform:translateY(-50%);border-radius:0 16px 16px 0;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer}.editor-modal .editor-content .tabs[data-v-d2e7bac1]{height:40px;background:#2f3129;display:flex;align-items:center;flex-direction:row}.editor-modal .editor-content .tabs .tab-item[data-v-d2e7bac1]{height:40px;background:#34352f;border-right:1px solid #222;padding:0 15px;display:flex;flex-direction:row;gap:5px;align-items:center;box-sizing:border-box;cursor:pointer}.editor-modal .editor-content .tabs .tab-item.active[data-v-d2e7bac1]{background:#272822;border-bottom:2px solid #20a53a}.editor-modal .editor-content .tabs .tab-item[data-v-d2e7bac1]:hover{background:#272822}[data-v-d2e7bac1] .n-tree{--n-arrow-color: #ffffff;--n-loading-color: #20a53a;--n-bezier: cubic-bezier(.4, 0, .2, 1);--n-font-size: 12px;--n-node-border-radius: 2px;--n-node-color-active: rgb(255 255 255 / 10%);--n-node-color-hover: #565656;--n-node-color-pressed: rgb(237, 237, 239);--n-node-text-color: #ffffff;--n-node-text-color-disabled: #cbcbcb;--n-drop-mark-color: #878787;--n-node-wrapper-padding: 3px 0;--n-line-offset-top: -3px;--n-line-offset-bottom: -3px;--n-node-content-height: 24px;--n-line-height: 1.5;--n-line-color: rgb(239, 239, 245)}[data-v-d2e7bac1] .in-edit{color:orange}.create-pop[data-v-d2e7bac1]{display:flex;align-items:center;flex-direction:column;justify-content:center;gap:5px}.create-pop .pop-item[data-v-d2e7bac1]{cursor:pointer;padding:8px 15px}.create-pop .pop-item[data-v-d2e7bac1]:hover{background-color:#e9f6eb}.search-container[data-v-d2e7bac1]{height:100%;display:grid;grid-template-rows:120px 1fr}.search-panel[data-v-d2e7bac1]{box-sizing:border-box;padding:15px;background:#333;display:flex;align-items:center;flex-direction:column;justify-content:start;align-items:flex-start;gap:15px}.search-panel .top[data-v-d2e7bac1]{display:flex;align-items:center;flex-direction:row;justify-content:space-between;width:100%}.search-panel .top .top-tit[data-v-d2e7bac1]{color:#9e9e9e}.search-panel .top .top-close[data-v-d2e7bac1]{color:#f30;cursor:pointer}.search-panel .search-area[data-v-d2e7bac1]{width:100%}.search-panel[data-v-d2e7bac1] .n-checkbox__label{color:#fff}.status-bar[data-v-d2e7bac1]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;background:#444;color:#fff}.status-bar .left-info[data-v-d2e7bac1]{padding-left:10px}.status-bar .right-info[data-v-d2e7bac1]{display:flex;flex-direction:row;justify-content:start;align-items:center}.status-bar .right-info .info-item[data-v-d2e7bac1]{padding:0 10px;border-right:1px solid #555;cursor:pointer;height:40px;line-height:40px;transition:all .2s ease-in-out}.status-bar .right-info .info-item[data-v-d2e7bac1]:hover{background:#717171}.status-bar .right-info .info-item[data-v-d2e7bac1]:last-of-type{border-right:none}.tab-set[data-v-d2e7bac1]{width:530px;position:absolute;top:40px;left:50%;transform:translate(-50%);background:#444;z-index:10}.tab-set .tab-item[data-v-d2e7bac1]{padding:10px;transition:all .2s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.tab-set .tab-item.border[data-v-d2e7bac1]{border-bottom:1px solid #878787}.tab-set .tab-item.tit[data-v-d2e7bac1]{color:#878787}.tab-set .tab-item.can-hover[data-v-d2e7bac1]:hover{background:#666;cursor:pointer}.tab-set .tab-item.choosed[data-v-d2e7bac1]{background:#666}.font-set[data-v-d2e7bac1]{position:absolute;width:300px;height:100px;top:35px;left:50%;margin-left:-150px;background:#444;z-index:10;display:flex;align-items:center;flex-direction:column;justify-content:center;align-items:flex-start;gap:20px}.font-set .tit[data-v-d2e7bac1]{color:#fff;border-bottom:1px solid #878787;width:100%;padding:0 0 10px 20px}\n/*$vite$:1*/',document.head.appendChild(t);var ie={exports:{}};!function(e){e.exports=function(){var e=1e3,t=6e4,a=36e5,l="millisecond",i="second",n="minute",o="hour",c="day",s="week",r="month",u="quarter",d="year",b="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},h=function(e,t,a){var l=String(e);return!l||l.length>=t?e:""+Array(t+1-l.length).join(a)+e},p={s:h,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),l=Math.floor(a/60),i=a%60;return(t<=0?"+":"-")+h(l,2,"0")+":"+h(i,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var l=12*(a.year()-t.year())+(a.month()-t.month()),i=t.clone().add(l,r),n=a-i<0,o=t.clone().add(l+(n?-1:1),r);return+(-(l+(a-i)/(n?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:r,y:d,w:s,d:c,D:b,h:o,m:n,s:i,ms:l,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},I="en",C={};C[I]=f;var Y="$isDayjsObject",x=function(e){return e instanceof G||!(!e||!e[Y])},y=function e(t,a,l){var i;if(!t)return I;if("string"==typeof t){var n=t.toLowerCase();C[n]&&(i=n),a&&(C[n]=a,i=n);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var c=t.name;C[c]=t,i=c}return!l&&i&&(I=i),i||!l&&I},W=function(e,t){if(x(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new G(a)},Z=p;Z.l=y,Z.i=x,Z.w=function(e,t){return W(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var G=function(){function f(e){this.$L=y(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Y]=!0}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(Z.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var l=t.match(m);if(l){var i=l[2]-1||0,n=(l[7]||"0").substring(0,3);return a?new Date(Date.UTC(l[1],i,l[3]||1,l[4]||0,l[5]||0,l[6]||0,n)):new Date(l[1],i,l[3]||1,l[4]||0,l[5]||0,l[6]||0,n)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return Z},h.isValid=function(){return!(this.$d.toString()===g)},h.isSame=function(e,t){var a=W(e);return this.startOf(t)<=a&&a<=this.endOf(t)},h.isAfter=function(e,t){return W(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<W(e)},h.$g=function(e,t,a){return Z.u(e)?this[t]:this.set(a,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var a=this,l=!!Z.u(t)||t,u=Z.p(e),g=function(e,t){var i=Z.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return l?i:i.endOf(c)},m=function(e,t){return Z.w(a.toDate()[e].apply(a.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},v=this.$W,f=this.$M,h=this.$D,p="set"+(this.$u?"UTC":"");switch(u){case d:return l?g(1,0):g(31,11);case r:return l?g(1,f):g(0,f+1);case s:var I=this.$locale().weekStart||0,C=(v<I?v+7:v)-I;return g(l?h-C:h+(6-C),f);case c:case b:return m(p+"Hours",0);case o:return m(p+"Minutes",1);case n:return m(p+"Seconds",2);case i:return m(p+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,t){var a,s=Z.p(e),u="set"+(this.$u?"UTC":""),g=(a={},a[c]=u+"Date",a[b]=u+"Date",a[r]=u+"Month",a[d]=u+"FullYear",a[o]=u+"Hours",a[n]=u+"Minutes",a[i]=u+"Seconds",a[l]=u+"Milliseconds",a)[s],m=s===c?this.$D+(t-this.$W):t;if(s===r||s===d){var v=this.clone().set(b,1);v.$d[g](m),v.init(),this.$d=v.set(b,Math.min(this.$D,v.daysInMonth())).$d}else g&&this.$d[g](m);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[Z.p(e)]()},h.add=function(l,u){var b,g=this;l=Number(l);var m=Z.p(u),v=function(e){var t=W(g);return Z.w(t.date(t.date()+Math.round(e*l)),g)};if(m===r)return this.set(r,this.$M+l);if(m===d)return this.set(d,this.$y+l);if(m===c)return v(1);if(m===s)return v(7);var f=(b={},b[n]=t,b[o]=a,b[i]=e,b)[m]||1,h=this.$d.getTime()+l*f;return Z.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||g;var l=e||"YYYY-MM-DDTHH:mm:ssZ",i=Z.z(this),n=this.$H,o=this.$m,c=this.$M,s=a.weekdays,r=a.months,u=a.meridiem,d=function(e,a,i,n){return e&&(e[a]||e(t,l))||i[a].slice(0,n)},b=function(e){return Z.s(n%12||12,e,"0")},m=u||function(e,t,a){var l=e<12?"AM":"PM";return a?l.toLowerCase():l};return l.replace(v,function(e,l){return l||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return Z.s(t.$y,4,"0");case"M":return c+1;case"MM":return Z.s(c+1,2,"0");case"MMM":return d(a.monthsShort,c,r,3);case"MMMM":return d(r,c);case"D":return t.$D;case"DD":return Z.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(a.weekdaysMin,t.$W,s,2);case"ddd":return d(a.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(n);case"HH":return Z.s(n,2,"0");case"h":return b(1);case"hh":return b(2);case"a":return m(n,o,!0);case"A":return m(n,o,!1);case"m":return String(o);case"mm":return Z.s(o,2,"0");case"s":return String(t.$s);case"ss":return Z.s(t.$s,2,"0");case"SSS":return Z.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(l,b,g){var m,v=this,f=Z.p(b),h=W(l),p=(h.utcOffset()-this.utcOffset())*t,I=this-h,C=function(){return Z.m(v,h)};switch(f){case d:m=C()/12;break;case r:m=C();break;case u:m=C()/3;break;case s:m=(I-p)/6048e5;break;case c:m=(I-p)/864e5;break;case o:m=I/a;break;case n:m=I/t;break;case i:m=I/e;break;default:m=I}return g?m:Z.a(m)},h.daysInMonth=function(){return this.endOf(r).$D},h.$locale=function(){return C[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),l=y(e,t,!0);return l&&(a.$L=l),a},h.clone=function(){return Z.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),A=G.prototype;return W.prototype=A,[["$ms",l],["$s",i],["$m",n],["$H",o],["$W",c],["$M",r],["$y",d],["$D",b]].forEach(function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),W.extend=function(e,t){return e.$i||(e(t,G,W),e.$i=!0),W},W.locale=y,W.isDayjs=x,W.unix=function(e){return W(1e3*e)},W.en=C[I],W.Ls=C,W.p={},W}()}(ie);const ne=J(ie.exports),oe=u({__name:"HistoryVersion",emits:["openFile","restoreHistory"],setup(e,{expose:t,emit:o}){const c=o,s=d([]),r=d(!1),u=d(""),C=d(""),Y=d([{title:"Filename",key:"history_file",width:"45%"},{title:"Version time",key:"st_mtime",width:"35%",render:e=>v("span",null,[ne(1e3*e.st_mtime).format("YYYY-MM-DD HH:mm:ss")])},{title:"Operation",key:"operation",align:"right",width:"20%",render:e=>v(I,null,[v(D,{type:"primary",text:!0,onClick:()=>async function(e){const t=a.loading("正在获取版本内容，请稍后...");try{const{message:t}=await l.post("/files?action=read_history",{filename:C.value,history:e.st_mtime});c("openFile",{sourceCode:t.data,nm:u.value,history:!0,path:C.value,historyTime:e.st_mtime}),x()}catch(i){console.warn(i)}finally{t.close()}}(e)},{default:()=>[p("Open file")]}),v(n,{vertical:!0},null),v(D,{type:"primary",text:!0,onClick:()=>{return t=C.value,i=e.st_mtime,void R({title:"恢复历史版本",content:"恢复后，当前文件内容将被覆盖，是否继续？",async onConfirm(){const e=a.loading("正在恢复历史版本，请稍后...");try{const{message:e}=await l.post("/files?action=re_history",{filename:t,history:i});a.success("恢复成功"),x(),c("restoreHistory",{nm:u.value,data:e.data})}catch(n){console.warn(n)}finally{e.close()}}});var t,i}},{default:()=>[p("Restore")]})])}]);function x(){r.value=!1}return t({open:async function(e,t){C.value=e,await async function(e){const t=a.loading("正在获取历史版本，请稍后...");try{const{message:t}=await l.post("/files?action=get_file_attribute",{filename:e},{requestOptions:{isOriginalResult:!0}});i(t)&&(s.value=t.history)}finally{t.close()}}(C.value),r.value=!0,t&&(u.value=t)},close:x,doRestoreHistory:function(e,t,i,n){R({title:"恢复历史版本",content:"恢复后，当前文件内容将被覆盖，是否继续？",async onConfirm(){const o=a.loading("正在恢复历史版本，请稍后...");try{const{message:o}=await l.post("/files?action=re_history",{filename:e,history:t});a.success("恢复成功"),n&&n({nm:i,data:o.data,historyTime:t})}catch(c){console.warn(c)}finally{o.close()}}})}}),(e,t)=>{const a=Q,l=z;return g(),b(l,{show:f(r),"onUpdate:show":t[0]||(t[0]=e=>h(r)?r.value=e:null),preset:"card",draggable:"",class:"w-270",title:"历史版本"},{default:m(()=>[v(a,{columns:f(Y),data:f(s),"min-height":"400px","max-height":"400px"},null,8,["columns","data"])]),_:1},8,["show"])}}}),ce={class:"help-wrapper"},se={class:"attention"},re={class:"attention-wrapper"},ue={class:"attention-tit"},de={class:"desc-label"},be={class:"desc-value"},ge={class:"attention-wrapper"},me={class:"attention-tit"},ve={class:"desc-label"},fe={class:"desc-value"},he={class:"attention-wrapper"},pe={class:"attention-tit"},Ie={class:"desc-label"},Ce={class:"desc-value"},Ye={class:"attention-wrapper"},xe={class:"attention-tit"},ye={class:"desc-label"},We={class:"desc-value"},Ze=u({__name:"HelpModal",setup(e,{expose:t}){const a=d(!1),l=d([[{label:"ctrl+s",value:"Save"},{label:"ctrl+s",value:"Save"}],[{label:"ctrl+a",value:"Select all"},{label:"ctrl+x",value:"Cut"}],[{label:"ctrl+v",value:"Paste"},{label:"ctrl+z",value:"Cancel"}],[{label:"ctrl+y",value:"Anti-cancel"},{label:"ctrl+f",value:"Find"}],[{label:"ctrl+c",value:"Copy"},{label:"ctrl+alt+f",value:"Replace"}],[{label:"win+alt+0",value:"Collapse all"},{label:"win+alt+shift+0",value:"Expand all"}],[{label:"esc",value:"[Exit the search and cancel the automatic prompt...]"},{label:"ctrl-shift-s",value:"Preview"}],[{label:"ctrl-shift-e",value:"Show & close function"}]]),i=d([[{label:"Mouse",value:"frame selection / drag"},{label:"shift+home/end/up/left/down/right",value:"Shift + Quick Selection"}],[{label:"shift+pageUp/PageDown",value:"Scroll up and down"},{label:"ctrl+shift+ home/end",value:"Current cursor to the end of the head"}],[{label:"alt+ Mouse drag",value:"Block selection"},{label:"ctrl+alt+g",value:"Batch select current and enter multi-tab editing"}]]),n=d([[{label:"home/end/up/left/down/right",value:"Quick Move"},{label:"ctrl+home/end",value:"Cursor moves to the beginning/end of the document"}],[{label:"ctrl+p",value:"Jump to the matching tag"},{label:"pageUp/PageDown",value:"Cursor up and down"}],[{label:"alt+left/right",value:"Cursor moves to the top of the line"},{label:"shift+left/right",value:"Cursor moves to the beginning & end of the line"}],[{label:"ctrl+l",value:"Jump to the specified line"},{label:"ctrl+alt+up/down",value:"Add cursor to the top (bottom)"}]]),s=d([[{label:"ctrl+/",value:"Comment & Uncomment"},{label:"ctrl+/",value:"Comment & Uncomment"}],[{label:"ctrl+alt+a",value:"Align left and right"},{label:"table",value:"Tab alignment"}],[{label:"shift+table",value:"Overall advancement table"},{label:"delete",value:"Delete"}],[{label:"ctrl+d",value:"Delete entire line"},{label:"ctrl+delete",value:"Delete the word on the right side of the line"}],[{label:"ctrl/shift+backspace",value:"Delete the word on the left"},{label:"alt+shift+up/down",value:"Copy the line and add it to the top (below)"}],[{label:"alt+delete",value:"Delete the right side of the cursor"},{label:"alt+up/down",value:"The current line is swapped with the previous line (the next line)"}],[{label:"ctrl+shift+d",value:"Copy the line and add it below"},{label:"ctrl+delete",value:"Delete the word on the right"}],[{label:"ctrl+shift+u",value:"Convert to lowercase"},{label:"ctrl+u",value:"Convert selected content to uppercase"}]]);return t({open:function(){a.value=!0},close:function(){a.value=!1}}),(e,t)=>{const r=c,u=o,d=z;return g(),b(d,{preset:"card",class:"w-490",draggable:"","close-on-esc":!1,"mask-closable":!1,segmented:"",title:"Help",show:f(a),"onUpdate:show":t[0]||(t[0]=e=>h(a)?a.value=e:null),"z-index":2e5},{default:m(()=>[v(u,{style:{height:"600px"},trigger:"none"},{default:m(()=>[C("div",ce,[C("div",se,[C("div",re,[C("div",ue,[v(r,{name:"file-attention",size:"24"}),t[1]||(t[1]=C("span",null,"Common shortcuts",-1))]),(g(!0),Y(I,null,x(f(l),(e,t)=>(g(),Y("div",{class:"attention-desc select-key-desc",key:t},[(g(!0),Y(I,null,x(e,(e,t)=>(g(),Y(I,{key:t},[C("div",de,[C("span",null,y(e.label),1)]),C("div",be,[C("span",null,y(e.value),1)])],64))),128))]))),128))]),C("div",ge,[C("div",me,[v(r,{name:"file-attention",size:"24"}),t[2]||(t[2]=C("span",null,"Select",-1))]),(g(!0),Y(I,null,x(f(i),(e,t)=>(g(),Y("div",{class:"attention-desc select-key-desc",key:t},[(g(!0),Y(I,null,x(e,(e,t)=>(g(),Y(I,{key:t},[C("div",ve,[C("span",null,y(e.label),1)]),C("div",fe,[C("span",null,y(e.value),1)])],64))),128))]))),128))]),C("div",he,[C("div",pe,[v(r,{name:"file-attention",size:"24"}),t[3]||(t[3]=C("span",null,"Cursor movement",-1))]),(g(!0),Y(I,null,x(f(n),(e,t)=>(g(),Y("div",{class:"attention-desc select-key-desc",key:t},[(g(!0),Y(I,null,x(e,(e,t)=>(g(),Y(I,{key:t},[C("div",Ie,[C("span",null,y(e.label),1)]),C("div",Ce,[C("span",null,y(e.value),1)])],64))),128))]))),128))]),C("div",Ye,[C("div",xe,[v(r,{name:"file-attention",size:"24"}),t[4]||(t[4]=C("span",null,"Edit",-1))]),(g(!0),Y(I,null,x(f(s),(e,t)=>(g(),Y("div",{class:"attention-desc select-key-desc",key:t},[(g(!0),Y(I,null,x(e,(e,t)=>(g(),Y(I,{key:t},[C("div",ye,[C("span",null,y(e.label),1)]),C("div",We,[C("span",null,y(e.value),1)])],64))),128))]))),128))])])])]),_:1})]),_:1},8,["show"])}}}),Ge=s(Ze,[["__scopeId","data-v-8c9008ce"]]);q.config.setModuleUrl("ace/theme/github","data:text/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2dpdGh1Yi1jc3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXttb2R1bGUuZXhwb3J0cyA9ICIvKiBDU1Mgc3R5bGUgY29udGVudCBmcm9tIGdpdGh1YidzIGRlZmF1bHQgcHlnbWVudHMgaGlnaGxpZ2h0ZXIgdGVtcGxhdGUuXG4gICBDdXJzb3IgYW5kIHNlbGVjdGlvbiBzdHlsZXMgZnJvbSB0ZXh0bWF0ZS5jc3MuICovXG4uYWNlLWdpdGh1YiAuYWNlX2d1dHRlciB7XG4gIGJhY2tncm91bmQ6ICNlOGU4ZTg7XG4gIGNvbG9yOiAjQUFBO1xufVxuXG4uYWNlLWdpdGh1YiAge1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBjb2xvcjogIzAwMDtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9rZXl3b3JkIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2Vfc3RyaW5nIHtcbiAgY29sb3I6ICNEMTQ7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfdmFyaWFibGUuYWNlX2NsYXNzIHtcbiAgY29sb3I6IHRlYWw7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xuICBjb2xvcjogIzA5OTtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9jb25zdGFudC5hY2VfYnVpbGRpbiB7XG4gIGNvbG9yOiAjMDA4NkIzO1xufVxuXG4uYWNlLWdpdGh1YiAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uIHtcbiAgY29sb3I6ICMwMDg2QjM7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfY29tbWVudCB7XG4gIGNvbG9yOiAjOTk4O1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfdmFyaWFibGUuYWNlX2xhbmd1YWdlICB7XG4gIGNvbG9yOiAjMDA4NkIzO1xufVxuXG4uYWNlLWdpdGh1YiAuYWNlX3BhcmVuIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfYm9vbGVhbiB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWNlLWdpdGh1YiAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6ICMwMDk5MjY7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfdmFyaWFibGUuYWNlX2luc3RhbmNlIHtcbiAgY29sb3I6IHRlYWw7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfY29uc3RhbnQuYWNlX2xhbmd1YWdlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfY3Vyc29yIHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4uYWNlLWdpdGh1Yi5hY2VfZm9jdXMgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XG4gIGJhY2tncm91bmQ6IHJnYigyNTUsIDI1NSwgMjA0KTtcbn1cbi5hY2UtZ2l0aHViIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiByZ2IoMjQ1LCAyNDUsIDI0NSk7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogcmdiKDE4MSwgMjEzLCAyNTUpO1xufVxuXG4uYWNlLWdpdGh1Yi5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtcbiAgYm94LXNoYWRvdzogMCAwIDNweCAwcHggd2hpdGU7XG59XG4vKiBib2xkIGtleXdvcmRzIGNhdXNlIGN1cnNvciBpc3N1ZXMgZm9yIHNvbWUgZm9udHMgKi9cbi8qIHRoaXMgZGlzYWJsZXMgYm9sZCBzdHlsZSBmb3IgZWRpdG9yIGFuZCBrZWVwcyBmb3Igc3RhdGljIGhpZ2hsaWdodGVyICovXG4uYWNlLWdpdGh1Yi5hY2Vfbm9ib2xkIC5hY2VfbGluZSA+IHNwYW4ge1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcbiAgYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XG4gIGJhY2tncm91bmQ6IHJnYigxNjQsIDIyOSwgMTAxKTtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcbiAgbWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yIDogcmdiYSgwLCAwLCAwLCAwLjA3KTtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcbiAgYmFja2dyb3VuZDogcmdiKDI1MCwgMjUwLCAyNTUpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjAwLCAyMDAsIDI1MCk7XG59XG5cbi5hY2UtZ2l0aHViIC5hY2VfaW52aXNpYmxlIHtcbiAgY29sb3I6ICNCRkJGQkZcbn1cblxuLmFjZS1naXRodWIgLmFjZV9wcmludC1tYXJnaW4ge1xuICB3aWR0aDogMXB4O1xuICBiYWNrZ3JvdW5kOiAjZThlOGU4O1xufVxuXG4uYWNlLWdpdGh1YiAuYWNlX2luZGVudC1ndWlkZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFMGxFUVZRSW1XUDQvLy8vZjRiTGx5Ly9Cd0FtVmdkMS93MTEvZ0FBQUFCSlJVNUVya0pnZ2c9PVwiKSByaWdodCByZXBlYXQteTtcbn1cblxuLmFjZS1naXRodWIgLmFjZV9pbmRlbnQtZ3VpZGUtYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBQVpTVVJCVkhqYVl2ai8vLzkvaGl2S3l2OEJBQUFBLy84REFDTHFCaGJ2aysvZUFBQUFBRWxGVGtTdVFtQ0NcIikgcmlnaHQgcmVwZWF0LXk7XG59XG4iOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvdGhlbWUvZ2l0aHViIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2dpdGh1Yi1jc3MiLCJhY2UvbGliL2RvbSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe2V4cG9ydHMuaXNEYXJrID0gZmFsc2U7CmV4cG9ydHMuY3NzQ2xhc3MgPSAiYWNlLWdpdGh1YiI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4vZ2l0aHViLWNzcyIpOwp2YXIgZG9tID0gcmVxdWlyZSgiLi4vbGliL2RvbSIpOwpkb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcywgZmFsc2UpOwoKfSk7ICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBhY2UucmVxdWlyZShbImFjZS90aGVtZS9naXRodWIiXSwgZnVuY3Rpb24obSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSAib2JqZWN0IiAmJiB0eXBlb2YgZXhwb3J0cyA9PSAib2JqZWN0IiAmJiBtb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAg"),q.config.setModuleUrl("ace/theme/chrome","data:text/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXttb2R1bGUuZXhwb3J0cyA9ICIuYWNlLWNocm9tZSAuYWNlX2d1dHRlciB7XG4gIGJhY2tncm91bmQ6ICNlYmViZWI7XG4gIGNvbG9yOiAjMzMzO1xuICBvdmVyZmxvdyA6IGhpZGRlbjtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9wcmludC1tYXJnaW4ge1xuICB3aWR0aDogMXB4O1xuICBiYWNrZ3JvdW5kOiAjZThlOGU4O1xufVxuXG4uYWNlLWNocm9tZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jdXJzb3Ige1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfaW52aXNpYmxlIHtcbiAgY29sb3I6IHJnYigxOTEsIDE5MSwgMTkxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jb25zdGFudC5hY2VfYnVpbGRpbiB7XG4gIGNvbG9yOiByZ2IoODgsIDcyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiByZ2IoODgsIDkyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9saWJyYXJ5IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbnZhbGlkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1MywgMCwgMCk7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9mb2xkIHtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiByZ2IoNjAsIDc2LCAxMTQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9jbGFzc1xuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2IoMTA5LCAxMjEsIDIyMik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUuYWNlX3BhcmFtZXRlciB7XG4gIGZvbnQtc3R5bGU6aXRhbGljO1xuICBjb2xvcjojRkQ5NzFGO1xufVxuLmFjZS1jaHJvbWUgLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XG4gIGNvbG9yOiByZ2IoMTA0LCAxMTgsIDEzNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29tbWVudCB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYyB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcbiAgY29sb3I6ICMyMzZlMjQ7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xuICBjb2xvcjogcmdiKDAsIDAsIDIwNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUge1xuICBjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfeG1sLXBlIHtcbiAgY29sb3I6IHJnYigxMDQsIDEwNCwgOTEpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge1xuICBjb2xvcjogIzAwMDBBMjtcbn1cblxuXG4uYWNlLWNocm9tZSAuYWNlX2hlYWRpbmcge1xuICBjb2xvcjogcmdiKDEyLCA3LCAyNTUpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2xpc3Qge1xuICBjb2xvcjpyZ2IoMTg1LCA2LCAxNDQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcbiAgYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XG4gIGJhY2tncm91bmQ6IHJnYigxNjQsIDIyOSwgMTAxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcbiAgbWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2d1dHRlci1hY3RpdmUtbGluZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvciA6ICNkY2RjZGM7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwMCwgMjAwLCAyNTApO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N0b3JhZ2UsXG4uYWNlLWNocm9tZSAuYWNlX2tleXdvcmQsXG4uYWNlLWNocm9tZSAuYWNlX21ldGEuYWNlX3RhZyB7XG4gIGNvbG9yOiByZ2IoMTQ3LCAxNSwgMTI4KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcbiAgY29sb3I6IHJnYigyNTUsIDAsIDApXG59XG5cbi5hY2UtY2hyb21lIC5hY2Vfc3RyaW5nIHtcbiAgY29sb3I6ICMxQTFBQTY7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfZW50aXR5LmFjZV9vdGhlci5hY2VfYXR0cmlidXRlLW5hbWUge1xuICBjb2xvcjogIzk5NDQwOTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT1cIikgcmlnaHQgcmVwZWF0LXk7XG59XG4gIFxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUtYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBQVpTVVJCVkhqYVl2ai8vLzkvaGl2S3l2OEJBQUFBLy84REFDTHFCaGJ2aysvZUFBQUFBRWxGVGtTdVFtQ0NcIikgcmlnaHQgcmVwZWF0LXk7XG59XG4iOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvdGhlbWUvY2hyb21lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLCJhY2UvbGliL2RvbSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe2V4cG9ydHMuaXNEYXJrID0gZmFsc2U7CmV4cG9ydHMuY3NzQ2xhc3MgPSAiYWNlLWNocm9tZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4vY2hyb21lLWNzcyIpOwp2YXIgZG9tID0gcmVxdWlyZSgiLi4vbGliL2RvbSIpOwpkb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcywgZmFsc2UpOwoKfSk7ICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBhY2UucmVxdWlyZShbImFjZS90aGVtZS9jaHJvbWUiXSwgZnVuY3Rpb24obSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSAib2JqZWN0IiAmJiB0eXBlb2YgZXhwb3J0cyA9PSAib2JqZWN0IiAmJiBtb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAg"),q.config.setModuleUrl("ace/theme/monokai","data:text/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL21vbm9rYWktY3NzIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7bW9kdWxlLmV4cG9ydHMgPSAiLmFjZS1tb25va2FpIC5hY2VfZ3V0dGVyIHtcbiAgYmFja2dyb3VuZDogIzJGMzEyOTtcbiAgY29sb3I6ICM4RjkwOEFcbn1cblxuLmFjZS1tb25va2FpIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzU1NTY1MVxufVxuXG4uYWNlLW1vbm9rYWkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyODIyO1xuICBjb2xvcjogI0Y4RjhGMlxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9jdXJzb3Ige1xuICBjb2xvcjogI0Y4RjhGMFxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiAjNDk0ODNFXG59XG5cbi5hY2UtbW9ub2thaS5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtcbiAgYm94LXNoYWRvdzogMCAwIDNweCAwcHggIzI3MjgyMjtcbn1cblxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcbiAgbWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjNDk0ODNFXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX2FjdGl2ZS1saW5lIHtcbiAgYmFja2dyb3VuZDogIzIwMjAyMFxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyNzI3XG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjNDk0ODNFXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX2ludmlzaWJsZSB7XG4gIGNvbG9yOiAjNTI1MjRkXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfdGFnLFxuLmFjZS1tb25va2FpIC5hY2Vfa2V5d29yZCxcbi5hY2UtbW9ub2thaSAuYWNlX21ldGEuYWNlX3RhZyxcbi5hY2UtbW9ub2thaSAuYWNlX3N0b3JhZ2Uge1xuICBjb2xvcjogI0Y5MjY3MlxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbixcbi5hY2UtbW9ub2thaSAuYWNlX3B1bmN0dWF0aW9uLmFjZV90YWcge1xuICBjb2xvcjogI2ZmZlxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLFxuLmFjZS1tb25va2FpIC5hY2VfY29uc3RhbnQuYWNlX2xhbmd1YWdlLFxuLmFjZS1tb25va2FpIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMsXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge1xuICBjb2xvcjogI0FFODFGRlxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9pbnZhbGlkIHtcbiAgY29sb3I6ICNGOEY4RjA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGOTI2NzJcbn1cblxuLmFjZS1tb25va2FpIC5hY2VfaW52YWxpZC5hY2VfZGVwcmVjYXRlZCB7XG4gIGNvbG9yOiAjRjhGOEYwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUU4MUZGXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50LFxuLmFjZS1tb25va2FpIC5hY2Vfc3VwcG9ydC5hY2VfZnVuY3Rpb24ge1xuICBjb2xvcjogIzY2RDlFRlxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E2RTIyRTtcbiAgYm9yZGVyLWNvbG9yOiAjRjhGOEYyXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX3N0b3JhZ2UuYWNlX3R5cGUsXG4uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9jbGFzcyxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX3R5cGUge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNjZEOUVGXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24sXG4uYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX290aGVyLFxuLmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9vdGhlci5hY2VfYXR0cmlidXRlLW5hbWUsXG4uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjQTZFMjJFXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX3ZhcmlhYmxlLmFjZV9wYXJhbWV0ZXIge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjRkQ5NzFGXG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiAjRTZEQjc0XG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX2NvbW1lbnQge1xuICBjb2xvcjogIzc1NzE1RVxufVxuXG4uYWNlLW1vbm9rYWkgLmFjZV9pbmRlbnQtZ3VpZGUge1xuICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJbVdQUTBGRDBaWEJ6ZC93UEFBalZBb3hlU2dOZUFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15XG59XG5cbi5hY2UtbW9ub2thaSAuYWNlX2luZGVudC1ndWlkZS1hY3RpdmUge1xuICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJVzJQUTFkWDl6ekJ6NXN6L0FCQ2NCRkZlbnRMbEFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL21vbm9rYWkiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvdGhlbWUvbW9ub2thaS1jc3MiLCJhY2UvbGliL2RvbSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe2V4cG9ydHMuaXNEYXJrID0gdHJ1ZTsKZXhwb3J0cy5jc3NDbGFzcyA9ICJhY2UtbW9ub2thaSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4vbW9ub2thaS1jc3MiKTsKdmFyIGRvbSA9IHJlcXVpcmUoIi4uL2xpYi9kb20iKTsKZG9tLmltcG9ydENzc1N0cmluZyhleHBvcnRzLmNzc1RleHQsIGV4cG9ydHMuY3NzQ2xhc3MsIGZhbHNlKTsKCn0pOyAgICAgICAgICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgYWNlLnJlcXVpcmUoWyJhY2UvdGhlbWUvbW9ub2thaSJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA="),q.config.setModuleUrl("ace/theme/ambiance","/static/vite/js/theme-ambiance.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/json","/static/vite/js/mode-json.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/javascript","/static/vite/js/mode-javascript.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/html","/static/vite/js/mode-html.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/python","/static/vite/js/mode-python.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/java","/static/vite/js/mode-java.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/php","/static/vite/js/mode-php.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/base","/static/vite/js/worker-base.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/json_worker","/static/vite/js/worker-json.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/javascript_worker","/static/vite/js/worker-javascript.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/html_worker","/static/vite/js/worker-html.js?v=1758789124250"),q.config.setModuleUrl("ace/snippets/json","data:text/javascript;base64,CjsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3NuaXBwZXRzL2pzb24iXSwgZnVuY3Rpb24obSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSAib2JqZWN0IiAmJiB0eXBlb2YgZXhwb3J0cyA9PSAib2JqZWN0IiAmJiBtb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAg"),q.config.setModuleUrl("ace/snippets/javascript","/static/vite/js/javascript.js?v=1758789124250"),q.config.setModuleUrl("ace/snippets/html","/static/vite/js/html.js?v=1758789124250"),q.config.setModuleUrl("ace/snippets/javascript","/static/vite/js/python.js?v=1758789124250"),q.config.setModuleUrl("ace/mode/sh","/static/vite/js/mode-sh.js?v=1758789124250"),q.config.setModuleUrl("ace/ext/searchbox","/static/vite/js/ext-searchbox.js?v=1758789124250"),q.config.setModuleUrl("ace/ext/prompt","/static/vite/js/ext-prompt.js?v=1758789124250");const Ae=u({__name:"Editor",props:{theme:{default:"github"},language:{default:"javascript"},fileInfo:{}},emits:["mount","save","change","focus","getContent"],setup(e,{expose:t,emit:i}){const n=i,o=d(),c=d(!1),s=e,r=d({fontSize:16,showPrintMargin:!1,vScrollBarAlwaysVisible:!1,cursorStyle:"wide"}),u=d(""),m=d(""),v=W({}),p=d("utf-8");async function I(e=u.value,t){t&&(p.value=t);const i=a.loading("Saving file...");try{const t=await l.post("/files?action=SaveFileBody",{data:e,encoding:p.value,path:s.fileInfo.path});0==t.status?(a.success(t.message.msg),m.value=e,n("change",{source:m.value,editCode:e})):a.error(t.message.msg)}catch(o){console.warn(o)}finally{i.close()}}async function C(e){try{const t=await l.post("/files?action=GetFileBody",{path:e},{requestOptions:{loading:"正在获取文件内容，请稍候..."}});u.value=t.message.data,m.value=t.message.data,p.value=t.message.encoding,n("getContent",{...t.message,...s.fileInfo,encoding:p.value})}catch(t){console.warn(t)}}function Y(e,t){u.value=e,m.value=t}return t(v),s.fileInfo.history?(u.value=s.fileInfo.sourceCode,c.value=!0):C(s.fileInfo.path),Z(()=>{v.setContent=Y,v.instance=o.value.getAceInstance(),v.refresh=()=>C(s.fileInfo.path),v.save=(e,t)=>I(e,t),v.instance.on("focus",()=>{n("focus")}),n("mount",o.value.getAceInstance()),v.setTabSize=e=>{v.instance.getSession().setTabSize(e)},v.setTabType=e=>{v.instance.getSession().setUseSoftTabs(e)},v.instance.commands.addCommand({name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(e){var t=e.getValue();n("save",t),I(t)},readOnly:!1}),v.instance.commands.addCommand({name:"customFind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(e){e.execCommand("find")}}),v.instance.commands.addCommand({name:"customFind",bindKey:{win:"Ctrl-i",mac:"Command-i"},exec:function(e){console.log(v.instance.getSession())}}),v.instance.on("change",()=>{n("change",{source:m.value,editCode:u.value})})}),(e,t)=>(g(),b(f(P),{value:f(u),"onUpdate:value":t[0]||(t[0]=e=>h(u)?u.value=e:null),options:f(r),lang:e.language,theme:e.theme,ref_key:"editorRef",ref:o,style:{height:"100%"},readonly:f(c)},null,8,["value","options","lang","theme","readonly"]))}}),Ve={class:"modal-tit",ref:"handle"},Xe={class:"tit"},je={class:"tools"},Fe={class:"menu-tools"},we={class:"resources-management"},Ne={key:0,class:"resource-management-container"},ke={class:"path-tool"},Ue={class:"quick-menu"},Le={class:"quick-menu-item"},Be={class:"create-pop"},Se={key:1,class:"search-container"},Me={class:"search-panel"},He={class:"search-area"},Je={class:"flex justify-start gap-5px"},Re={class:"editor-content"},Qe={class:"tabs"},ze=["onClick"],De={key:1,class:"h-100% w-100% flex justify-center items-center bg-[#565656]"},Oe={key:0,class:"status-bar"},Te={class:"left-info"},$e={class:"right-info"},_e={class:"info-item"},Ee={key:1,class:"status-bar",style:{background:"#d29232"}},Ke={class:"flex justify-start items-center gap-20px"},qe={class:"pl-10px"},Pe={class:"font-set"},et={class:"flex justify-center gap-2.5 items-center pl-20px pb-10px"},tt={class:"tab-set"},at={key:0,class:k(["i-ri:check-fill","text-8"])},lt={key:0,class:k(["i-ri:check-fill","text-8"])},it=["onClick"],nt={key:0,class:k(["i-ri:check-fill","text-8"])},ot={class:"tab-set"},ct=u({__name:"index",setup(e,{expose:t}){const i=G("fileStore"),n=d({aceEditor:{},encodingList:["UTF-8"],supportedModes:{}}),{currentPath:s,fileList:u,choosedKeys:W}=i,J=d(!1),Q=d(),z=d(new Map),q=d(new Map),P=d(s.value),ie=d(s.value),ce=d([]),se=d("file"),re=d(""),ue=d(s.value),de=d(),be=d(),ge=d(""),me=d("monokai"),ve=d("javascript"),fe=d(!1),he=d(!1),pe=d(""),Ie=d("70%"),Ce=d("70%"),Ye=d("1500px"),xe=d("1200px"),ye=A("modalRef"),We=A("handle"),Ze=d(!1),ct=d(),{x:st,y:rt}=V(ye,{preventDefault:!0,handle:We,onMove(e){he.value=!1,ye.value&&(e.x>window.innerWidth-ye.value.offsetWidth&&(st.value=window.innerWidth-ye.value.offsetWidth),e.x<=0&&(st.value=0),e.y>window.innerHeight-ye.value.offsetHeight&&(rt.value=window.innerHeight-ye.value.offsetHeight),e.y<=0&&(rt.value=0))},onEnd(){he.value=!0}}),ut=d([]),dt=d({label:"",key:"",meta:{nm:""}}),bt=d(),gt=d("260px"),mt=d(!1);function vt(e){e&&(P.value=e),J.value=!0;const t=ee(u.value,W.value);be.value=t[0],z.value.set(be.value.nm,Object.assign(be.value,{encoding:"UTF-8"})),ge.value=be.value.nm,async function(){const e=await l.post("/files?action=GetFileBody",{path:"/www/server/panel/BTPanel/static/ace/ace.editor.config.json"});n.value=JSON.parse(e.message.data),console.log(n.value)}(),X(()=>{ye.value&&(ye.value.style.left=(window.innerWidth-ye.value?.offsetWidth)/2+"px",ye.value.style.top=(window.innerHeight-ye.value?.offsetHeight)/2+"px"),console.log(z.value)})}function ft(){J.value=!1}function ht(){pe.value="full",ye.value&&(st.value=0,rt.value=0,Ie.value="100%",Ce.value="100%",Ye.value="100%",xe.value="100%",fe.value=!0)}t({open:vt,close:ft,openHistory(e){vt(),ta(e)}});let pt=0;function It(){requestAnimationFrame(()=>{if(ye.value){if(ye.value.offsetWidth==pt)return;ye.value&&(st.value=(window.innerWidth-ye.value.offsetWidth)/2,rt.value=(window.innerHeight-ye.value.offsetHeight)/2),pt=ye.value.offsetWidth,It()}})}function Ct(){pe.value="cancelFull",ye.value&&(Ie.value="70%",Ce.value="70%",Ye.value="1500px",xe.value="1200px",fe.value=!1,It())}function Yt(){pe.value="toMini",Ie.value="300px",Ce.value="40px",st.value=0,rt.value=window.innerHeight-60}function xt(){bt.value.open()}function yt(){mt.value?(gt.value="290px",mt.value=!1):(gt.value="0px",mt.value=!0),It()}async function Wt(e){return(await le(e)).map(e=>({label:e.nm,key:e.path,prefix:()=>v(c,{name:ae(e.ext),color:"#fff"},null),isLeaf:"dir"!==e.type,children:void 0,meta:e}))}async function Zt(){ut.value=await Wt(P.value)}async function Gt(){const e=ie.value.split("/");e.splice(-1,1);let t=e.join("/");""==t&&(t="/"),ut.value=await Wt(t),ie.value=t,P.value=t}function At(e){se.value=e,re.value="file"==e?"Untitled file":"Untitled dir",Vt()}function Vt(e=ut.value){if(!dt.value.key)return ce.value=ut.value,ue.value=s.value,void ce.value.unshift({label:"新建文件",key:"createNewFile",isLeaf:!0,meta:{isCreate:!0}});for(let t of e){if(t.key==dt.value.key){if(t.isLeaf?ce.value=e:(de.value=t,ce.value=t.children),ce.value.unshift({label:"新建文件",key:"createNewFile",isLeaf:!0,meta:{isCreate:!0}}),t.meta&&"dir"==t.meta.type)ue.value=t.meta.path;else if(t.meta&&"dir"!==t.meta.type){let e=t.meta.path.split("/");e.splice(-1,1),ue.value=e.join("/")}else ue.value="/";return}t.isLeaf||t.children&&(de.value=t,Vt(t.children))}}function Xt(){ce.value[0].meta.isCreate&&ce.value.shift()}async function jt(){if("file"==se.value){const t=a.loading("正在创建文件，请稍后...");try{await l.post("/files?action=CreateFile",{path:ue.value+"/"+re.value}),ce.value.unshift();const e=await Wt(ue.value);de.value.children=e}catch(e){console.warn(e)}finally{t.close()}}else{const t=a.loading("正在创建目录，请稍后...");try{await l.post("/files?action=CreateDir",{path:ue.value+"/"+re.value}),ce.value.unshift();const e=await Wt(ue.value);de.value.children=e}catch(e){console.warn(e)}finally{t.close()}}}async function Ft(){try{await Zt(),a.success("刷新完成")}catch(e){console.warn(e)}}function wt(e){return e.option.meta.nm?v("span",{class:z.value.has(e.option.meta.nm)?"in-edit":""},[v(K,null,{default:()=>[e.option.label]})]):e.option.meta.isCreate?v("div",{class:"flex justify-between items-center"},[v(T,{size:"small",style:"width:170px",value:re.value,"onUpdate:value":e=>re.value=e},{default:()=>[p(" ")]}),v("div",{class:"flex justify-between items-center gap-5"},[v(D,{text:!0,type:"primary",onClick:jt},{default:()=>[p(" 确认 ")]}),v(D,{text:!0,type:"warning",onClick:Xt},{default:()=>[p(" 取消 ")]})])]):void v("span",null,[v(K,null,{default:()=>[e.option.label]})])}function Nt(e){const t=[...z.value.entries()];if(1==t.length)z.value.clear(),ge.value="";else{const a=t.findIndex(t=>t[0]==e);0==a&&(ge.value=t[a+1][0]),a>=1&&(ge.value=t[a-1][0])}q.value.delete(e),It(),X(()=>{z.value.delete(e)})}function kt(e){ge.value=e,It()}async function Ut(e){let t=e.key;const a=await Wt(t);return e.children=a,!0}function Lt(e,t){0!=t.length&&t[0]&&(t[0].meta.isCreate||(dt.value=t[0],"dir"!=t[0].meta.type&&t.length&&(z.value.has(t[0].meta.nm)||z.value.set(t[0].meta.nm,t[0].meta),kt(t[0].meta.nm))))}function Bt(){Kt.value=!1,la.value=!1,ca.value=!1}j([st,rt],([e,t])=>{ye.value&&(ye.value.style.left=e+"px",ye.value.style.top=t+"px")});const St=d(),Mt=d(""),Ht=d(!1),Jt=d(!1);function Rt(){Ht.value=!0}function Qt(){Ht.value=!1,Mt.value="",St.value=[],Jt.value=!1}async function zt(){const e=await te(P.value,Mt.value,Jt.value);St.value=e.map(e=>({label:e.nm,key:e.path,prefix:()=>v(c,{name:ae(e.ext),color:"#fff"},null),isLeaf:"dir"!==e.type,children:void 0,meta:e}))}function Dt(){Q.value.instance.execCommand("save")}async function Ot(){let e=new Map;for(let a of q.value)a[1].source!=a[1].editCode&&e.set(a[0],a[1]);if(e.size){const i=a.loading("Saving all files...");try{for(let t of e)await l.post("/files?action=SaveFileBody",{data:t[1].editCode,encoding:"utf-8",path:z.value.get(t[0])?.path}),q.value.get(t[0]).source=t[1].editCode}catch(t){console.warn(t)}finally{i.close()}}}function Tt(){q.value.get(ge.value)?.editCode!==q.value.get(ge.value)?.source?R({title:"提示",content:"您有未保存的更新，是否确认刷新文件内容？这可能会导致您的更新丢失",onConfirm:()=>Q.value.refresh()}):Q.value.refresh()}function $t(){0!=z.value.size&&Q.value.instance.execCommand("find")}function _t(){0!=z.value.size&&Q.value.instance.execCommand("replace")}function Et(){0!=z.value.size&&Q.value.instance.execCommand("gotoline")}const Kt=d(!1);function qt(){0!=z.value.size&&(Kt.value=!0)}function Pt(){Q.value.instance.setFontSize(Number(n.value.aceEditor.fontSize)),na(),Kt.value=!1}function ea(){z.value.size}function ta(e){z.value.set(`${e.nm}-${e.historyTime}`,e),ge.value=`${e.nm}-${e.historyTime}`,X(()=>{Q.value.setContent(e.sourceCode,e.sourceCode)})}function aa(e){q.value.get(e.nm).editCode=e.data,q.value.get(e.nm).source=e.data,z.value.delete(`${e.nm}-${e.historyTime}`),ge.value=e.nm,X(()=>{Q.value.setContent(e.data,e.data)})}Z(()=>{Zt()});const la=d(!1);function ia(e){Q.value.setTabType(e),n.value&&(n.value.aceEditor.useSoftTabs=e),na(),a.success("设置成功"),la.value=!1}function na(){l.post("/files?action=SaveFileBody",{data:JSON.stringify(n.value),encoding:"utf-8",path:"/www/server/panel/BTPanel/static/ace/ace.editor.config.json"})}function oa(e){z.value.get(e.nm).encoding=e.encoding,console.log(z.value,e)}const ca=d(!1),sa=F(()=>z.value.get(ge.value)?function(e,t){for(const a in t)if(t[a][0].includes(e))return a}(z.value.get(ge.value).ext,n.value.supportedModes):"Text");return(e,t)=>{const l=c,i=O,s=r,u=o,d=T,W=D,Z=$,G=_,A=E;return g(),Y(I,null,[f(J)?(g(),Y("div",{key:0,class:k(["editor-modal",{"transition-visible":f(he)}]),ref:"modalRef",style:N({width:`${f(Ie)}`,height:`${f(Ce)}`,maxWidth:`${f(Ye)}`,maxHeight:`${f(xe)}`})},[C("div",Ve,[C("span",Xe,y(e.$t("editor.onlineTextEditor")),1),C("div",je,[C("div",{class:"tool-item",onClick:Yt},[v(l,{name:"file-to-mini",size:"18"})]),f(fe)?(g(),Y("div",{key:0,class:"tool-item",onClick:Ct},[v(l,{name:"base-full-exit",size:"18"})])):(g(),Y("div",{key:1,class:"tool-item",onClick:ht},[v(l,{name:"base-full",size:"18"})])),C("div",{class:"tool-item",onClick:ft},[v(l,{name:"base-close",size:"18"})])])],512),C("div",Fe,[C("div",{class:"menu-item",onClick:Dt},[v(l,{name:"file-save",size:"20",color:"#fff"}),p(" "+y(e.$t("editor.save")),1)]),C("div",{class:"menu-item",onClick:Ot},[v(l,{name:"file-save-all",size:"18",color:"#fff"}),p(" "+y(e.$t("editor.saveAll")),1)]),C("div",{class:"menu-item",onClick:Tt},[v(l,{name:"refresh",size:"20",color:"#fff"}),p(" "+y(e.$t("editor.refresh")),1)]),C("div",{class:"menu-item",onClick:$t},[v(l,{name:"search",size:"20",color:"#fff"}),p(" "+y(e.$t("editor.search")),1)]),C("div",{class:"menu-item",onClick:_t},[v(l,{name:"file-replace",size:"16",color:"#fff"}),p(" "+y(e.$t("editor.replace")),1)]),C("div",{class:"menu-item",onClick:Et},[v(l,{name:"file-jump-line",size:"16",color:"#fff"}),p(" "+y(e.$t("editor.jumpline")),1)]),C("div",{class:"menu-item",onClick:qt},[v(l,{name:"file-font",size:"20",color:"#fff"}),p(" "+y(e.$t("editor.font")),1)]),C("div",{class:"menu-item",onClick:ea},[v(l,{name:"file-theme",size:"20",color:"#fff"}),p(" "+y(e.$t("editor.theme")),1)]),C("div",{class:"menu-item",onClick:xt},[v(l,{name:"file-help",size:"18",color:"#fff"}),p(" "+y(e.$t("editor.help")),1)])]),C("div",{class:k(["editor-container",{"editor-container-collapse":f(mt)}])},[C("div",we,[f(Ht)?(g(),Y("div",Se,[C("div",Me,[C("div",{class:"top"},[t[17]||(t[17]=C("span",{class:"top-tit"},"搜索目录文件",-1)),C("span",{class:"top-close",onClick:Qt},"X 关闭")]),C("div",He,[v(Z,null,{default:m(()=>[v(d,{placeholder:"string",value:f(Mt),"onUpdate:value":t[2]||(t[2]=e=>h(Mt)?Mt.value=e:null)},null,8,["value"]),v(W,{type:"default",style:{background:"#f1f9f3"},onClick:zt},{default:m(()=>[v(l,{name:"search",size:"16"})]),_:1})]),_:1})]),C("div",Je,[v(G,{label:"包含目录文件",style:{color:"#fff"},checked:f(Jt),"onUpdate:checked":t[3]||(t[3]=e=>h(Jt)?Jt.value=e:null)},null,8,["checked"]),t[18]||(t[18]=C("span",null,null,-1))])]),v(u,{style:{height:"calc(100%)"}},{default:m(()=>[v(s,{"block-line":"",data:f(St),"expand-on-click":"",animated:!1,"on-load":Ut,"render-label":wt,"on-update:selected-keys":Lt},null,8,["data"])]),_:1})])):(g(),Y("div",Ne,[C("div",ke,[C("div",null,y(e.$t("editor.directory"))+": "+y(f(ie)),1)]),C("div",Ue,[C("div",{class:"quick-menu-item",onClick:Gt},[v(l,{name:"file-go-back",size:"14",color:"#fff"}),p(" "+y(e.$t("editor.back")),1)]),C("div",{class:"quick-menu-item",onClick:Ft},[v(l,{name:"refresh",size:"14",color:"#fff"}),p(" "+y(e.$t("editor.refresh")),1)]),v(i,{trigger:"click",placement:"bottom"},{trigger:m(()=>[C("div",Le,[v(l,{name:"file-add",size:"12",color:"#fff"}),p(" "+y(e.$t("editor.new")),1)])]),default:m(()=>[C("div",Be,[C("div",{class:"pop-item",onClick:t[0]||(t[0]=e=>At("file"))},[v(l,{name:"file-file-fill",size:"14"}),t[15]||(t[15]=p(" 新建文件 ",-1))]),C("div",{class:"pop-item",onClick:t[1]||(t[1]=e=>At("dir"))},[v(l,{name:"file-dir",size:"14"}),t[16]||(t[16]=p(" 新建目录 ",-1))])])]),_:1}),C("div",{class:"quick-menu-item",onClick:Rt},[v(l,{name:"search",size:"14",color:"#fff"}),p(" "+y(e.$t("editor.search")),1)])]),v(u,{style:{height:"calc(100%)"}},{default:m(()=>[v(s,{"block-line":"",data:f(ut),"expand-on-click":"",animated:!1,"on-load":Ut,"render-label":wt,"on-update:selected-keys":Lt},null,8,["data"])]),_:1})]))]),C("div",Re,[C("div",{class:"sider-collapse",onClick:yt},[f(mt)?(g(),b(l,{key:1,name:"file-expand",size:"24",color:"#fff"})):(g(),b(l,{key:0,name:"file-collapse",size:"24",color:"#fff"}))]),C("div",Qe,[(g(!0),Y(I,null,x(f(z),(e,a)=>(g(),Y("div",{class:k(["tab-item",{active:f(ge)==e[0]}]),key:a,onClick:t=>kt(e[0])},[C("span",null,y(e[0]),1),f(q).get(e[0])?.source==f(q).get(e[0])?.editCode||f(Ze)?(g(),b(l,{key:0,name:"base-error",size:"16",color:"#fff",class:"cursor-pointer",onClick:L(t=>{return a=e[0],void(q.value.get(a)?.source!==q.value.get(a)?.editCode?R({title:"提示",content:"此时关闭会导致内容丢失，是否继续？",onConfirm:()=>Nt(a)}):Nt(a));var a},["stop"]),onMouseover:t[4]||(t[4]=e=>Ze.value=!0),onMouseleave:t[5]||(t[5]=e=>Ze.value=!1)},null,8,["onClick"])):f(q).get(e[0])?.source!==f(q).get(e[0])?.editCode?(g(),b(l,{key:1,name:"base-warning",size:"16",class:"cursor-pointer text-amber",onMouseover:t[6]||(t[6]=e=>Ze.value=!0),onMouseleave:t[7]||(t[7]=e=>Ze.value=!1)})):w("",!0)],10,ze))),128))]),(g(),b(S,null,[f(z).get(f(ge))?(g(),b(B(Ae),{fileInfo:f(z).get(f(ge)),theme:f(me),language:f(ve),key:f(ge),ref_key:"editorRef",ref:Q,onClick:Bt,onChange:t[8]||(t[8]=e=>function(e,{source:t,editCode:a}){if(q.value.has(e)){const l=q.value.get(e);l&&(l.source=t,l.editCode=a)}else q.value.set(e,{source:t,editCode:a})}(f(ge),e)),onGetContent:oa},null,40,["fileInfo","theme","language"])):(g(),Y("div",De,[v(A,{description:"open a file"})]))],1024)),f(z).get(f(ge))?(g(),Y(I,{key:0},[f(z).get(f(ge)).history?(g(),Y("div",Ee,[C("div",Ke,[C("div",qe," Read-only file, file is "+y(f(z).get(f(ge)).path)+", history version [ "+y(f(ne)(f(z).get(f(ge)).historyTime).format("YYYY-MM-DD HH:mm:ss"))+"] ",1),C("div",null,[v(W,{text:"",type:"primary",onClick:t[11]||(t[11]=e=>{return t=f(ge),void ct.value.doRestoreHistory(z.value.get(t).path,z.value.get(t).historyTime,z.value.get(t).nm,e=>{q.value.get(e.nm).editCode=e.data,q.value.get(e.nm).source=e.data,z.value.delete(`${e.nm}-${e.historyTime}`),ge.value=e.nm,X(()=>{Q.value.setContent(e.data,e.data)})});var t})},{default:m(()=>t[19]||(t[19]=[p("Click to restore the current history version ",-1)])),_:1,__:[19]})])])])):(g(),Y("div",Oe,[C("div",Te,"Directory:"+y(f(z).get(f(ge)).path),1),C("div",$e,[C("div",{class:"info-item",onClick:Et},"Row 1,column 30"),C("div",{class:"info-item",onClick:t[9]||(t[9]=e=>{return t=f(z).get(f(ge)).path,a=f(z).get(f(ge)).nm,void ct.value.open(t,a);var t,a})}," history version: 2 "),C("div",{class:"info-item",onClick:t[10]||(t[10]=e=>la.value=!0)},"Space:4"),C("div",_e,"Language:"+y(f(sa)),1)])]))],64)):w("",!0),t[20]||(t[20]=C("div",{class:"status-bar"},null,-1))]),U(C("div",Pe,[t[22]||(t[22]=C("div",{class:"tit"},"设置编辑器字体大小",-1)),C("div",et,[v(d,{value:f(n).aceEditor.fontSize,"onUpdate:value":t[12]||(t[12]=e=>f(n).aceEditor.fontSize=e),onKeydown:H(Pt,["enter"])},null,8,["value"]),v(W,{type:"primary",onClick:Pt},{default:m(()=>t[21]||(t[21]=[p("保存",-1)])),_:1,__:[21]})])],512),[[M,f(Kt)]]),U(C("div",tt,[t[25]||(t[25]=C("div",{class:"tab-item border tit"}," Set tabs ",-1)),C("div",{class:k(["tab-item","can-hover",{choosed:1==f(n).aceEditor.useSoftTabs}]),onClick:t[13]||(t[13]=e=>ia(!0))},[t[23]||(t[23]=C("span",null,"Indent using spaces",-1)),1==f(n).aceEditor.useSoftTabs?(g(),Y("i",at)):w("",!0)],2),C("div",{class:k(["tab-item","can-hover",{choosed:0==f(n).aceEditor.useSoftTabs}]),onClick:t[14]||(t[14]=e=>ia(!1))},[t[24]||(t[24]=C("span",null,'Indent using "Tab"',-1)),0==f(n).aceEditor.useSoftTabs?(g(),Y("i",lt)):w("",!0)],2),t[26]||(t[26]=C("div",{class:"tab-item border tit"}," Set the tab length ",-1)),(g(),Y(I,null,x(6,e=>C("div",{class:k(["tab-item","can-hover",{choosed:f(n).aceEditor.tabSize==e}]),key:e,onClick:t=>{return l=e,Q.value.setTabSize(l),n.value.aceEditor&&(n.value.aceEditor.tabSize=l),na(),a.success("设置成功"),void(la.value=!1);var l}},[C("span",null,y(e),1),f(n).aceEditor.tabSize==e?(g(),Y("i",nt)):w("",!0)],10,it)),64))],512),[[M,f(la)]]),U(C("div",ot,t[27]||(t[27]=[C("div",{class:"tab-item border tit"}," Set file save encoding format ",-1)]),512),[[M,f(ca)]])],2)],6)):w("",!0),v(Ge,{ref_key:"helpModalRef",ref:bt},null,512),v(oe,{ref_key:"historyVersionRef",ref:ct,onOpenFile:ta,onRestoreHistory:aa},null,512)],64)}}});e("default",s(ct,[["__scopeId","data-v-d2e7bac1"]]))}}});
