import{o as e,E as a,d as s,m as l,F as t,G as n,z as i,H as r,e as o}from"./page_layout.js?v=1752142539265";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import{_ as p}from"./public.js?v=1752142539265";import{k as u,P as m,r as c,e as x,a1 as _,X as v,a2 as g,V as f,a3 as w,U as y,Q as h,W as b,j as $,at as C,au as L,an as j,N as k}from"./vue.js?v=1752142539265";import"./index.js?v=1752142539265";import{cx as z,cy as P,cz as A,aq as U,ay as q,bX as B,cA as F,bR as I}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";const R={class:"font-600"},H={class:"info flex mt-50px w-820px mx-auto"},X={class:"tips py-40px w-50%"},E={class:"font-600 text-16px"},G={class:"mt-10px mb-20px font-600 text-16px"},K={key:0,class:"w-50% p-30px"},N={class:"w-100%"},Q={class:"w-100%"},S={class:"flex justify-end mt-8px w-320px"},V={key:1,class:"w-50% p-30px"},W={class:"font-600 text-left"},D={class:"underline"},J={class:"text-16px my-20px text-left"},M={key:0,class:"ml-5px"},O=o(u({__name:"index",setup(o){const{t:u}=m(),O=c(null),T=c(null),Y=x({email:"",password:"",isPro:1}),Z={email:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},ee=x({username:"",password:"",isPro:1}),ae={username:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},se=c(!1),le=c(!1),te=e=>{le.value="login"===e},ne=c(60),ie=c(!0);let re;const oe=async()=>{var e;await(null==(e=O.value)?void 0:e.validate());const{message:t}=await a(k(Y));s(t)&&(t.status?(se.value=!0,l.success(t.msg)):l.error(t.msg))},de=async()=>{var e;await(null==(e=T.value)?void 0:e.validate());try{await t(k(le.value?ee:{username:Y.email,password:Y.password,isPro:1}))}catch(a){return void(I(a,"message.validated",!0)||(se.value=!0))}await n({force:1}),i.push("/")},pe=()=>{ie.value=!1,re&&clearInterval(re),re=setInterval((()=>{ne.value--,ne.value<=0&&(clearInterval(re),ne.value=60,ie.value=!0)}),1e3);let e=le.value?ee.username:Y.email;r({email:e})};return(a,s)=>{const l=p,t=U,n=A,i=d,r=q,o=P,u=e,m=z,c=B,x=F;return v(),_(x,{class:"box pt-100px flex items-center text-center"},{default:g((()=>[f("h1",R,w(a.$t("Login.index_26")),1),f("div",H,[f("div",X,[s[7]||(s[7]=f("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),f("div",E,w(a.$t("Login.index_29")),1),f("div",G,w(a.$t("Login.index_30")),1),h(l,{class:"text-left pl-30px w-400px"},{default:g((()=>[f("li",null,w(a.$t("Login.index_27")),1),f("li",null,w(a.$t("Login.index_28")),1)])),_:1})]),b(se)?(v(),y("div",V,[f("h3",W,[$(w(a.$t("Login.index_35"))+": ",1),f("span",D,w(b(le)?b(ee).username:b(Y).email),1)]),f("div",J,[$(w(a.$t("Login.index_36"))+": ",1),s[9]||(s[9]=f("span",{class:"underline"},"support@aapanel.com",-1))]),h(c,null,{default:g((()=>[h(r,{type:"primary",size:"large",onClick:s[6]||(s[6]=e=>de())},{default:g((()=>[$(w(a.$t("Login.index_37")),1)])),_:1}),h(r,{size:"large",onClick:pe,disabled:!b(ie)},{default:g((()=>[$(w(a.$t("Login.index_38"))+" ",1),b(ie)?j("",!0):(v(),y("span",M,"("+w(b(ne))+")",1))])),_:1},8,["disabled"])])),_:1})])):(v(),y("div",K,[h(m,{"default-value":"signup",size:"large",animated:"","onUpdate:value":te},{default:g((()=>[h(o,{name:"signup",tab:"Sign up",class:"text-left"},{default:g((()=>[h(i,{ref_key:"signFormRef",ref:O,model:b(Y),rules:Z,size:"large"},{default:g((()=>[h(n,{path:"email"},{default:g((()=>[h(t,{value:b(Y).email,"onUpdate:value":s[0]||(s[0]=e=>b(Y).email=e),class:"w-320px!",placeholder:a.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),h(n,{path:"password"},{default:g((()=>[h(t,{value:b(Y).password,"onUpdate:value":s[1]||(s[1]=e=>b(Y).password=e),class:"w-320px!",type:"password",placeholder:a.$t("Config.Panel.index_66")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",N,[h(r,{type:"primary",onClick:oe,size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[$(w(a.$t("Login.index_31")),1)])),_:1})])])),_:1}),h(o,{name:"login",tab:"Login",class:"text-left"},{default:g((()=>[h(i,{ref_key:"loginFormRef",ref:T,model:b(ee),rules:ae,size:"large"},{default:g((()=>[h(n,{path:"username"},{default:g((()=>[h(t,{value:b(ee).username,"onUpdate:value":s[2]||(s[2]=e=>b(ee).username=e),class:"w-320px!",placeholder:a.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),h(n,{path:"password"},{default:g((()=>[h(t,{value:b(ee).password,"onUpdate:value":s[3]||(s[3]=e=>b(ee).password=e),class:"w-320px!",type:"password",placeholder:a.$t("Config.Panel.index_66"),onKeyup:s[4]||(s[4]=C(L((e=>de()),["prevent"]),["enter"]))},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",Q,[h(r,{type:"primary",onClick:s[5]||(s[5]=e=>de()),size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[$(w(a.$t("Login.index_32")),1)])),_:1}),f("div",S,[h(u,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:g((()=>s[8]||(s[8]=[$("Forget Password>>")]))),_:1,__:[8]})])])])),_:1})])),_:1})]))])])),_:1})}}}),[["__scopeId","data-v-d3e16670"]]);export{O as default};
