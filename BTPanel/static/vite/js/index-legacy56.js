System.register(["./page_layout-legacy.js?v=1764233927359","./public-legacy.js?v=1764233927359","./vue-legacy.js?v=1764233927359","./naive-legacy.js?v=1764233927359","./common-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1764233927359","./__commonjsHelpers__-legacy.js?v=1764233927359"],function(t,e){"use strict";var n,a,i,o,l,r,s,d,u,p,c,x,y,m,v,A,f,h,g,b,w,_,M,S,C,T,k,I,B,N,O,L,q,R,W,J,Y,E,z,U,$,Q,F,G,P,j,Z,V,D,H,K,X,tt,et,nt,at,it,ot,lt,rt,st,dt,ut,pt;return{setters:[t=>{n=t.bf,a=t.i,i=t.p,o=t.G,l=t._,r=t.a6,s=t.x,d=t.cF,u=t.cA,p=t.a9,c=t.n,x=t.k,y=t.T,m=t.bj,v=t.q,A=t.cx,f=t.m,h=t.P,g=t.d},t=>{b=t.i,w=t.d,_=t.J,M=t.p},t=>{S=t.R,C=t.V,T=t.W,k=t.k,I=t.r,B=t.aI,N=t.o,O=t.l,L=t.v,q=t.U,R=t.ad,W=t.t,J=t.P,Y=t.ae,E=t.ao,z=t.c,U=t.aJ,$=t.ak,Q=t.a3,F=t.F,G=t.O,P=t.j,j=t.a4,Z=t.S,V=t.X,D=t.x,H=t.a2},t=>{K=t.G,X=t.dT,tt=t.dY,et=t.aC,nt=t.dh,at=t.dS,it=t.dV,ot=t.dj,lt=t.df,rt=t.e2},t=>{st=t.m,dt=t.O,ut=t.U},t=>{pt=t._},null],execute:function(){var e=document.createElement("style");e.textContent=".n-radio-group .n-radio-button[data-v-6be620d4]{padding:0 10px}\n/*$vite$:1*/",document.head.appendChild(e);const ct=t=>n.post("/config?action=SetControl",t,{requestOptions:{loading:a.global.t("Monitor.API.system_1"),successMessage:!0}}),xt=t=>n.post("/ajax?action=GetCpuIo",t),yt={class:"flex-center h-full"},mt=i({},[["render",function(t,e){const n=K;return C(),S("div",yt,[T(n,{size:"large"})])}]]),vt=["title"],At=k({__name:"index",setup(t){const e=I(null),n=I(null),{isFullscreen:a,toggle:i}=B(n),r=()=>{i()};return N(()=>{e.value&&(n.value=o(e.value,"n-card"))}),(t,n)=>{const i=l;return O((C(),S("div",{ref_key:"iconRef",ref:e,class:"inline-flex cursor-pointer ml-8px",title:t.$t("Monitor.System.index_27"),onClick:r},[T(i,{ref_key:"iconRef",ref:e,name:"base-full-exit",size:"22"},null,512)],8,vt)),[[L,q(a)]])}}}),ft={class:"flex"},ht=i(k({__name:"index",props:R({day:{default:30}},{value:{default:()=>[]},valueModifiers:{}}),emits:R(["refresh"],["update:value"]),setup(t,{emit:e}){const n=W(t,"day"),a=e,{t:i}=J(),o=Y(t,"value"),p=I(),c=I(),x=I("today"),y=I(null),m=I(!1),v=[{label:i("Public.Search.Yesterday"),value:"yesterday"},{label:i("Public.Search.Today"),value:"today"},{label:i("Public.Search.Last7"),value:"7"}],{x:A,y:f,width:h,height:g}=E(p),b=z(()=>A.value+h.value),w=z(()=>f.value+g.value);U(c,()=>{m.value=!1});const _=t=>{"custom"!==t&&(y.value=null,o.value=N())},M=t=>{s(t)&&t[0]!==t[1]&&(o.value=t.map(t=>d(t)),m.value=!1)},k=()=>{m.value||(m.value=!0)},B=t=>{const e=new Date,a=st(e,-n.value);return dt(a).getTime()>=t||dt(e).getTime()<t};function N(){const t=new Date;let e={start:dt(t),end:t};switch(x.value){case"yesterday":e=u(st(t,-1));break;case"7":e.start=dt(st(t,-6))}return[d(e.start),d(e.end)]}0===o.value.length&&(o.value=N());const O=()=>{a("refresh")};return(t,e)=>{const n=tt,a=X,i=l,o=et,s=r,d=nt;return C(),S("div",ft,[T(a,{value:q(x),"onUpdate:value":[e[0]||(e[0]=t=>$(x)?x.value=t:null),_],size:"small"},{default:Q(()=>[(C(),S(F,null,G(v,t=>T(n,{key:t.value,value:t.value},{default:Q(()=>[P(j(t.label),1)]),_:2},1032,["value"])),64)),T(n,{ref_key:"customRef",ref:p,value:"custom",onClick:k},{default:Q(()=>[P(j(t.$t("Public.Search.Custom")),1)]),_:1},512)]),_:1},8,["value"]),T(o,{size:"small",class:"ml-10px px-8px",onClick:O},{default:Q(()=>[T(i,{name:"refresh",size:"14"})]),_:1}),T(d,{show:q(m),placement:"bottom",trigger:"manual",x:q(b),y:q(w),"show-arrow":!1,style:{padding:0}},{trigger:Q(()=>e[2]||(e[2]=[Z("div",{class:"hidden"},null,-1)])),default:Q(()=>[Z("div",{ref_key:"popoverContentRef",ref:c},[T(s,{value:q(y),"onUpdate:value":[e[1]||(e[1]=t=>$(y)?y.value=t:null),M],type:"daterange",panel:!0,actions:null,"is-date-disabled":B},null,8,["value"])],512)]),_:1},8,["show","x","y"])])}}}),[["__scopeId","data-v-6be620d4"]]),gt=["title"],bt=k({__name:"index",setup(t){const e=I(null),n=I(null),{isFullscreen:a,toggle:i}=B(n),r=()=>{i()};return N(()=>{e.value&&(n.value=o(e.value,"n-card"))}),(t,n)=>{const i=l;return O((C(),S("div",{ref_key:"iconRef",ref:e,class:"inline-flex cursor-pointer ml-8px",title:t.$t("Monitor.System.index_26"),onClick:r},[T(i,{ref_key:"iconRef",ref:e,name:"base-full",size:"22"},null,512)],8,gt)),[[L,!q(a)]])}}});function wt(){const{t:t}=J(),e=V("--color-text-2"),n=V("--color-border");function a(t,e){let n=0;const a=(e-t)/3600/1e3,i=a/24;return n=a<=1?.02:a<=3?.5:a<=6?1:a<=12?3:a<=20?6:a<=24?8:i<=3?14:i<=7?24:168,36e5*n}function i(t,e){const n=e.size.contentSize[0],a=e.size.contentSize[1],i=window.innerWidth,l=window.innerHeight,r=o(t,"n-spin-content")?.getBoundingClientRect(),s=e.pos[0]+(r?.left||0),d=e.pos[1]+(r?.top||0);let u=e.pos[0]+20,p=e.pos[1]+20;return s+n+20>i&&(u=e.pos[0]-n-20),d+a+20>l&&(p=e.pos[1]-a-20),p<0-(r?.top||0)&&(p=0-(r?.top||0)+10),[u,p]}return"undefined"!=typeof window&&(window.__copyText=b),{option:D({}),getAddTime:function(t,e){const n=new Date,a=n.getMonth()+1,i=e.split(" ")[0].split("/");parseInt(i[0]);const o=t.split(" "),l=o[0].split("/"),r=o[1].split(":"),s=parseInt(l[0]);let d=n.getFullYear();s<a&&(d-=1);const u=parseInt(l[1]),p=parseInt(r[0]),c=parseInt(r[1]);return new Date(d,s-1,u,p,c).getTime()},getInterval:a,renderTooltip:function(){return{trigger:"axis",axisPointer:{type:"cross"},padding:0,backgroundColor:"transparent",borderColor:"transparent",position:(t,e,n,a,o)=>i(n,{pos:t,size:o})}},renderTable:function(e,n=""){let a="",i="",o=3,l=[{title:"PID",index:1},{title:t("Monitor.System.index_28"),width:"120px",index:2},{title:t("Monitor.System.index_29"),index:0,render:t=>`${t[0]}%`},{title:t("Monitor.System.index_30"),index:4}];return"memory"===n&&(l=[{title:"PID",index:1},{title:t("Monitor.System.index_28"),width:"120px",index:2},{title:t("Monitor.System.index_31"),index:0,render:t=>c(x(t[0]))},{title:t("Monitor.System.index_30"),index:4}]),"disk"===n&&(o=5,l=[{title:"PID",index:3},{title:t("Monitor.System.index_28"),width:"100px",index:4},{title:t("Monitor.System.index_32"),index:0,render:t=>c(x(t[0]))},{title:t("Monitor.System.index_18"),index:1,render:t=>c(x(t[1]))},{title:t("Monitor.System.index_19"),index:2,render:t=>c(x(t[2]))},{title:t("Monitor.System.index_30"),index:6}]),l.forEach(t=>{a+=`<th style="width: ${t.width||"auto"};">${t.title}</th>`}),e.forEach(e=>{let n="";l.forEach(t=>{n+=`<td style="width: ${t.width||"auto"}; border-bottom: none; cursor: pointer; padding-top: 4px;" onclick="window.__copyText('${t.render?t.render(e):e[t.index]}')">\n\t\t\t\t\t${t.render?t.render(e):e[t.index]}\n\t\t\t\t</td>`});const a=e[o],r=a.toString().replace(/'/g,"\\'");i+=`<tr>${n}</tr><tr style="color: var(--color-text-4)"><td \n\t\t\t\tcolspan="${l.length}" \n\t\t\t\tstyle="\n\t\t\t\t\tborder-bottom: 1px solid var(--color-border); \n\t\t\t\t\tcursor: pointer; \n\t\t\t\t\twhite-space: nowrap; \n\t\t\t\t\toverflow: hidden; \n\t\t\t\t\tpadding-top: 0px;\n\t\t\t\t\tpadding-bottom: 15px;\n\t\t\t\t\tline-height: 1;\n\t\t\t\t\ttext-overflow: ellipsis;" \n\t\t\t\t\ttitle="CMD：${a}" \n\t\t\t\t\tonclick="window.__copyText('${r}')"\n\t\t\t\t>\n\t\t\t\t<span style="font-weight: bold;">CMD：</span>${a}\n\t\t\t\t<span style="color: #20a53a; cursor: pointer;">${t("Public.Btn.Copy")}</span>\n\t\t\t</td></tr>`}),`<div>\n\t\t\t\t<div style="display: flex; align-items: center; gap: 5px; margin-bottom: 10px; font-weight: bold; color: var(--color-text-4)">\n\t\t\t\t\t<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15.000000" height="15.000000" fill="none">\n\t\t\t\t\t\t<rect id=" " width="12.000000" height="12.000000" x="0.000000" y="0.000000" />\n\t\t\t\t\t\t<path id="矢量 70" d="M10.5145 1.73672C10.5777 1.73672 10.6316 1.79063 10.6316 1.85391L10.6316 10.1742C10.6316 10.2375 10.5777 10.2914 10.5145 10.2914L1.48633 10.2914C1.42305 10.2914 1.36914 10.2375 1.36914 10.1742L1.36914 1.85391C1.36914 1.79063 1.42305 1.73672 1.48633 1.73672L10.5145 1.73672M10.5145 1.15079L1.48633 1.15079C1.09961 1.15079 0.783203 1.46719 0.783203 1.85391L0.783203 10.1742C0.783203 10.5609 1.09961 10.8773 1.48633 10.8773L10.5145 10.8773C10.9012 10.8773 11.2176 10.5609 11.2176 10.1742L11.2176 1.85391C11.2176 1.46719 10.9012 1.15079 10.5145 1.15079Z" fill="rgb(58,66,77)" fill-rule="nonzero" />\n\t\t\t\t\t\t<path id="矢量 71" d="M2.92969 6.01408L3.86719 6.01408L3.86719 8.75626L2.92969 8.75626L2.92969 6.01408ZM5.53125 3.21564L6.46875 3.21564L6.46875 8.75626L5.53125 8.75626L5.53125 3.21564ZM8.25 4.49767L9.1875 4.49767L9.1875 8.75743L8.25 8.75743L8.25 4.49767Z" fill="rgb(58,66,77)" fill-rule="nonzero" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Process resource usage ranking</span>\n\t\t\t\t</div>\n\t\t\t<div class="process-top5">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>${a}</thead>\n\t\t\t\t\t<tbody>${i}</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>`},renderDataZoom:function(t,e){return[{type:"inside",start:0,end:100,zoomLock:!0,...t},{type:"slider",bottom:24,start:0,end:100,handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2},...e}]},renderToolbox:function(){return{feature:{dataZoom:{yAxisIndex:"none"},restore:{}},top:0,right:"2%"}},renderXAxis:function(t,n){return{type:"time",min:t,minInterval:a(t,n),axisLine:{lineStyle:{color:e.value}},axisLabel:{formatter(t){const e=p(t,"MM-dd HH:mm").split(" ");return`${e[0]}\n${e[1]}`}}}},renderYAxis:function(t){return{name:t,scale:!0,min:0,splitLine:{show:!0,lineStyle:{color:n.value}},nameTextStyle:{color:e.value,fontSize:12,align:"left"},axisLine:{lineStyle:{color:e.value}}}},renderSeries:function(t,e){return{name:t,smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{color:e},lineStyle:{width:2,color:e}}},getTooltip:i}}const _t={class:"flex items-center"},Mt=k({__name:"system-load",props:{day:{default:30}},setup(t){const{t:e}=J(),a=V("--color-text-2"),i=new Date,o=I([d(dt(i)),d(i)]),l=I(!1),{option:r,getAddTime:u,renderTooltip:c,renderTable:v,renderXAxis:A,renderYAxis:f,renderSeries:h,renderDataZoom:g,renderToolbox:b,getTooltip:M}=wt(),{loading:S,setLoading:k}=w(),B=async()=>{try{k(!0);const{message:i}=await(t={start:o.value[0],end:o.value[1]},n.post("/ajax?action=get_load_average",t));if(s(i)){const t=[],n=[],s=[],d=[];for(let e=0;e<i.length;e++){const a=i[e];a.time=u(a.addtime,i[i.length-1].addtime),n.push([a.time,a.pro,a]),t.push([a.time,a.one,a]),s.push([a.time,a.five,a]),d.push([a.time,a.fifteen,a])}let y=o.value[1],w=o.value[0];i.length>0?(y=i[0].time,w=ut(i[i.length-1].time).getTime(),l.value=!1):l.value=!0,function(t,n,i){r.value={legend:{top:"16px",right:"16%",textStyle:{color:a.value},data:[e("Monitor.System.index_9"),e("Monitor.System.index_10"),e("Monitor.System.index_11")]},tooltip:{...c(),formatter(t){let n="",a="",i="";const o=Object.entries(t);return o.forEach(([t,l])=>{const{data:r}=l,[,s,d]=r;if(o.length>1&&"0"===t){const t=d.pro;a+=`<div class="select-data">\n\t\t\t\t\t\t\t<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:rgb(255, 140, 0);"></span>\n\t\t\t\t\t\t\t<span>${e("Monitor.System.index_14")}${m(t)?t.toFixed(2):0}%</span>\n\t\t\t\t\t\t</div>`}"0"===t&&(i=v(d.cpu_top)),n=l.axisValue;const u="System resource usage"===l.seriesName?`${l.seriesName}：`:"",p=m(s)?s.toFixed(2):"0";a+=`\n\t\t\t\t\t<div class="select-data">\n\t\t\t\t\t\t${l.marker}\n\t\t\t\t\t\t<span>${u}${p}%</span>\n\t\t\t\t\t</div>\n\t\t\t\t`}),`<div class="echarts-tooltip" style="width: 550px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${n?p(n):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t<div style="display: flex; flex-wrap: wrap; gap: 8px; justify-content: space-between;">\n\t\t\t\t\t\t\t${a}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},toolbox:b(),dataZoom:g({xAxisIndex:[0,1]},{left:"5%",right:"5%",xAxisIndex:[0,1]}),grid:[{left:"5%",bottom:92,right:"55%",width:"40%",height:"auto"},{bottom:92,left:"55%",width:"40%",height:"auto"}],xAxis:[{...A(t,n),gridIndex:0},{...A(t,n),gridIndex:1}],yAxis:[{...f(e("Monitor.System.index_12")),gridIndex:0,max:function(t){return t.max>=100?Math.ceil(t.max):t.max>=80?100:x((t.max+10).toString().slice(0,1)+"0")}},{...f(e("Monitor.System.index_13")),gridIndex:1}],series:[{type:"line",xAxisIndex:0,yAxisIndex:0,data:i.pro,...h(e("Monitor.System.index_12"),"rgb(255, 140, 0)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.one,...h(e("Monitor.System.index_9"),"rgb(30, 144, 255)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.five,...h(e("Monitor.System.index_10"),"rgb(0, 178, 45)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.fifteen,...h(e("Monitor.System.index_11"),"rgb(147, 38, 255)")}]}}(w,y,{one:t,pro:n,five:s,fifteen:d})}}finally{k(!1)}var t},O=I(),{initChartEvent:L}=_(O,{getTooltip:M,renderTooltip:c}),R=async()=>{await B(),L()};return N(()=>{R()}),(t,e)=>{const n=bt,a=ht,i=At,s=mt,d=y,u=at;return C(),H(u,{class:"h-388px"},{header:Q(()=>[Z("div",_t,[Z("span",null,j(t.$t("Monitor.System.index_8")),1),T(n)])]),"header-extra":Q(()=>[T(a,{value:q(o),"onUpdate:value":[e[0]||(e[0]=t=>$(o)?o.value=t:null),R],day:t.day,onRefresh:R},null,8,["value","day"]),T(i)]),default:Q(()=>[T(d,{class:"h-full",show:q(S)},{default:Q(()=>[q(l)?(C(),H(s,{key:0})):(C(),H(pt,{key:1,ref_key:"chartRef",ref:O,type:"line",height:"100%",option:q(r)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),St={class:"flex items-center"},Ct=k({__name:"system-cpu",props:{day:{default:30}},setup(t){const{t:e}=J(),n=new Date,a=I([d(dt(n)),d(n)]),i=I(!1),{option:o,getAddTime:l,renderTooltip:r,renderTable:u,renderXAxis:c,renderYAxis:x,renderSeries:v,renderDataZoom:A,renderToolbox:f,getTooltip:h}=wt(),{loading:g,setLoading:b}=w(),M=async()=>{try{b(!0);const{message:t}=await xt({start:a.value[0],end:a.value[1]});if(s(t)){const n=[];for(let e=0;e<t.length;e++){const a=t[e];a.time=l(a.addtime,t[t.length-1].addtime),n.push([a.time,a.pro,a])}let s=a.value[1],d=a.value[0];t.length>0?(s=t[0].time,d=ut(t[t.length-1].time).getTime(),i.value=!1):i.value=!0,function(t,n,a){o.value={tooltip:{...r(),formatter(t){let n="",a="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:o}=e,[,l,r]=o;"0"===t&&(i=u(r.cpu_top)),n=e.axisValue,a+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}：${m(l)?l.toFixed(2):0}%</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 550px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${n?p(n):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${a}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},toolbox:f(),dataZoom:A(),xAxis:{...c(t,n)},yAxis:{...x("CPU"),max:100},series:[{type:"line",data:a.cpu,...v("CPU","rgb(0, 153, 238)")}]}}(d,s,{cpu:n})}}finally{b(!1)}},S=I(),{initChartEvent:k}=_(S,{getTooltip:h,renderTooltip:r}),B=async()=>{await M(),k()};return N(()=>{B()}),(t,e)=>{const n=bt,l=ht,r=At,s=mt,d=y,u=at;return C(),H(u,{class:"h-388px"},{header:Q(()=>[Z("div",St,[e[1]||(e[1]=Z("span",null,"CPU",-1)),T(n)])]),"header-extra":Q(()=>[T(l,{value:q(a),"onUpdate:value":[e[0]||(e[0]=t=>$(a)?a.value=t:null),B],day:t.day,onRefresh:B},null,8,["value","day"]),T(r)]),default:Q(()=>[T(d,{class:"h-full",show:q(g)},{default:Q(()=>[q(i)?(C(),H(s,{key:0})):(C(),H(pt,{key:1,ref_key:"chartRef",ref:S,type:"line",height:"100%",option:q(o)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),Tt={class:"flex items-center"},kt=k({__name:"system-memory",props:{day:{default:30}},setup(t){const{t:e}=J(),n=new Date,a=I([d(dt(n)),d(n)]),i=I(!1),{option:o,getAddTime:l,renderTooltip:r,renderTable:u,renderXAxis:c,renderYAxis:x,renderSeries:v,renderDataZoom:A,renderToolbox:f,getTooltip:h}=wt(),{loading:g,setLoading:b}=w(),M=async()=>{try{b(!0);const{message:t}=await xt({start:a.value[0],end:a.value[1]});if(s(t)){const n=[];for(let e=0;e<t.length;e++){const a=t[e];a.time=l(a.addtime,t[t.length-1].addtime),n.push([a.time,a.mem,a])}let s=a.value[1],d=a.value[0];t.length>0?(s=t[0].time,d=ut(t[t.length-1].time).getTime(),i.value=!1):i.value=!0,function(t,n,a){o.value={tooltip:{...r(),formatter(t){let n="",a="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:o}=e,[,l,r]=o;"0"===t&&(i=u(r.memory_top,"memory")),n=e.axisValue,a+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}：${m(l)?l.toFixed(2):0}%</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 590px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${n?p(n):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${a}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},toolbox:f(),dataZoom:A(),xAxis:{...c(t,n)},yAxis:{...x(e("Monitor.System.index_16")),max:100},series:[{type:"line",data:a.memory,...v(e("Monitor.System.index_16"),"rgb(0, 153, 238)")}]}}(d,s,{memory:n})}}finally{b(!1)}},S=I(),{initChartEvent:k}=_(S,{getTooltip:h,renderTooltip:r}),B=async()=>{await M(),k()};return N(()=>{B()}),(t,e)=>{const n=bt,l=ht,r=At,s=mt,d=y,u=at;return C(),H(u,{class:"h-388px"},{header:Q(()=>[Z("div",Tt,[Z("span",null,j(t.$t("Monitor.System.index_16")),1),T(n)])]),"header-extra":Q(()=>[T(l,{value:q(a),"onUpdate:value":[e[0]||(e[0]=t=>$(a)?a.value=t:null),B],day:t.day,onRefresh:B},null,8,["value","day"]),T(r)]),default:Q(()=>[T(d,{class:"h-full",show:q(g)},{default:Q(()=>[q(i)?(C(),H(s,{key:0})):(C(),H(pt,{key:1,ref_key:"chartRef",ref:S,type:"line",height:"100%",option:q(o)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),It={class:"flex items-center"},Bt="KB",Nt=k({__name:"system-disk",props:{day:{default:30}},setup(t){const{t:e}=J(),a=V("--color-text-2"),i=new Date,o=I([d(dt(i)),d(i)]),l=I(!1),{option:r,getAddTime:u,renderTooltip:v,renderTable:A,renderXAxis:f,renderYAxis:h,renderSeries:g,renderDataZoom:b,renderToolbox:M,getTooltip:S}=wt(),{loading:k,setLoading:B}=w(),O=t=>x(c(t,!1,3,Bt)),L=async()=>{try{B(!0);const{message:i}=await(t={start:o.value[0],end:o.value[1]},n.post("/ajax?action=GetDiskIo",t));if(s(i)){const t=[],n=[],s=[],d=[];for(let a=0;a<i.length;a++){const o=i[a],l=O(o.read_bytes),r=O(o.write_bytes),p=o.read_time+o.write_time;o.time=u(o.addtime,i[i.length-1].addtime),t.push([o.time,l,o,`${Bt}/s`]),n.push([o.time,r,o,`${Bt}/s`]),s.push([o.time,p,o,`${e("Public.Unit.Time",p)}/s`]),d.push([o.time,o.read_count+o.write_count,o,"ms"])}let c=o.value[1],x=o.value[0];i.length>0?(c=i[0].time,x=ut(i[i.length-1].time).getTime(),l.value=!1):l.value=!0,function(t,n,i){r.value={legend:{top:"16px",textStyle:{color:a.value},data:[e("Monitor.System.index_18"),e("Monitor.System.index_19"),e("Monitor.System.index_20"),e("Monitor.System.index_21")]},tooltip:{...v(),formatter(t){let n="",a="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:o}=e,[,l,r,s]=o;"0"===t&&(i=A(r.disk_top,"disk")),n=e.axisValue,a+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}：${m(l)?l.toFixed(2):0}  ${s}</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 680px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${n?p(n):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t<div style="display: grid; grid-template-columns: 0.5fr 1fr; gap: 8px;">\n\t\t\t\t\t\t\t${a}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},toolbox:M(),dataZoom:b(),xAxis:{...f(t,n)},yAxis:{...h(e("Monitor.System.index_22",[Bt]))},series:[{type:"line",data:i.read,...g(e("Monitor.System.index_18"),"rgb(255, 70, 131)")},{type:"line",data:i.write,...g(e("Monitor.System.index_19"),"rgba(46, 165, 186, .7)")},{type:"line",data:i.countTotal,...g(e("Monitor.System.index_20"),"rgba(30, 144, 255)")},{type:"line",data:i.timeTotal,...g(e("Monitor.System.index_21"),"rgba(255, 140, 0)")}]}}(x,c,{read:t,write:n,timeTotal:s,countTotal:d})}}finally{B(!1)}var t},R=I(),{initChartEvent:W}=_(R,{getTooltip:S,renderTooltip:v}),Y=async()=>{await L(),W()};return N(()=>{Y()}),(t,e)=>{const n=bt,a=ht,i=At,s=mt,d=y,u=at;return C(),H(u,{class:"h-388px"},{header:Q(()=>[Z("div",It,[Z("span",null,j(t.$t("Monitor.System.index_17")),1),T(n)])]),"header-extra":Q(()=>[T(a,{value:q(o),"onUpdate:value":[e[0]||(e[0]=t=>$(o)?o.value=t:null),Y],day:t.day,onRefresh:Y},null,8,["value","day"]),T(i)]),default:Q(()=>[T(d,{class:"h-full",show:q(k)},{default:Q(()=>[q(l)?(C(),H(s,{key:0})):(C(),H(pt,{key:1,ref_key:"chartRef",ref:R,type:"line",height:"100%",option:q(r)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),Ot={class:"flex whitespace-pre-wrap items-center"},Lt={class:"w-100px"},qt="KB",Rt=k({__name:"system-network",props:{day:{default:30}},setup(t){const{t:e}=J(),a=V("--color-text-2"),i=new Date,o=I([d(dt(i)),d(i)]),l=I("all"),r=I([]),u=I(!1),{option:v,getAddTime:A,renderTooltip:f,renderXAxis:h,renderYAxis:g,renderSeries:b,renderDataZoom:M,renderToolbox:S,getTooltip:k}=wt(),{loading:B,setLoading:O}=w(),L=t=>x(c(1024*t,!1,3,qt)),R=t=>{r.value.length>0||(r.value=Object.keys(t).map(t=>({label:t,value:t})),r.value.unshift({label:e("Public.All"),value:"all"}))},W=async()=>{try{O(!0);const{message:i}=await(t={start:o.value[0],end:o.value[1]},n.post("/ajax?action=GetNetWorkIo",t));if(s(i)){const t=[],n=[];for(let e=0;e<i.length;e++){const a=i[e],o="all"===l.value?a.up:a.up_packets[l.value],r="all"===l.value?a.down:a.down_packets[l.value],s=L(o),d=L(r);a.time=A(a.addtime,i[i.length-1].addtime),t.push([a.time,s,a,`${qt}/s`]),n.push([a.time,d,a,`${qt}/s`])}let r=o.value[1],s=o.value[0];i.length>0?(r=i[0].time,s=ut(i[i.length-1].time).getTime(),u.value=!1,R(i[0].down_packets)):(u.value=!0,R({})),function(t,n,i){v.value={legend:{top:"16px",textStyle:{color:a.value},data:[e("Monitor.System.index_24"),e("Monitor.System.index_25")]},tooltip:{...f(),formatter(t){let n="",a="";return Object.entries(t).forEach(([,t])=>{const{data:e}=t,[,i,,o]=e;n=t.axisValue,a+=`<div class="select-data">\n\t\t\t\t\t\t${t.marker}\n\t\t\t\t\t\t<span>${t.seriesName}：${m(i)?i.toFixed(2):0}  ${o}</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 280px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${n?p(n):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${a}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},toolbox:S(),dataZoom:M(),xAxis:{...h(t,n)},yAxis:{...g(e("Monitor.System.index_22",[qt]))},series:[{type:"line",data:i.up,...b(e("Monitor.System.index_24"),"rgb(255, 70, 131)")},{type:"line",data:i.down,...b(e("Monitor.System.index_25"),"rgba(46, 165, 186, .7)")}]}}(s,r,{up:t,down:n})}}finally{O(!1)}var t},Y=I(),{initChartEvent:E}=_(Y,{getTooltip:k,renderTooltip:f}),z=async()=>{await W(),E()};return N(()=>{z()}),(t,e)=>{const n=it,a=bt,i=ht,s=At,d=mt,p=y,c=at;return C(),H(c,{class:"h-388px"},{header:Q(()=>[Z("div",Ot,[Z("span",null,j(t.$t("Monitor.System.index_23")),1),Z("div",Lt,[T(n,{value:q(l),"onUpdate:value":[e[0]||(e[0]=t=>$(l)?l.value=t:null),W],options:q(r),size:"small","consistent-menu-width":!1},null,8,["value","options"])]),T(a)])]),"header-extra":Q(()=>[T(i,{value:q(o),"onUpdate:value":[e[1]||(e[1]=t=>$(o)?o.value=t:null),z],day:t.day,onRefresh:z},null,8,["value","day"]),T(s)]),default:Q(()=>[T(p,{class:"h-full",show:q(B)},{default:Q(()=>[q(u)?(C(),H(d,{key:0})):(C(),H(pt,{key:1,ref_key:"chartRef",ref:Y,type:"line",height:"100%",option:q(v)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),Wt={class:"flex items-center flex-wrap"},Jt={class:"inline-flex items-center mr-32px"},Yt={class:"mr-12px"},Et={class:"inline-flex items-center"},zt={class:"mr-6px"},Ut={class:"w-86px mr-12px"},$t={class:"inline-flex mx-32px"},Qt={class:"mr-16px"};t("default",k({__name:"index",setup(t){const{t:e}=J(),i=I({day:0,status:!1,size:0}),o=async t=>{await ct({type:t?1:0,day:i.value.day}),i.value.status=t},l=async()=>{i.value.day?/^-?\d+$/.test(`${i.value.day}`)?await ct({type:i.value.status?1:0,day:i.value.day}):f.error(e("Monitor.System.index_6")):f.error(e("Monitor.System.index_5"))},r=()=>{M({title:e("Monitor.System.index_4"),content:()=>T("span",{class:"text-error"},[e("Monitor.System.index_7")]),onConfirm:async()=>{await n.post("/config?action=SetControl",{type:"del"},{requestOptions:{loading:a.global.t("Monitor.API.system_2"),successMessage:!0}}),h()}})};return(async()=>{const{message:t}=await(e={type:-1},n.post("/config?action=SetControl",e));var e;g(t)&&(i.value=t)})(),(t,e)=>{const n=ot,a=lt,s=et,d=v,u=at,p=rt,x=A;return C(),S("div",null,[T(u,{class:"p-16px mb-16px"},{default:Q(()=>[Z("div",Wt,[Z("div",Jt,[Z("span",Yt,j(t.$t("Monitor.System.index_1")),1),T(n,{value:q(i).status,"onUpdate:value":o},null,8,["value"])]),Z("div",Et,[Z("span",zt,j(t.$t("Monitor.System.index_2")),1),Z("div",Ut,[T(a,{value:q(i).day,"onUpdate:value":e[0]||(e[0]=t=>q(i).day=t),min:1,"show-button":!1,placeholder:""},null,8,["value"])]),T(s,{onClick:l},{default:Q(()=>[P(j(t.$t("Monitor.System.index_3")),1)]),_:1})]),Z("div",$t,[T(d,{vertical:""})]),Z("span",Qt,j(t.$t("Monitor.System.index_33"))+j(q(c)(q(i).size)),1),T(s,{onClick:r},{default:Q(()=>[P(j(t.$t("Monitor.System.index_4")),1)]),_:1})])]),_:1}),T(x,{"x-gap":"16","y-gap":"16",cols:2},{default:Q(()=>[T(p,{span:2},{default:Q(()=>[T(Mt,{day:q(i).day},null,8,["day"])]),_:1}),T(p,{span:1},{default:Q(()=>[T(Ct,{day:q(i).day},null,8,["day"])]),_:1}),T(p,{span:1},{default:Q(()=>[T(kt,{day:q(i).day},null,8,["day"])]),_:1}),T(p,{span:1},{default:Q(()=>[T(Nt,{day:q(i).day},null,8,["day"])]),_:1}),T(p,{span:1},{default:Q(()=>[T(Rt,{day:q(i).day},null,8,["day"])]),_:1})]),_:1})])}}}))}}});
