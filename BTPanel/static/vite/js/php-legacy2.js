System.register(["./public-legacy.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1764830988434","./page_layout-legacy.js?v=1764830988434","./site-legacy.js?v=1764830988434","./index-legacy239.js?v=1764830988434","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1764830988434","./vue-legacy.js?v=1764830988434","./naive-legacy.js?v=1764830988434","./common-legacy.js?v=1764830988434","./__commonjsHelpers__-legacy.js?v=1764830988434"],function(e,t){"use strict";var s,n,i,a,l,o,r,u,c,d,_,p,g,v,m,P,f,y,h,x,S,j,w,H;return{setters:[e=>{s=e.d,n=e._,i=e.u},e=>{a=e._},e=>{l=e.x,o=e.d,r=e.m},e=>{u=e.g,c=e.aM},e=>{d=e.u},e=>{_=e._},e=>{p=e.k,g=e.P,v=e.e,m=e.r,P=e.R,f=e.V,y=e.W,h=e.a3,x=e.S,S=e.U,j=e.a4},e=>{w=e.dR,H=e.dV},null,null],execute:function(){const t={class:"p-20px"},b={class:"w-200px"};e("default",p({__name:"php",props:{rows:{},showStatic:{type:Boolean,default:!0},refresh:{}},setup(e,{expose:p}){const{t:E}=g(),R=e,{rows:$,showStatic:M,refresh:k}=R,q=d(),U=v({version:null}),V={version:{trigger:"change",validator:()=>null!==U.version||new Error(E("Site.PHP.add_site_27"))}},B=m([]),{loading:C,setLoading:L}=s();(async()=>{try{L(!0);const{message:e}=await u();if(l(e)&&e.length>0){const t=M?e:e.filter(e=>"00"!==e.version);B.value=t.map(e=>({label:e.name,value:e.version})),U.version=t[0].version}else U.version=null,B.value=[]}finally{L(!1)}})();const O=()=>{const{version:e}=U;if(null===e)throw r.error(E("Site.PHP.index_67")),new Error(E("Site.PHP.index_67"));return{version:e,sites_id:$.map(e=>e.id).join(",")}};return p({onConfirm:async({hide:e})=>{const{message:t}=await c(O());q.setRefresh(!0),k?.(),o(t)&&(e=>{const{success:t,error:s}=e,n=[];t.forEach(e=>{const t=$.find(t=>t.name===e);t&&n.push({name:t.name,batchStatus:"success",reqMsg:E("Site.PHP.index_64")})}),Object.entries(s).forEach(([e,t])=>{const s=$.find(t=>t.name===e);s&&n.push({name:s.name,batchStatus:"error",reqMsg:t})}),i({title:E("Site.PHP.index_65"),width:440,footer:!0,component:_,data:{title:E("Site.PHP.index_66"),data:n,status:"done",columns:[{key:"name",title:E("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})})(t),e()}}),(e,s)=>{const i=H,l=w,o=a,r=n;return f(),P("div",t,[y(o,{model:S(U),rules:V},{default:h(()=>[y(l,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:h(()=>[x("div",b,[y(i,{value:S(U).version,"onUpdate:value":s[0]||(s[0]=e=>S(U).version=e),loading:S(C),options:S(B)},null,8,["value","loading","options"])])]),_:1},8,["label"])]),_:1},8,["model"]),y(r,{class:"mt-8px"},{default:h(()=>[x("li",null,j(e.$t("Site.PHP.index_61")),1),x("li",null,j(e.$t("Site.PHP.index_62")),1),x("li",null,j(e.$t("Site.PHP.index_63")),1)]),_:1})])}}}))}}});
