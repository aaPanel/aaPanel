System.register(["./index-legacy251.js?v=1767769852656","./index-legacy109.js?v=1767769852656","./index-legacy244.js?v=1767769852656","./index-legacy100.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./php-legacy.js?v=1767769852656","./theme-monokai-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./file-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656"],function(e,l){"use strict";var a,n,t,i,s,d,o,r,u,p,c,_,v,P,h,f,g,x,b,m,y,w,C,S,I,H,k,$,j,F,R,U,X,D,L,N,E,q,B,T,V,W,z,A,G,M,O;return{setters:[e=>{a=e._},e=>{n=e._},e=>{t=e.u},e=>{i=e.default},e=>{s=e.aC,d=e.dR,o=e.dV,r=e.dj,u=e.da,p=e.au},e=>{c=e.k,_=e.P,v=e.r,P=e.o,h=e.R,f=e.V,g=e.W,x=e.S,b=e.U,m=e.ak,y=e.a3,w=e.j,C=e.a4,S=e.n,I=e.e,H=e.N,k=e.a2,$=e.an,j=e.F},e=>{F=e.d,R=e._},e=>{U=e._},e=>{X=e.d,D=e.x,L=e.h,N=e.m,E=e._,q=e.T},e=>{B=e.b8,T=e.b9,V=e.c,W=e.ba},e=>{z=e.E,A=e.F,G=e.G,M=e.H,O=e.I},null,null,null,null],execute:function(){const l={class:"mt-12px"},J=c({__name:"DefaultPage",setup(e){const{t:a}=_(),d=t(),o=v(null),r=v("index"),u=new Map([["index",{label:a("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:a("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:a("Site.PHP.index_53"),path:"nginx"===d.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:a("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),p=(()=>{const e=[];return u.forEach((l,a)=>{e.push({key:a,label:l.label})}),e})(),c=()=>u.get(r.value)?.path||"",I=v(c()),H=()=>{I.value=c()},k=()=>{S(()=>{o.value?.getContent()})},$=async()=>{o.value?.saveFile()};return P(()=>{o.value?.getContent()}),(e,a)=>{const t=n,d=s;return f(),h("div",null,[g(t,{value:b(r),"onUpdate:value":[a[0]||(a[0]=e=>m(r)?r.value=e:null),H],options:b(p),onClick:k},null,8,["value","options"]),g(i,{ref_key:"configRef",ref:o,path:b(I),"onUpdate:path":a[1]||(a[1]=e=>m(I)?I.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),x("div",l,[g(d,{type:"primary",onClick:$},{default:y(()=>[w(C(e.$t("Site.Cert.index_60")),1)]),_:1})])])}}}),K={class:"w-300px"},Q=c({__name:"DefaultSite",setup(e,{expose:l}){const{t:a}=_(),n=v(null),{loading:t,setLoading:i}=F(),r=I({name:"0"}),u=v([]),p=async()=>{try{i(!0);const{message:e}=await B();if(X(e)){const{sites:l,defaultSite:a}=e;u.value=D(l)?l.map(e=>({label:e.name,value:e.name})):[],c(),r.name=L(a)?a:"0"}}finally{i(!1)}},c=()=>{u.value.unshift({label:a("Site.PHP.index_58"),value:"0"})},P=async()=>{await(n.value?.validate()),await T(H(r))};return c(),p(),l({init:p}),(e,l)=>{const a=o,i=d,p=s,c=U,_=R;return f(),h("div",null,[g(c,{ref_key:"formRef",ref:n,model:b(r)},{default:y(()=>[g(i,{label:e.$t("Site.PHP.index_11")},{default:y(()=>[x("div",K,[g(a,{value:b(r).name,"onUpdate:value":l[0]||(l[0]=e=>b(r).name=e),class:"name-select",loading:b(t),options:b(u)},null,8,["value","loading","options"])])]),_:1},8,["label"]),g(i,{label:" "},{default:y(()=>[g(p,{type:"primary",onClick:P},{default:y(()=>[w(C(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),g(_,{class:"mt-20px"},{default:y(()=>[x("li",null,C(e.$t("Site.PHP.index_56")),1),x("li",null,C(e.$t("Site.PHP.index_57")),1)]),_:1})])}}}),Y={class:"w-300px"},Z=c({__name:"PhpVersion",setup(e,{expose:l}){const{t:a}=_(),n=v(null),{loading:t,setLoading:i}=F(),r=I({php_version:null}),u={php_version:{required:!0,message:a("Site.PHP.index_67"),trigger:"change"}},p=v([]),c=async()=>{try{i(!0);const{message:e}=await V();if(X(e)){const l=D(e.versions)?e.versions:[];p.value=l.map(e=>({label:e.name,value:e.version})),X(e.select)&&(r.php_version=`${e.select.version}`)}}finally{i(!1)}},P=async()=>{await(n.value?.validate());const e=(()=>{const e=r.php_version;if(null===e)throw N.error(a("Site.PHP.index_67")),new Error(a("Site.PHP.index_67"));return{php_version:e}})();await W(e)};return c(),l({init:c}),(e,l)=>{const a=o,i=d,c=s,_=U,v=R;return f(),h("div",null,[g(_,{ref_key:"formRef",ref:n,model:b(r),rules:u},{default:y(()=>[g(i,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:y(()=>[x("div",Y,[g(a,{value:b(r).php_version,"onUpdate:value":l[0]||(l[0]=e=>b(r).php_version=e),class:"php-version-select",loading:b(t),options:b(p)},null,8,["value","loading","options"])])]),_:1},8,["label"]),g(i,{label:" "},{default:y(()=>[g(c,{type:"primary",onClick:P},{default:y(()=>[w(C(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),g(v,{class:"mt-20px"},{default:y(()=>[x("li",null,C(e.$t("Site.PHP.index_68")),1),x("li",null,C(e.$t("Site.PHP.index_69")),1)]),_:1})])}}}),ee={class:"w-300px"},le=c({__name:"Https",setup(e,{expose:l}){const{loading:a,setLoading:n}=F(),t=I({value:!1}),i=async()=>{try{n(!0),await z()}catch{t.value=!t.value}finally{n(!1)}},s=async()=>{try{n(!0);const{message:e}=await A();X(e)&&(t.value=e.result)}finally{n(!1)}};return s(),l({init:s}),(e,l)=>{const n=r,s=d,o=U,u=R;return f(),h("div",null,[g(o,{model:b(t)},{default:y(()=>[g(s,{label:e.$t("Site.PHP.index_86")},{default:y(()=>[x("div",ee,[g(n,{value:b(t).value,"onUpdate:value":[l[0]||(l[0]=e=>b(t).value=e),i],loading:b(a)},null,8,["value","loading"])])]),_:1},8,["label"])]),_:1},8,["model"]),g(u,{class:"mt-8px"},{default:y(()=>[x("li",null,C(e.$t("Site.PHP.index_87")),1),x("li",null,C(e.$t("Site.PHP.index_88")),1)]),_:1})])}}}),ae={class:"text-font2"},ne={class:"text-#6c7688 p-10px rounded-10px border-solid border-2px border-[var(--site-global-ip-white-ips-border)]"},te=["textContent"],ie=c({__name:"global",setup(e,{expose:l}){const{loading:a,setLoading:n}=F(),{loading:t,setLoading:i}=F(),c=I({cdn_ip_parse:!1,cdn_ip_parse_header:null,cdn_ip_white_ips:"Cf-Connecting-IP"}),_=[{value:"X-Forwarded-For",label:"X-Forwarded-For"},{value:"X-Real-IP",label:"X-Real-IP"},{value:"X-Forwarded",label:"X-Forwarded"},{value:"Forwarded-For",label:"Forwarded-For"},{value:"Forwarded",label:"Forwarded"},{value:"True-Client-IP",label:"True-Client-IP"},{value:"Client-IP",label:"Client-IP"},{value:"Ali-Cdn-Real-IP",label:"Ali-Cdn-Real-IP"},{value:"Cdn-Src-IP",label:"Cdn-Src-IP"},{value:"Cdn-Real-IP",label:"Cdn-Real-IP"},{value:"Cf-Connecting-IP",label:"Cf-Connecting-IP"},{value:"X-Cluster-Client-IP",label:"X-Cluster-Client-IP"},{value:"Wl-Proxy-Client-IP",label:"Wl-Proxy-Client-IP"},{value:"Proxy-Client-IP",label:"Proxy-Client-IP"}],v=async()=>{try{i(!0);const{message:e}=await G({header_cdn:c.cdn_ip_parse_header});X(e)&&(c.cdn_ip_white_ips=e.result)}finally{i(!1)}},P=async()=>{const e={cdn_switch:c.cdn_ip_parse?1:0,header_cdn:c.cdn_ip_parse_header,white_ips:c.cdn_ip_white_ips};M(e)},m=async()=>{try{n(!0);const{message:e}=await O();X(e)&&(c.cdn_ip_parse=e.cdn_status,c.cdn_ip_parse_header=e.header_cdn||"Cf-Connecting-IP",c.cdn_ip_white_ips=e.white_ips,c.cdn_ip_parse||v())}finally{n(!1)}};return m(),l({init:m}),(e,l)=>{const n=r,i=u,m=d,S=o,I=E,H=p,F=s,R=U,X=q;return f(),k(X,{show:b(a)},{default:y(()=>[g(R,{model:b(c)},{default:y(()=>[g(m,{label:e.$t("CDN Resolution")},{default:y(()=>[g(i,{class:"items-center"},{default:y(()=>[g(n,{value:b(c).cdn_ip_parse,"onUpdate:value":l[0]||(l[0]=e=>b(c).cdn_ip_parse=e)},null,8,["value"]),x("span",ae,"*"+C(e.$t("Only Nginx service is supported")),1)]),_:1})]),_:1},8,["label"]),b(c).cdn_ip_parse?(f(),h(j,{key:0},[g(m,{label:e.$t("Request header")},{default:y(()=>[g(i,{class:"items-center"},{default:y(()=>[g(S,{filterable:"",class:"w-400px",value:b(c).cdn_ip_parse_header,"onUpdate:value":[l[1]||(l[1]=e=>b(c).cdn_ip_parse_header=e),v],options:_},null,8,["value"])]),_:1})]),_:1},8,["label"]),g(m,{label:e.$t("CDN IP whitelist")},{default:y(()=>[g(i,{class:"flex-col! bg-[var(--site-global-ip-white-ips-bg)] p-12px rounded-10px border-solid border-2px border-[var(--site-global-ip-white-ips-border)] w-500px"},{default:y(()=>[x("div",ne,[g(I,{name:"base-info",size:"17",color:"#ffae45"}),x("span",{textContent:C(e.$t("Each line contains one IP address; nginx will only replace the IP addresses in the request header from the following IP ranges."))},null,8,te)]),g(H,{loading:b(t),value:b(c).cdn_ip_white_ips,"onUpdate:value":l[2]||(l[2]=e=>b(c).cdn_ip_white_ips=e),placeholder:e.$t("Ftp.Placeholder.Index_3"),type:"textarea",autosize:{minRows:6,maxRows:12},"input-props":{spellcheck:!1}},null,8,["loading","value","placeholder"])]),_:1})]),_:1},8,["label"])],64)):$("",!0),g(m,{label:" "},{default:y(()=>[g(F,{type:"primary",onClick:P},{default:y(()=>[w(C(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),se={class:"h-full"};e("default",c({__name:"index",props:{menu:{type:String,default:"default-page"}},setup(e){const{t:l}=_(),n=v(e.menu),t=[{key:"default-page",label:l("Site.PHP.index_5"),component:J},{key:"default-site",label:l("Site.PHP.index_6"),component:Q},{key:"php-version",label:l("Site.PHP.index_7"),component:Z},{key:"https",label:l("Site.PHP.index_86"),component:le},{key:"global",label:l("CDN Resolution"),component:ie}];return(e,l)=>{const i=a;return f(),h("div",se,[g(i,{value:b(n),"onUpdate:value":l[0]||(l[0]=e=>m(n)?n.value=e:null),data:t},null,8,["value"])])}}}))}}});
