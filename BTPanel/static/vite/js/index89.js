import{I as e,c as a,m as l,J as s,K as t,E as n,L as o,M as i,q as r,o as d,p as u}from"./page_layout.js?v=1763625242172";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import{_ as c}from"./public.js?v=1763625242172";import{k as m,P as _,r as g,e as f,R as x,a2 as v,a3 as w,U as y,a4 as h,X as b,V as k,S as C,j as $,ak as L,au as j,an as P,N as z}from"./vue.js?v=1763625242172";import"./index.js?v=1763625242172";import{d5 as A,aC as U,au as q,dP as I,dQ as B,dR as R,d9 as F,dS as S}from"./naive.js?v=1763625242172";import"./common.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";const G={class:"font-600"},K={class:"info flex mt-50px w-820px mx-auto"},E={class:"tips py-40px w-50%"},H={class:"font-600 text-16px"},J={class:"mt-10px mb-20px font-600 text-16px"},M={key:0,class:"w-50% py-24px px-32px"},N={class:"my-16px"},Q={class:"my-16px"},V={class:"w-100%"},X={class:"flex justify-end mt-8px"},D={key:1,class:"w-50% p-30px"},O={class:"font-600 text-left"},T={class:"underline"},W={class:"text-16px my-20px text-left"},Y={key:0,class:"ml-5px"},Z=u(m({__name:"index",setup(u){const{t:m}=_(),Z=g(null),ee=g(null),ae=f({email:"",password:"",isPro:1}),le={email:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_5")}},se=f({username:"",password:"",isPro:1}),te={username:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_5")}},ne=g(!1),oe=g(!1),ie=e=>{oe.value="login"===e},re=g(60),de=g(!0);let ue;const pe=async()=>{var s;await(null==(s=Z.value)?void 0:s.validate());const{message:t}=await e(z(ae));a(t)&&(t.status?(ne.value=!0,l.success(t.msg)):l.error(t.msg))},ce=async()=>{var e;await(null==(e=ee.value)?void 0:e.validate());try{await s(z(oe.value?se:{username:ae.email,password:ae.password,isPro:1}))}catch(a){return void(A(a,"message.validated",!0)||(ne.value=!0))}await t({force:1}),n.push("/")},me=()=>{de.value=!1,ue&&clearInterval(ue),ue=setInterval((()=>{re.value--,re.value<=0&&(clearInterval(ue),re.value=60,de.value=!0)}),1e3);let e=oe.value?se.username:ae.email;o({email:e})},_e=()=>{window.location.href="".concat(i(),"/google/redirect")};return(e,a)=>{const l=c,s=U,t=r,n=q,o=I,i=p,u=B,m=d,_=R,g=F,f=S;return x(),v(f,{class:"box pt-100px flex items-center text-center"},{default:w((()=>[y("h1",G,h(e.$t("Login.index_26")),1),y("div",K,[y("div",E,[a[7]||(a[7]=y("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),y("div",H,h(e.$t("Login.index_29")),1),y("div",J,h(e.$t("Login.index_30")),1),b(l,{class:"text-left pl-30px w-400px"},{default:w((()=>[y("li",null,h(e.$t("Login.index_27")),1),y("li",null,h(e.$t("Login.index_28")),1)])),_:1})]),k(ne)?(x(),C("div",D,[y("h3",O,[$(h(e.$t("Login.index_35"))+": ",1),y("span",T,h(k(oe)?k(se).username:k(ae).email),1)]),y("div",W,[$(h(e.$t("Login.index_36"))+": ",1),a[15]||(a[15]=y("span",{class:"underline"},"support@aapanel.com",-1))]),b(g,null,{default:w((()=>[b(s,{type:"primary",size:"large",onClick:a[6]||(a[6]=e=>ce())},{default:w((()=>[$(h(e.$t("Login.index_37")),1)])),_:1}),b(s,{size:"large",onClick:me,disabled:!k(de)},{default:w((()=>[$(h(e.$t("Login.index_38"))+" ",1),k(de)?P("",!0):(x(),C("span",Y,"("+h(k(re))+")",1))])),_:1},8,["disabled"])])),_:1})])):(x(),C("div",M,[b(_,{"default-value":"signup",size:"large",animated:"","onUpdate:value":ie},{default:w((()=>[b(u,{name:"signup",tab:"Sign up",class:"text-left"},{default:w((()=>[b(i,{ref_key:"signFormRef",ref:Z,model:k(ae),rules:le,size:"large"},{default:w((()=>[b(s,{class:"google-btn",block:"",size:"large",onClick:_e},{icon:w((()=>a[8]||(a[8]=[y("i",{class:"i-common:google"},null,-1)]))),default:w((()=>[a[9]||(a[9]=y("span",null,"Continue with Google",-1))])),_:1,__:[9]}),y("div",N,[b(t,null,{default:w((()=>a[10]||(a[10]=[$("or")]))),_:1,__:[10]})]),b(o,{path:"email"},{default:w((()=>[b(n,{value:k(ae).email,"onUpdate:value":a[0]||(a[0]=e=>k(ae).email=e),placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),b(o,{path:"password"},{default:w((()=>[b(n,{value:k(ae).password,"onUpdate:value":a[1]||(a[1]=e=>k(ae).password=e),type:"password",placeholder:e.$t("Config.Panel.index_66")},null,8,["value","placeholder"])])),_:1}),b(o,{"show-feedback":!1},{default:w((()=>[b(s,{type:"primary",onClick:pe,size:"large",block:""},{default:w((()=>[$(h(e.$t("Login.index_31")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),b(u,{name:"login",tab:"Login",class:"text-left"},{default:w((()=>[b(i,{ref_key:"loginFormRef",ref:ee,model:k(se),rules:te,size:"large"},{default:w((()=>[b(s,{class:"google-btn",block:"",size:"large",onClick:_e},{icon:w((()=>a[11]||(a[11]=[y("i",{class:"i-common:google"},null,-1)]))),default:w((()=>[a[12]||(a[12]=y("span",null,"Continue with Google",-1))])),_:1,__:[12]}),y("div",Q,[b(t,null,{default:w((()=>a[13]||(a[13]=[$("or")]))),_:1,__:[13]})]),b(o,{path:"username"},{default:w((()=>[b(n,{value:k(se).username,"onUpdate:value":a[2]||(a[2]=e=>k(se).username=e),placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),b(o,{path:"password"},{default:w((()=>[b(n,{value:k(se).password,"onUpdate:value":a[3]||(a[3]=e=>k(se).password=e),type:"password",placeholder:e.$t("Config.Panel.index_66"),onKeyup:a[4]||(a[4]=L(j((e=>ce()),["prevent"]),["enter"]))},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),y("div",V,[b(s,{type:"primary",onClick:a[5]||(a[5]=e=>ce()),size:"large",block:""},{default:w((()=>[$(h(e.$t("Login.index_32")),1)])),_:1}),y("div",X,[b(m,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:w((()=>a[14]||(a[14]=[$("Forget Password>>")]))),_:1,__:[14]})])])])),_:1})])),_:1})]))])])),_:1})}}}),[["__scopeId","data-v-4273d5ee"]]);export{Z as default};
