import{q as e,o as a,I as l,d as s,m as t,J as n,K as o,E as i,L as r,M as d,p as u}from"./page_layout.js?v=1764233927359";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.js?v=1764233927359";import{_ as c}from"./public.js?v=1764233927359";import{k as m,P as _,r as g,e as f,a2 as x,V as v,a3 as w,S as y,a4 as h,R as b,W as k,U as C,j as $,aj as L,au as j,an as P,N as z}from"./vue.js?v=1764233927359";import"./index.js?v=1764233927359";import{dP as A,dQ as U,aC as q,dR as I,au as B,da as R,dS as F,d5 as S}from"./naive.js?v=1764233927359";import"./common.js?v=1764233927359";import"./__commonjsHelpers__.js?v=1764233927359";const G={class:"font-600"},K={class:"info flex mt-50px w-820px mx-auto"},E={class:"tips py-40px w-50%"},H={class:"font-600 text-16px"},J={class:"mt-10px mb-20px font-600 text-16px"},M={key:0,class:"w-50% py-24px px-32px"},N={class:"my-16px"},Q={class:"my-16px"},V={class:"w-100%"},W={class:"flex justify-end mt-8px"},D={key:1,class:"w-50% p-30px"},O={class:"font-600 text-left"},T={class:"underline"},X={class:"text-16px my-20px text-left"},Y={key:0,class:"ml-5px"},Z=u(m({__name:"index",setup(u){const{t:m}=_(),Z=g(null),ee=g(null),ae=f({email:"",password:"",isPro:1}),le={email:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_5")}},se=f({username:"",password:"",isPro:1}),te={username:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:m("Component.BindAccount.index_5")}},ne=g(!1),oe=g(!1),ie=e=>{oe.value="login"===e},re=g(60),de=g(!0);let ue;const pe=async()=>{var e;await(null==(e=Z.value)?void 0:e.validate());const{message:a}=await l(z(ae));s(a)&&(a.status?(ne.value=!0,t.success(a.msg)):t.error(a.msg))},ce=async()=>{var e;await(null==(e=ee.value)?void 0:e.validate());try{await n(z(oe.value?se:{username:ae.email,password:ae.password,isPro:1}))}catch(a){return void(S(a,"message.validated",!0)||(ne.value=!0))}await o({force:1}),i.push("/")},me=()=>{de.value=!1,ue&&clearInterval(ue),ue=setInterval(()=>{re.value--,re.value<=0&&(clearInterval(ue),re.value=60,de.value=!0)},1e3);let e=oe.value?se.username:ae.email;r({email:e})},_e=()=>{window.location.href="".concat(d(),"/google/redirect")};return(l,s)=>{const t=c,n=q,o=e,i=B,r=I,d=p,u=U,m=a,_=A,g=R,f=F;return v(),x(f,{class:"box pt-100px flex items-center text-center"},{default:w(()=>[y("h1",G,h(l.$t("Login.index_26")),1),y("div",K,[y("div",E,[s[7]||(s[7]=y("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),y("div",H,h(l.$t("Login.index_29")),1),y("div",J,h(l.$t("Login.index_30")),1),k(t,{class:"text-left pl-30px w-400px"},{default:w(()=>[y("li",null,h(l.$t("Login.index_27")),1),y("li",null,h(l.$t("Login.index_28")),1)]),_:1})]),C(ne)?(v(),b("div",D,[y("h3",O,[$(h(l.$t("Login.index_35"))+": ",1),y("span",T,h(C(oe)?C(se).username:C(ae).email),1)]),y("div",X,[$(h(l.$t("Login.index_36"))+": ",1),s[15]||(s[15]=y("span",{class:"underline"},"support@aapanel.com",-1))]),k(g,null,{default:w(()=>[k(n,{type:"primary",size:"large",onClick:s[6]||(s[6]=e=>ce())},{default:w(()=>[$(h(l.$t("Login.index_37")),1)]),_:1}),k(n,{size:"large",onClick:me,disabled:!C(de)},{default:w(()=>[$(h(l.$t("Login.index_38"))+" ",1),C(de)?P("",!0):(v(),b("span",Y,"("+h(C(re))+")",1))]),_:1},8,["disabled"])]),_:1})])):(v(),b("div",M,[k(_,{"default-value":"signup",size:"large",animated:"","onUpdate:value":ie},{default:w(()=>[k(u,{name:"signup",tab:"Sign up",class:"text-left"},{default:w(()=>[k(d,{ref_key:"signFormRef",ref:Z,model:C(ae),rules:le,size:"large"},{default:w(()=>[k(n,{class:"google-btn",block:"",size:"large",onClick:_e},{icon:w(()=>s[8]||(s[8]=[y("i",{class:"i-common:google"},null,-1)])),default:w(()=>[s[9]||(s[9]=y("span",null,"Continue with Google",-1))]),_:1,__:[9]}),y("div",N,[k(o,null,{default:w(()=>s[10]||(s[10]=[$("or",-1)])),_:1,__:[10]})]),k(r,{path:"email"},{default:w(()=>[k(i,{value:C(ae).email,"onUpdate:value":s[0]||(s[0]=e=>C(ae).email=e),placeholder:l.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])]),_:1}),k(r,{path:"password"},{default:w(()=>[k(i,{value:C(ae).password,"onUpdate:value":s[1]||(s[1]=e=>C(ae).password=e),type:"password",placeholder:l.$t("Config.Panel.index_66")},null,8,["value","placeholder"])]),_:1}),k(r,{"show-feedback":!1},{default:w(()=>[k(n,{type:"primary",onClick:pe,size:"large",block:""},{default:w(()=>[$(h(l.$t("Login.index_31")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),k(u,{name:"login",tab:"Login",class:"text-left"},{default:w(()=>[k(d,{ref_key:"loginFormRef",ref:ee,model:C(se),rules:te,size:"large"},{default:w(()=>[k(n,{class:"google-btn",block:"",size:"large",onClick:_e},{icon:w(()=>s[11]||(s[11]=[y("i",{class:"i-common:google"},null,-1)])),default:w(()=>[s[12]||(s[12]=y("span",null,"Continue with Google",-1))]),_:1,__:[12]}),y("div",Q,[k(o,null,{default:w(()=>s[13]||(s[13]=[$("or",-1)])),_:1,__:[13]})]),k(r,{path:"username"},{default:w(()=>[k(i,{value:C(se).username,"onUpdate:value":s[2]||(s[2]=e=>C(se).username=e),placeholder:l.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])]),_:1}),k(r,{path:"password"},{default:w(()=>[k(i,{value:C(se).password,"onUpdate:value":s[3]||(s[3]=e=>C(se).password=e),type:"password",placeholder:l.$t("Config.Panel.index_66"),onKeyup:s[4]||(s[4]=L(j(e=>ce(),["prevent"]),["enter"]))},null,8,["value","placeholder"])]),_:1})]),_:1},8,["model"]),y("div",V,[k(n,{type:"primary",onClick:s[5]||(s[5]=e=>ce()),size:"large",block:""},{default:w(()=>[$(h(l.$t("Login.index_32")),1)]),_:1}),y("div",W,[k(m,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:w(()=>s[14]||(s[14]=[$("Forget Password>>",-1)])),_:1,__:[14]})])])]),_:1})]),_:1})]))])]),_:1})}}}),[["__scopeId","data-v-4273d5ee"]]);export{Z as default};
