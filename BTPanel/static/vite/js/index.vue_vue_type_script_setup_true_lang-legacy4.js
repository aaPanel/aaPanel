System.register(["./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1767769852656","./public-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./index-legacy100.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656"],function(e,a){"use strict";var t,l,n,s,i,o,r,d,u,p,c,_,g,m,f,w,x,v,h,y,b,S,j,$,k,C,U,R,D,T,I,L,P,z,q,W,B,G,H,N,O;return{setters:[e=>{t=e._},e=>{l=e._},e=>{n=e.c,s=e.f,i=e.a,o=e.d,r=e.e,d=e.h},e=>{u=e.Y,p=e.Z,c=e.$,_=e.a0,g=e.d,m=e.n,f=e.T,w=e.a1},e=>{x=e._},e=>{v=e.default},e=>{h=e.k,y=e.P,b=e.r,S=e.e,j=e.R,$=e.V,k=e.W,C=e.U,U=e.a3,R=e.N,D=e.j,T=e.a4,I=e.c,L=e.o,P=e.G,z=e.a2,q=e.S},e=>{W=e.dR,B=e.au,G=e.dj,H=e.aC,N=e.da,O=e.bH}],execute:function(){const a={class:"p-20px"},V=h({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=y(),n=e,{getList:s,name:i}=n.data,o=b(null),r=S({name:i,args_name:"",ps:"",args:"",init:l("Soft.index_48")}),d={args_name:{required:!0,message:l("Soft.index_43"),trigger:["blur","input"]},args:{required:!0,message:l("Soft.index_46"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(o.value?.validate()),await u(R(r)),s?.(),e()}}),(e,t)=>{const l=B,n=W,s=x;return $(),j("div",a,[k(s,{ref_key:"formRef",ref:o,model:C(r),rules:d},{default:U(()=>[k(n,{label:e.$t("Site.TableRow.index_2"),path:"args_name"},{default:U(()=>[k(l,{class:"w-280px!",value:C(r).args_name,"onUpdate:value":t[0]||(t[0]=e=>C(r).args_name=e),placeholder:e.$t("Soft.index_43")},null,8,["value","placeholder"])]),_:1},8,["label"]),k(n,{label:e.$t("Docker.Container.config.image.index_11"),path:"ps"},{default:U(()=>[k(l,{class:"w-280px!",maxlength:"30","show-count":"",value:C(r).ps,"onUpdate:value":t[1]||(t[1]=e=>C(r).ps=e),placeholder:e.$t("Soft.index_44")},null,8,["value","placeholder"])]),_:1},8,["label"]),k(n,{label:e.$t("Soft.index_45"),path:"args"},{default:U(()=>[k(l,{class:"w-280px!",value:C(r).args,"onUpdate:value":t[2]||(t[2]=e=>C(r).args=e),placeholder:e.$t("Soft.index_46")},null,8,["value","placeholder"])]),_:1},8,["label"]),k(n,{label:e.$t("Soft.index_47"),path:"init"},{default:U(()=>[k(v,{value:C(r).init,"onUpdate:value":t[3]||(t[3]=e=>C(r).init=e),height:300,"show-tips":!1,class:"w-350px"},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),Y={class:"p-20px"},Z=(e("_",h({__name:"index",props:{data:{}},setup(e,{expose:a}){const{t:u}=y(),m=e,{name:f,callback:w}=m.data,x=()=>{B.show=!0},v=S({args_names:""}),{keys:h,table:b,columns:R}=n([{key:"name",title:u("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:u("Docker.Container.config.image.index_11"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:u("WP.TableRow.index_8"),render:e=>k(G,{value:I(e.name),"onUpdate:value":a=>L(e.name,a)},null)},s({width:100,align:"center",options:e=>[{label:u("Public.Btn.Del"),onClick:()=>{i({title:`${u("Site.TableOP.index_6")} [${e.name}]`,content:u("Soft.index_50",[e.name]),onConfirm:async({hide:a})=>{await p({name:f,args_name:e.name}),W(),a()}})}}]})]),I=e=>v.args_names.split("\n").includes(e),L=async(e,a)=>{let t;t=a?v.args_names.trim().length>0?v.args_names+"\n"+e:e:P(e),await c({name:f,args_names:t}),W()},P=e=>v.args_names.split("\n").filter(a=>a!==e).join("\n"),{loading:z,setLoading:q}=o(),W=async()=>{try{q(!0);const{message:e}=await _({name:f});g(e)&&(b.data=e.args,v.args_names=e.config)}finally{h.value=[],q(!1)}},B=r(u("Soft.index_49"),{getList:W,name:f});return W(),a({onConfirm:async()=>{w?.()}}),(e,a)=>{const n=H,s=d,i=l,o=t;return $(),j("div",Y,[k(i,null,{toolsLeft:U(()=>[k(n,{type:"primary",onClick:x},{default:U(()=>[D(T(e.$t("Soft.index_49")),1)]),_:1})]),table:U(()=>[k(s,{"max-height":250,loading:C(z),data:C(b).data,columns:C(R)},null,8,["loading","data","columns"])]),_:1}),k(o,{show:C(B).show,"onUpdate:show":a[0]||(a[0]=e=>C(B).show=e),title:C(B).title,data:C(B).data,width:550,footer:!0,component:V},null,8,["show","title","data"])])}}})),{class:"pl-20px"});e("a",h({__name:"index",props:{plugin_name:{type:String,default:""},plugin_title:{type:String,default:""}},emits:["close"],setup(e,{emit:a}){const{t:t}=y(),l=b({}),n=b(!1),s=I(()=>0===l.value.down_pre?t("Connecting to download from the cloud, please wait"):100===l.value.down_pre?t("Download completed, please wait"):t("Downloading")+" "+e.plugin_title);let i=null;return L(()=>{i=setInterval(()=>{(async()=>{const{message:a}=await w({plugin_name:e.plugin_name});try{g(a)&&(l.value=a,100===a.down_pre&&i&&clearInterval(i))}catch{i&&clearInterval(i)}})()},1e3)}),P(()=>{i&&clearInterval(i)}),(e,a)=>{const t=N,i=O,o=f;return $(),z(o,{class:"p-20px",show:C(n)},{default:U(()=>[k(t,{class:"flex-col"},{default:U(()=>[k(t,{class:"items-end!",size:3},{default:U(()=>[q("span",null,T(C(s)),1),a[0]||(a[0]=q("i",{class:"i-svg-spinners:3-dots-fade"},null,-1))]),_:1,__:[0]}),k(i,{percentage:C(l).down_pre,type:"line",status:"success",processing:C(l).down_pre<100,"indicator-placement":"inside"},null,8,["percentage","processing"]),k(t,{class:"justify-between! w-full"},{default:U(()=>[q("div",null,[q("span",null,T(C(m)(C(l).down_size))+"/"+T(C(m)(C(l).total_size)),1),q("span",Z,T(e.$t("Still need"))+": "+T(C(l).need_time||"0")+"s",1)]),q("div",null,T(C(m)(C(l).sec_speed))+"/s",1)]),_:1})]),_:1})]),_:1},8,["show"])}}}))}}});
