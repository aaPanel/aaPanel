System.register(["./index-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./public-legacy.js?v=1752142539265","./alarm-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./index-legacy100.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265"],(function(e,l){"use strict";var t,a,i,r,n,o,d,s,u,p,_,m,c,f,v,g,x,w,h,C,b,A,y,q,k,E,$,j,U,M,T,B,P,R,L,D,H;return{setters:[e=>{t=e._},e=>{a=e._},e=>{i=e._,r=e.e,n=e.b,o=e.h,d=e.d,s=e.f},e=>{u=e.j,p=e.k,_=e.l,m=e.t,c=e.u,f=e.m},e=>{v=e._},e=>{g=e._},e=>{x=e.j},e=>{w=e.k,h=e.P,C=e.t,b=e.c,A=e.r,y=e.e,q=e.U,k=e.X,E=e.Q,$=e.a2,j=e.V,U=e.W,M=e.a3,T=e.j,B=e.a1,P=e.a6},e=>{R=e.cz,L=e.aq,D=e.bZ,H=e.ay},null,null,null],execute:function(){const l={class:"px-20px py-24px"},I={class:"w-300px"},K={class:"w-300px"},N={class:"w-300px"},O={class:"w-300px"},z={class:"w-300px"},Q={class:"w-300px"},S={class:"bt-link",href:"",target:"_blank"},V=w({__name:"form-email",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:t,emit:a}){const r=e,n=a,{t:o}=h(),d=C(r,"isEdit"),s=C(r,"alarm"),_=b((()=>s.value.name)),m=A(null),c=y({title:"",qq_mail:"",qq_smtp_pwd:"",hosts:"",port:465,receiveMail:""}),f={title:{trigger:["blur","input"],validator:()=>""===c.title.trim()?new Error(o("Config.Alarm.index_67")):!(c.title.trim().length>15)||new Error(o("Config.Alarm.index_79"))},qq_mail:{trigger:["blur","input"],validator:()=>""!==c.qq_mail.trim()||new Error(o("Config.Alarm.index_80"))},qq_smtp_pwd:{trigger:["blur","input"],validator:()=>""!==c.qq_smtp_pwd.trim()||new Error(o("Config.Alarm.index_81"))},hosts:{trigger:["blur","input"],validator:()=>""!==c.hosts.trim()||new Error(o("Config.Alarm.index_82"))},port:{trigger:["blur","input"],validator:()=>!!c.port||new Error(o("Config.Alarm.index_83"))},receiveMail:{trigger:["blur","input"],validator:()=>""!==c.receiveMail.trim()||new Error(o("Config.Alarm.index_84"))}},w=()=>({sender_type:_.value,sender_data:{title:c.title,send:{qq_mail:c.qq_mail,qq_stmp_pwd:c.qq_smtp_pwd,hosts:c.hosts,port:`${c.port}`},receive:c.receiveMail.split("\n").filter((e=>""!==e.trim()))}});return(()=>{const{row:e}=r;if(d.value&&e){const{data:l}=e;c.title=l.title,c.qq_mail=l.send.qq_mail,c.qq_smtp_pwd=l.send.qq_stmp_pwd,c.hosts=l.send.hosts,c.port=x(l.send.port),c.receiveMail=l.receive.join("\n")}})(),t({onConfirm:async()=>{await(m.value?.validate()),d.value&&r.row?await u({...w(),sender_id:r.row.id}):await p(w()),n("refresh")}}),(e,t)=>{const a=L,r=R,n=D,o=g,d=v,s=i;return k(),q("div",l,[E(d,{ref_key:"formRef",ref:m,model:U(c),rules:f},{default:$((()=>[E(r,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",I,[E(a,{value:U(c).title,"onUpdate:value":t[0]||(t[0]=e=>U(c).title=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(r,{label:e.$t("Config.Alarm.index_71"),path:"qq_mail"},{default:$((()=>[j("div",K,[E(a,{value:U(c).qq_mail,"onUpdate:value":t[1]||(t[1]=e=>U(c).qq_mail=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(r,{label:e.$t("Config.Alarm.index_72"),path:"qq_smtp_pwd"},{default:$((()=>[j("div",N,[E(a,{value:U(c).qq_smtp_pwd,"onUpdate:value":t[2]||(t[2]=e=>U(c).qq_smtp_pwd=e),type:"password",placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(r,{label:e.$t("Config.Alarm.index_73"),path:"hosts"},{default:$((()=>[j("div",O,[E(a,{value:U(c).hosts,"onUpdate:value":t[3]||(t[3]=e=>U(c).hosts=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(r,{label:e.$t("Config.Alarm.index_74"),path:"port"},{default:$((()=>[j("div",z,[E(n,{value:U(c).port,"onUpdate:value":t[4]||(t[4]=e=>U(c).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(r,{label:e.$t("Config.Alarm.index_78"),path:"receiveMail"},{default:$((()=>[j("div",Q,[E(o,{value:U(c).receiveMail,"onUpdate:value":t[5]||(t[5]=e=>U(c).receiveMail=e),row:8,placeholder:e.$t("Config.Alarm.index_75")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),E(s,{class:"mt-4px pl-8px"},{default:$((()=>[j("li",null,M(e.$t("Config.Alarm.index_76")),1),j("li",null,M(e.$t("Config.Alarm.index_77")),1),j("li",null,[j("a",S,M(e.$t("Public.Btn.Help")),1)])])),_:1})])}}}),W={class:"px-20px py-24px"},X={class:"w-300px"},Z={class:"w-300px"},F=["href"],G=w({__name:"form-common",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:l,emit:t}){const a=e,r=t,{t:n}=h(),o=C(a,"isEdit"),d=C(a,"alarm"),s=b((()=>d.value.name)),_=b((()=>d.value.title)),m=A(null),c=y({title:"",url:""}),f={title:{trigger:["blur","input"],validator:()=>""!==c.title.trim()||new Error(n("Config.Alarm.index_47"))},url:{trigger:["blur","input"],validator:()=>""!==c.url.trim()||new Error(n("Config.Alarm.index_48"))}},x=()=>({sender_type:s.value,sender_data:{title:c.title,url:c.url,atall:"True"}});return(()=>{const{row:e}=a;if(o.value&&e){const{data:l}=e;c.title=l.title,c.url=l.url}})(),l({onConfirm:async()=>{await(m.value?.validate()),o.value&&a.row?await u({...x(),sender_id:a.row.id}):await p(x()),r("refresh")}}),(e,l)=>{const t=L,a=R,r=g,n=v,o=i;return k(),q("div",W,[E(n,{ref_key:"formRef",ref:m,model:U(c),rules:f},{default:$((()=>[E(a,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",X,[E(t,{value:U(c).title,"onUpdate:value":l[0]||(l[0]=e=>U(c).title=e),placeholder:e.$t("Config.Alarm.index_44")},null,8,["value","placeholder"])])])),_:1},8,["label"]),E(a,{label:"URL",path:"receiveMail"},{default:$((()=>[j("div",Z,[E(r,{value:U(c).url,"onUpdate:value":l[1]||(l[1]=e=>U(c).url=e),row:5,placeholder:e.$t("Config.Alarm.index_45")},null,8,["value","placeholder"])])])),_:1})])),_:1},8,["model"]),E(o,{class:"mt-4px pl-24px"},{default:$((()=>[j("li",null,[j("a",{class:"bt-link",href:U(d).help,target:"_blank"},M(e.$t("Config.Alarm.index_46",[U(_)])),9,F)])])),_:1})])}}}),J={class:"px-20px py-24px"},Y={class:"w-300px"},ee={class:"w-300px"},le={class:"w-300px"},te={class:"bt-link",href:"",target:"_blank"},ae=w({__name:"form-tg",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:l,emit:t}){const a=e,r=t,{t:n}=h(),o=C(a,"isEdit"),d=C(a,"alarm"),s=b((()=>d.value.name)),_=A(null),m=y({title:"",id:"",token:""}),c={title:{trigger:["blur","input"],validator:()=>""!==m.title.trim()||new Error(n("Config.Alarm.index_67"))},id:{trigger:["blur","input"],validator:()=>""!==m.id.trim()||new Error("Please enter Telegram ID")},token:{trigger:["blur","input"],validator:()=>""!==m.token.trim()||new Error("Please enter Telegram TOKEN")}},f=()=>({sender_type:s.value,sender_data:{title:m.title,my_id:m.id,bot_token:m.token}});return(()=>{const{row:e}=a;if(o.value&&e){const{data:l}=e;m.title=l.title,m.id=l.my_id,m.token=l.bot_token}})(),l({onConfirm:async()=>{await(_.value?.validate()),o.value&&a.row?await u({...f(),sender_id:a.row.id}):await p(f()),r("refresh")}}),(e,l)=>{const t=L,a=R,r=v,n=i;return k(),q("div",J,[E(r,{ref_key:"formRef",ref:_,model:U(m),rules:c},{default:$((()=>[E(a,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",Y,[E(t,{value:U(m).title,"onUpdate:value":l[0]||(l[0]=e=>U(m).title=e),placeholder:e.$t("Config.Alarm.index_44")},null,8,["value","placeholder"])])])),_:1},8,["label"]),E(a,{label:"ID",path:"id"},{default:$((()=>[j("div",ee,[E(t,{value:U(m).id,"onUpdate:value":l[1]||(l[1]=e=>U(m).id=e),placeholder:"Telegram ID"},null,8,["value"])])])),_:1}),E(a,{label:"TOKEN",path:"token"},{default:$((()=>[j("div",le,[E(t,{value:U(m).token,"onUpdate:value":l[2]||(l[2]=e=>U(m).token=e),placeholder:"Telegram TOKEN"},null,8,["value"])])])),_:1})])),_:1},8,["model"]),E(n,{class:"mt-4px pl-24px"},{default:$((()=>[j("li",null,M(e.$t("Config.Alarm.index_68")),1),j("li",null,M(e.$t("Config.Alarm.index_69")),1),j("li",null,[j("span",null,M(e.$t("Config.Alarm.index_70")),1),j("a",te,M(e.$t("Public.Btn.Help")),1)])])),_:1})])}}}),ie={class:"p-20px"},re=w({__name:"table-common",props:{row:{},refresh:{}},setup(e){const l=e,i=C(l,"row"),u=(()=>{switch(i.value.name){case"mail":default:return V;case"dingding":case"feishu":case"weixin":return G;case"tg":return ae}})(),{t:p}=h(),v=new Map([["mail",{title:p("Config.Alarm.index_3")}],["dingding",{title:p("Config.Alarm.index_49")}],["feishu",{title:p("Config.Alarm.index_50")}],["weixin",{title:p("Config.Alarm.index_51")}],["tg",{title:"Telegram"}]]),g=r("",{isEdit:!1,alarm:i.value,onRefresh:()=>{P()}}),x=()=>{g.data.isEdit=!1,g.title=p("Config.Alarm.index_52",[i.value.title]),g.show=!0},{table:w,columns:b}=n([{key:"title",title:v.get(i.value.name)?.title||"--",ellipsis:{tooltip:!0},render:e=>e.original?p("Config.Alarm.index_64",[e.data.title]):e.data.title},{key:"used",title:p("Config.Alarm.index_54"),width:80,render:e=>E("a",{class:["bt-link",e.used?"":"error"],onClick:()=>{A(e)}},[e.used?p("Config.Alarm.index_65"):p("Config.Alarm.index_55")])},o({width:200,options:e=>[{label:p("Config.Alarm.index_56"),show:!e.original,onClick:()=>{y(e)}},{label:p("Public.Btn.Edit"),onClick:()=>{(e=>{g.data.row=e,g.data.isEdit=!0,g.title=p("Config.Alarm.index_53",[i.value.title]),g.show=!0})(e)}},{label:p("Config.Alarm.index_57"),onClick:()=>{j(e)}},{label:p("Config.Alarm.index_58"),onClick:()=>{B(e)}}]})]),A=e=>{const l=e.used?p("Config.Alarm.index_66"):p("Config.Alarm.index_18");d({title:p("Config.Alarm.index_59_1",[l,i.value.title,e.data.title]),content:p("Config.Alarm.index_59",[l.toLocaleLowerCase(),i.value.title,e.data.title]),onConfirm:async()=>{await f({sender_id:e.id}),e.used=!e.used}})},y=e=>{d({width:400,title:p("Config.Alarm.index_60"),content:p("Config.Alarm.index_61",[e.data.title]),onConfirm:async()=>{await _({sender_type:i.value.name,sender_id:e.id}),w.data.forEach((l=>{l.original=l.id===e.id}))}})},j=async e=>{await m({sender_id:e.id})},B=e=>{d({title:p("Config.Alarm.index_62",[i.value.title,e.data.title]),content:p("Config.Alarm.index_63",[i.value.title,e.data.title]),onConfirm:async()=>{await c({sender_id:e.id}),P()}})},P=async()=>{await(l.refresh?.()),w.data=i.value.list};return w.data=i.value.list,(e,l)=>{const i=H,r=s,n=a,o=t;return k(),q("div",ie,[E(n,null,{toolsLeft:$((()=>[E(i,{type:"primary",onClick:x},{default:$((()=>[T(M(e.$t("Public.Btn.Add")),1)])),_:1})])),table:$((()=>[E(r,{data:U(w).data,columns:U(b)},null,8,["data","columns"])])),_:1}),E(o,{show:U(g).show,"onUpdate:show":l[0]||(l[0]=e=>U(g).show=e),title:U(g).title,data:U(g).data,width:500,footer:!0,component:U(u)},null,8,["show","title","data","component"])])}}});e("default",w({__name:"index",props:{row:{},refresh:{}},setup(e){const l=re;return(e,t)=>(k(),B(P(U(l)),{row:e.row,refresh:e.refresh},null,8,["row","refresh"]))}}))}}}));
