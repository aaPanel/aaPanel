System.register(["./vue-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./file-legacy.js?v=1769066082311","./index-legacy113.js?v=1769066082311","./index-legacy115.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311"],function(e,a){"use strict";var n,o,i,t,l,s,g,c,_,u,m,p,d,r,f,v,b,C,U,I,y,x,h,w,k,S,$,B,D,O,j,R,z,q,A,F,M,E,L,P;return{setters:[e=>{n=e.P,o=e.a0,i=e.N,t=e.k,l=e.ad,s=e.ae,g=e.c,c=e.r,_=e.R,u=e.V,m=e.S,p=e.a2,d=e.U,r=e.a4,f=e.q,v=e.W,b=e.ak,C=e.a3,U=e.j,I=e.F,y=e.an},e=>{x=e.i,h=e.A,w=e.m,k=e.aE,S=e.d,$=e.aF,B=e.aG,D=e.p,O=e.aH,j=e.q},e=>{R=e.a},e=>{z=e.u},e=>{q=e.S},e=>{A=e.S},e=>{F=e.bL,M=e.aC,E=e.dg,L=e.dk,P=e.dT},null,null],execute:function(){var a=document.createElement("style");a.textContent=".logo-preview[data-v-f0cd1801]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;margin-bottom:10px;padding:8px;border:1px dashed var(--color-border);overflow:hidden;text-align:center}.logo-tips[data-v-f0cd1801]{margin-bottom:10px;font-size:12px;color:#999}.upload-action[data-v-f0cd1801]{display:flex;align-items:center;gap:10px}\n/*$vite$:1*/",document.head.appendChild(a);const{t:T}=x.global,H={favicon:"/static/favicon.ico",show_login_logo:!0,show_login_bg_images:!1,login_logo:"/static/icons/logo-green.svg",login_bg_images:"",login_bg_images_opacity:100,show_main_bg_images:!0,main_bg_images:"/static/icons/main_bg.png",main_bg_images_dark:"/static/icons/main_bg_dark.png",main_bg_images_opacity:100,main_content_opacity:100,main_shadow_color:"#000000",main_shadow_opacity:5,menu_logo:"/static/icons/menu_logo.png",menu_bg_opacity:100,theme_color:"#3c444d",theme_name:"default",home_state_font_size:24},G=new Map([["menu_logo",T("Config.UI.logo")],["favicon",T("Config.UI.websiteIcon")],["login_bg_images",T("Config.UI.loginBackgroundImage")],["login_logo",T("Config.UI.loginLogoImage")],["main_bg_images",T("Config.UI.mainBackgroundImage")],["theme_color",T("Config.UI.sidebarColor")],["theme_name",T("Config.UI.colorTheme")],["menu_bg_opacity",T("Config.UI.sidebarBackgroundOpacity")],["main_content_opacity",T("Config.UI.contentOpacity")],["main_bg_images_opacity",T("Config.UI.mainBackgroundImageOpacity")],["login_bg_images_opacity",T("Config.UI.loginBackgroundOpacity")],["main_shadow_color",T("Config.UI.mainShadowColor")],["main_shadow_opacity",T("Config.UI.mainShadowOpacity")]]),N=()=>{const{t:e}=n(),a=h(),{pageConfig:t}=o(a),l=async()=>{const{message:e}=await k.post("/config?action=get_panel_asset");S(e)&&(t.value=e)},s=async(a={})=>{await k.post("/config?action=set_panel_asset",i({...t.value,...a}),{requestOptions:{loading:e("Config.UI.savingInterfaceSettings"),successMessage:!0}}),l()},g=e=>G.get(e)||e;return{pageConfig:t,fetchConfig:l,saveConfig:s,resetConfig:a=>{R({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestore",{name:g(a)}),onConfirm:async()=>{await s({[a]:H[a]})}})},uploadImage:async(a,n)=>{if(n.file){const o=w.loading(e("Config.UI.uploadingImage"));try{const e=((e,a)=>{const n=(e=>{const a=e.lastIndexOf(".");return-1!==a?e.substring(a+1):"png"})(a);return`${e}_${Date.now()}.${n}`})(a,n.name),o=new FormData;o.append("f_path","/www/server/panel/BTPanel/static/temp"),o.append("f_name",e),o.append("f_start","0"),o.append("blob",n.file),o.append("f_size",n.file.size.toString()),await z(o),await k.post("/config?action=set_panel_asset",i({...t.value,[a]:`/static/temp/${e}`}),{requestOptions:{successMessage:!0}}),"favicon"===a&&(e=>{const a=document.querySelector("link[rel*='icon']");a&&(a.href=$(e))})(`/static/temp/${e}`),l()}finally{o.close()}}},resetAllConfig:()=>{R({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestoreAll"),onConfirm:async()=>{await s(H)}})}}},V={class:"logo-preview"},W={key:1,class:"text-font3"},J={class:"logo-tips"},K={class:"upload-action"},Q=t({__name:"upload",props:l({onUpload:Function},{value:{default:""},valueModifiers:{}}),emits:l(["reset"],["update:value"]),setup(e,{emit:a}){const{t:o}=n(),i=a,t=s(e,"value"),l=g(()=>$(t.value)),I=c([]),y=({file:e})=>{if(e.file){if(!e.file.type.includes("image"))return w.error(o("Config.UI.imageFileOnlyError")),!1;if(e.file.size>5242880)return w.error(o("Config.UI.imageSizeError")),!1}return!0},x=async({file:a})=>{await(e.onUpload?.(a)),I.value=[]},h=()=>{i("reset")};return(e,a)=>{const n=F,o=M,i=B;return u(),_("div",null,[m("div",V,[t.value?(u(),p(n,{key:0,width:"100%",height:"100%",src:d(l),"preview-disabled":!0},null,8,["src"])):(u(),_("span",W,r(e.$t("Config.UI.uploadImagePlaceholder")),1))]),m("div",J,[f(e.$slots,"desc",{},void 0,!0)]),m("div",K,[v(i,{"file-list":d(I),"onUpdate:fileList":a[0]||(a[0]=e=>b(I)?I.value=e:null),class:"w-auto",action:"",multiple:!1,"show-file-list":!1,"custom-request":x,onBeforeUpload:y},{default:C(()=>[v(o,{size:"small"},{default:C(()=>[f(e.$slots,"upload",{},void 0,!0)]),_:3})]),_:3},8,["file-list"]),v(o,{onClick:h},{default:C(()=>[U(r(e.$t("Config.UI.resetDefault")),1)]),_:1})])])}}}),X=D(Q,[["__scopeId","data-v-f0cd1801"]]),Y=t({__name:"index",setup(e){const{t:a}=n(),{pageConfig:o,uploadImage:i,resetConfig:t}=N();return(e,n)=>(u(),_(I,null,[v(A,{label:d(a)("Config.UI.logo")},{content:C(()=>[v(X,{value:d(o).menu_logo,"onUpdate:value":n[0]||(n[0]=e=>d(o).menu_logo=e),onUpload:n[1]||(n[1]=e=>d(i)("menu_logo",e)),onReset:n[2]||(n[2]=()=>d(t)("menu_logo"))},{desc:C(()=>[U(r(d(a)("Config.UI.logoDescription")),1)]),upload:C(()=>[U(r(d(a)("Config.UI.uploadLogo")),1)]),_:1},8,["value"])]),_:1},8,["label"]),v(A,{label:d(a)("Config.UI.websiteIcon")},{content:C(()=>[v(X,{value:d(o).favicon,"onUpdate:value":n[3]||(n[3]=e=>d(o).favicon=e),onUpload:n[4]||(n[4]=e=>d(i)("favicon",e)),onReset:n[5]||(n[5]=()=>d(t)("favicon"))},{desc:C(()=>[U(r(d(a)("Config.UI.iconDescription")),1)]),upload:C(()=>[U(r(d(a)("Config.UI.uploadIcon")),1)]),_:1},8,["value"])]),_:1},8,["label"])],64))}}),Z={class:"flex items-center"},ee={class:"w-120px mr-24px"},ae={class:"text-font3"},ne={class:"flex items-center gap-10px mt-10px"},oe=t({__name:"slider",props:{value:{default:0},valueModifiers:{}},emits:l(["save","reset"],["update:value"]),setup(e,{emit:a}){const{t:o}=n(),i=s(e,"value"),t=a,l=()=>{t("save")},g=()=>{t("reset")};return(e,a)=>{const n=O,t=E,s=M;return u(),_("div",null,[m("div",Z,[m("div",ee,[v(n,{value:i.value,"onUpdate:value":a[0]||(a[0]=e=>i.value=e),step:10},null,8,["value"])]),v(t,{value:i.value,"onUpdate:value":a[1]||(a[1]=e=>i.value=e),class:"w-150px",min:0,max:100,size:"small"},null,8,["value"])]),m("div",ae,r(d(o)("Config.UI.transparencyTip")),1),m("div",ne,[v(s,{size:"small",onClick:l},{default:C(()=>[U(r(e.$t("Public.Btn.Save")),1)]),_:1}),v(s,{size:"small",onClick:g},{default:C(()=>[U(r(d(o)("Config.UI.resetDefault")),1)]),_:1})])])}}}),ie=t({__name:"index",setup(e){const{t:a}=n(),{pageConfig:o,saveConfig:i,resetConfig:t}=N();return(e,n)=>(u(),p(A,{label:d(a)("Config.UI.sidebarBackgroundOpacity")},{content:C(()=>[v(oe,{value:d(o).menu_bg_opacity,"onUpdate:value":n[0]||(n[0]=e=>d(o).menu_bg_opacity=e),onSave:n[1]||(n[1]=()=>d(i)()),onReset:n[2]||(n[2]=()=>d(t)("menu_bg_opacity"))},null,8,["value"])]),_:1},8,["label"]))}}),te={class:"flex-1"},le={class:"flex items-center h-32px"},se=t({__name:"index",setup(e){const{t:a}=n(),{pageConfig:o,saveConfig:i,resetConfig:t,uploadImage:l}=N();return(e,n)=>{const s=L;return u(),_(I,null,[v(A,{label:d(a)("Config.UI.mainBackgroundImage")},{content:C(()=>[m("div",te,[m("div",le,[v(s,{value:d(o).show_main_bg_images,"onUpdate:value":[n[0]||(n[0]=e=>d(o).show_main_bg_images=e),d(i)]},{checked:C(()=>[U(r(d(a)("Config.UI.show")),1)]),unchecked:C(()=>[U(r(d(a)("Config.UI.hide")),1)]),_:1},8,["value","onUpdate:value"])]),d(o).show_main_bg_images?(u(),p(X,{key:0,value:d(o).main_bg_images,"onUpdate:value":n[1]||(n[1]=e=>d(o).main_bg_images=e),class:"mt-10px",onUpload:n[2]||(n[2]=e=>d(l)("main_bg_images",e)),onReset:n[3]||(n[3]=()=>d(t)("main_bg_images"))},{desc:C(()=>[U(r(d(a)("Config.UI.mainBackgroundDescription")),1)]),upload:C(()=>[U(r(d(a)("Config.UI.uploadImage")),1)]),_:1},8,["value"])):y("",!0)])]),_:1},8,["label"]),d(o).show_main_bg_images?(u(),p(A,{key:0,label:d(a)("Config.UI.mainBackgroundImageDark")},{content:C(()=>[v(X,{value:d(o).main_bg_images_dark,"onUpdate:value":n[4]||(n[4]=e=>d(o).main_bg_images_dark=e),class:"mt-10px",onUpload:n[5]||(n[5]=e=>d(l)("main_bg_images_dark",e)),onReset:n[6]||(n[6]=()=>d(t)("main_bg_images_dark"))},{desc:C(()=>[U(r(d(a)("Config.UI.mainBackgroundDescription")),1)]),upload:C(()=>[U(r(d(a)("Config.UI.uploadImage")),1)]),_:1},8,["value"])]),_:1},8,["label"])):y("",!0),v(A,{label:d(a)("Config.UI.backgroundOpacity")},{content:C(()=>[v(oe,{value:d(o).main_bg_images_opacity,"onUpdate:value":n[7]||(n[7]=e=>d(o).main_bg_images_opacity=e),onSave:n[8]||(n[8]=()=>d(i)()),onReset:n[9]||(n[9]=()=>d(t)("main_bg_images_opacity"))},null,8,["value"])]),_:1},8,["label"]),v(A,{label:d(a)("Config.UI.contentOpacity")},{content:C(()=>[v(oe,{value:d(o).main_content_opacity,"onUpdate:value":n[10]||(n[10]=e=>d(o).main_content_opacity=e),onSave:n[11]||(n[11]=()=>d(i)()),onReset:n[12]||(n[12]=()=>d(t)("main_content_opacity"))},null,8,["value"])]),_:1},8,["label"])],64)}}}),ge={class:"flex-1"},ce={class:"flex items-center h-32px"},_e=t({__name:"index",setup(e){const{pageConfig:a,saveConfig:n,resetConfig:o,uploadImage:i}=N();return(e,t)=>{const l=L;return u(),_(I,null,[v(A,{label:e.$t("Config.UI.loginBackgroundImage")},{content:C(()=>[m("div",ge,[m("div",ce,[v(l,{value:d(a).show_login_bg_images,"onUpdate:value":[t[0]||(t[0]=e=>d(a).show_login_bg_images=e),d(n)]},{checked:C(()=>[U(r(e.$t("Config.UI.show")),1)]),unchecked:C(()=>[U(r(e.$t("Config.UI.hide")),1)]),_:1},8,["value","onUpdate:value"])]),d(a).show_login_bg_images?(u(),p(X,{key:0,value:d(a).login_bg_images,"onUpdate:value":t[1]||(t[1]=e=>d(a).login_bg_images=e),class:"mt-10px",onUpload:t[2]||(t[2]=e=>d(i)("login_bg_images",e)),onReset:t[3]||(t[3]=()=>d(o)("login_bg_images"))},{desc:C(()=>[U(r(e.$t("Config.UI.backgroundDescription")),1)]),upload:C(()=>[U(r(e.$t("Config.UI.uploadImage")),1)]),_:1},8,["value"])):y("",!0)])]),_:1},8,["label"]),d(a).show_login_bg_images?(u(),p(A,{key:0,label:e.$t("Config.UI.loginBackgroundOpacity")},{content:C(()=>[v(oe,{value:d(a).login_bg_images_opacity,"onUpdate:value":t[4]||(t[4]=e=>d(a).login_bg_images_opacity=e),onSave:t[5]||(t[5]=()=>d(n)()),onReset:t[6]||(t[6]=()=>d(o)("login_bg_images_opacity"))},null,8,["value"])]),_:1},8,["label"])):y("",!0)],64)}}}),ue={class:"py-16px"},me={class:"my-16px"};e("default",t({__name:"index",setup(e){const{t:a}=n(),{fetchConfig:o,resetAllConfig:i}=N();return o(),(e,n)=>{const o=j,t=M,l=P;return u(),p(l,{class:"p-16px"},{default:C(()=>[v(q,{class:"mb-16px"},{default:C(()=>[U(r(d(a)("Config.UI.logoSettings")),1)]),_:1}),v(Y),v(q,{class:"mt-12px mb-16px"},{default:C(()=>[U(r(d(a)("Config.UI.sidebarSettings")),1)]),_:1}),v(ie),v(q,{class:"mt-12px mb-16px"},{default:C(()=>[U(r(d(a)("Config.UI.mainBackgroundSettings")),1)]),_:1}),v(se),v(q,{class:"mt-12px mb-16px"},{default:C(()=>[U(r(d(a)("Config.UI.loginInterfaceSettings")),1)]),_:1}),v(_e),m("div",ue,[m("div",me,[v(o)]),v(t,{onClick:n[0]||(n[0]=()=>d(i)())},{default:C(()=>[U(r(d(a)("Config.UI.resetAllDefaults")),1)]),_:1})])]),_:1})}}}))}}});
