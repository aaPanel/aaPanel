System.register(["./index-legacy102.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./index-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1752142539265","./public-legacy.js?v=1752142539265","./utils-legacy3.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1752142539265","./transition-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265"],(function(e,a){"use strict";var t,l,n,i,o,s,d,u,r,c,p,m,_,g,h,y,v,x,w,f,S,b,k,L,D,C,U,j,$,P,z,T,E,R,M,B,V,H,W,X,F,I,N,A,Q,Y,Z,q,G,J,K,O,ee,ae,te,le,ne,ie,oe,se,de,ue,re,ce,pe,me,_e,ge;return{setters:[e=>{t=e._},e=>{l=e.d,n=e._,i=e.a,o=e.e,s=e.o,d=e.u},e=>{u=e._},e=>{r=e._},e=>{c=e._},e=>{p=e.e,m=e.b,_=e.h,g=e.d,h=e.T,y=e.U,v=e.f,x=e.V,w=e.W,f=e.X,S=e.Y,b=e.Z,k=e.$},e=>{L=e.r,D=e.h,C=e.a,U=e.m,j=e.b,$=e.d,P=e.l,z=e.c,T=e.e,E=e.g,R=e.u,M=e.f},e=>{B=e.c1,V=e.c3,H=e.ay,W=e.cD,X=e.bX,F=e.cH,I=e.b$,N=e.cA},e=>{A=e.k,Q=e.P,Y=e.e,Z=e.r,q=e.Q,G=e.b,J=e.U,K=e.X,O=e.a2,ee=e.V,ae=e.W,te=e.j,le=e.a3,ne=e._,ie=e.ab,oe=e.ac,se=e.a1,de=e.s,ue=e.ah,re=e.o,ce=e.an,pe=e.F,me=e.$},e=>{_e=e._},e=>{ge=e.T},null,null,null],execute:function(){var he=document.createElement("style");he.textContent=".select-box[data-v-261b1844]{margin-bottom:16px;padding:8px;flex-direction:column!important;border-radius:4px;border:1px solid #dddddd}\n/*$vite$:1*/",document.head.appendChild(he);const ye={class:"flex items-center"},ve=A({__name:"index",setup(e){const t=ne((()=>i((()=>a.import("./form-legacy8.js?v=1752142539265")),void 0))),o=ne((()=>i((()=>a.import("./ssl-log-legacy.js?v=1752142539265")),void 0))),{t:s}=Q(),d=Y({p:1,limit:10}),w=p("",{isEdit:!1,onRefresh:()=>{z()}}),f=p(s("SSL.Domain.index_5")),S=()=>{w.data.isEdit=!1,w.title=s("SSL.Domain.index_4"),w.show=!0},b=Z(!1),{table:k,columns:j}=m([{key:"alias",title:s("Config.Panel.index_36"),render:e=>e.alias?q("span",{class:"bt-link",onClick:()=>{D.value=e.id,C.value=e.name,U.value="manage"}},[e.alias]):"--"},{key:"api_user",title:s("Home.index_2"),render:e=>e.api_user?e.api_user:"--"},L((e=>{f.data.path=e,f.show=!0})),{key:"status",title:s("Public.Table.Status"),render:e=>q(B,{uncheckedValue:0,checkedValue:1,value:e.status,"onUpdate:value":[a=>e.status=a,async a=>{try{await x({id:e.id,status:a})}catch{e.status=1===a?0:1}}]},null)},{key:"permission",title:s("Database.index_21"),align:"center",render:e=>e.permission?e.permission:"--"},{key:"domains",title:s("Layout.Sider.domain_1"),align:"center",render:e=>e.domains.length},_({width:250,options:e=>[{label:s("SSL.Domain.index_7"),onClick:()=>{D.value=e.id,C.value=e.name,U.value="manage"}},{label:s("Public.Btn.Edit"),onClick:()=>{$(e)}},{label:s("Public.Btn.Del"),onClick:()=>{g({title:s("SSL.Domain.index_8"),content:s("SSL.Domain.index_9"),onConfirm:async()=>{await h({id:e.id}),z()}})}}]})]),$=e=>{w.data.isEdit=!0,w.data.row=e,w.title=s("SSL.Domain.index_10"),w.show=!0};let P=null;const z=async()=>{try{b.value||(k.loading=!0);const{message:e}=await y(d);l(e)&&(b.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),b.value?T():P&&clearTimeout(P),k.data=e.data,k.total=e.total)}finally{k.loading=!1}},T=async()=>{P=window.setTimeout((()=>{z()}),5e3)};return z(),G((()=>{P&&clearTimeout(P)})),(e,a)=>{const l=n,i=V,s=H,p=v,m=c,_=r,g=u;return K(),J("div",null,[q(i,{"show-icon":!1,class:"mb-10px"},{default:O((()=>[ee("div",ye,[q(l,{name:"base-info",size:17,class:"mr-8px"}),a[4]||(a[4]=ee("span",{class:"leading-17px"},"aaPanel Domain Name Management Center, allowing you to unify accounts across multiple domain providers without switching DNS platforms",-1))])])),_:1}),q(_,null,{toolsLeft:O((()=>[q(s,{type:"primary",onClick:S},{default:O((()=>[te(le(e.$t("SSL.Domain.index_4")),1)])),_:1})])),table:O((()=>[q(p,{loading:ae(k).loading,data:ae(k).data,columns:ae(j)},null,8,["loading","data","columns"])])),pageRight:O((()=>[q(m,{page:ae(d).p,"onUpdate:page":a[0]||(a[0]=e=>ae(d).p=e),"page-size":ae(d).limit,"onUpdate:pageSize":a[1]||(a[1]=e=>ae(d).limit=e),"item-count":ae(k).total,onRefresh:z},null,8,["page","page-size","item-count"])])),_:1}),q(g,{show:ae(w).show,"onUpdate:show":a[2]||(a[2]=e=>ae(w).show=e),title:ae(w).title,data:ae(w).data,width:540,"min-height":300,footer:!0,component:ae(t)},null,8,["show","title","data","component"]),q(g,{show:ae(f).show,"onUpdate:show":a[3]||(a[3]=e=>ae(f).show=e),title:ae(f).title,data:ae(f).data,width:700,height:450,footer:!1,component:ae(o)},null,8,["show","title","data","component"])])}}}),xe=A({__name:"host-select",props:{value:{},valueModifiers:{}},emits:ie(["change"],["update:value"]),setup(e,{emit:a}){const t=oe(e,"value"),l=a,n=(e,a)=>{l("change",e,a.label)},i=e=>e.label+" ("+e.alias+")";return(e,a)=>{const l=W;return K(),se(l,de({class:"w-300px"},e.$attrs,{filterable:"",value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),n],options:ae(j),"consistent-menu-width":!1,"render-label":i}),null,16,["value","options"])}}}),we=A({__name:"domain-select",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=oe(e,"value"),{t:t}=Q(),l=e=>q(X,{class:"items-center justify-between!"},{default:()=>[q("span",{class:"w-225px truncate"},[t("Mail.Mass.index_45"),te("ï¼š"),e.label]),e.ssl_info&&-1!==e.ssl_info?q(F,{type:e.ssl_info>30?"success":e.ssl_info>0?"warning":"error",class:"px-10px"},{default:()=>[e.ssl_info?e.ssl_info+" "+t("Crontab.arrange.index_41"):t("Config.Safe.index_166")]}):""]});return(e,t)=>{const n=W;return K(),se(n,de(e.$attrs,{class:"w-350px",size:"large",filterable:"",value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),options:ae($),"consistent-menu-width":!1,loading:ae(P),disabled:!ae($).length,"render-label":l}),null,16,["value","options","loading","disabled"])}}}),fe=o(A({__name:"domain",emits:["change"],setup(e,{emit:t}){const o=ne((()=>i((()=>a.import("./domain-form-legacy.js?v=1752142539265")),void 0))),s=t,{t:d}=Q(),h=Y({p:1,limit:10,domain:z,search:""}),y=p("",{isEdit:!1,onRefresh:()=>{R()}}),x=()=>{y.data.isEdit=!1,y.title=d("SSL.Domain.index_17"),y.show=!0},b=()=>{s("change"),T.value=!1},k=()=>{h.p=1,R()},L=async()=>{R()},U=async(e,a)=>{C.value=a,D.value=e,z.value="",h.p=1,await E(),R()},{table:j,columns:$}=m([{key:"record",title:d("SSL.Domain.index_11"),width:"20%"},{key:"record_type",title:d("Ftp.Table.index_3"),width:"10%"},{key:"record_value",title:d("SSL.Domain.index_13"),width:"20%",ellipsis:{tooltip:!0}},{key:"ttl",title:"TTL",width:100,render:e=>1===e.ttl?d("Mail.Mass.index_34"):e.ttl},{key:"priority",title:"Priority",width:100,render:e=>-1===e.priority?"--":e.priority},{key:"proxy",title:d("SSL.Domain.index_16"),render:e=>-1===e.proxy?"--":q(B,{"checked-value":1,"unchecked-value":0,value:e.proxy,"onUpdate:value":[a=>e.proxy=a,async a=>{const t={id:e.id,pid:D.value,domain:z.value,record:e.record,record_type:e.record_type,record_value:e.record_value,ttl:e.ttl,priority:e.priority,proxy:a,ps:e.ps};try{await S(t)}catch{e.proxy=1===a?0:1}}]},null)},{key:"ps",title:d("Public.Table.Ps")},_({width:150,options:e=>[{label:d("Public.Btn.Edit"),onClick:()=>{P(e)}},{label:d("Public.Btn.Del"),onClick:()=>{g({title:d("SSL.Domain.index_19"),content:d("SSL.Domain.index_20"),onConfirm:async()=>{await w({id:e.id}),R(),s("change")}})}}]})]),P=e=>{y.data.isEdit=!0,y.data.row=e,y.title=d("SSL.Domain.index_21"),y.show=!0},R=async()=>{try{if(""===z.value)return void(j.data=[]);j.loading=!0;const{message:e}=await f({...h,search_pid:D.value});l(e)&&(j.data=e.data,j.total=e.total)}finally{j.loading=!1}};return(async()=>{await E(),await R()})(),(e,a)=>{const t=n,l=H,i=I,s=X,d=_e,p=v,m=c,_=r,g=u;return K(),J("div",null,[q(s,{class:"select-box"},{default:O((()=>[q(xe,{value:ae(D),"onUpdate:value":a[0]||(a[0]=e=>ue(D)?D.value=e:null),onChange:U},null,8,["value"]),q(s,null,{default:O((()=>[q(we,{value:ae(h).domain,"onUpdate:value":[a[1]||(a[1]=e=>ae(h).domain=e),k]},null,8,["value"]),q(i,{trigger:"hover"},{trigger:O((()=>[q(l,{onClick:L,class:"h-40px w-40px"},{default:O((()=>[q(t,{name:"base-refresh"})])),_:1})])),default:O((()=>[ee("span",null,le(e.$t("SSL.Domain.index_22")),1)])),_:1})])),_:1})])),_:1}),q(_,null,{toolsLeft:O((()=>[q(l,{type:"primary",onClick:x},{default:O((()=>[te(le(e.$t("SSL.Domain.index_17")),1)])),_:1}),q(l,{onClick:b},{default:O((()=>[te(le(e.$t("SSL.Domain.index_18")),1)])),_:1})])),toolsRight:O((()=>[q(d,{value:ae(h).search,"onUpdate:value":a[2]||(a[2]=e=>ae(h).search=e),onSearch:k},null,8,["value"])])),table:O((()=>[q(p,{loading:ae(j).loading,data:ae(j).data,columns:ae($)},null,8,["loading","data","columns"])])),pageRight:O((()=>[q(m,{page:ae(h).p,"onUpdate:page":a[3]||(a[3]=e=>ae(h).p=e),"page-size":ae(h).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ae(h).limit=e),"item-count":ae(j).total,onRefresh:R},null,8,["page","page-size","item-count"])])),_:1}),q(g,{show:ae(y).show,"onUpdate:show":a[5]||(a[5]=e=>ae(y).show=e),title:ae(y).title,data:ae(y).data,width:540,"min-height":300,footer:!0,component:ae(o)},null,8,["show","title","data","component"])])}}}),[["__scopeId","data-v-261b1844"]]),Se=A({__name:"index",setup(e){const t=ne((()=>i((()=>a.import("./ssl-log-legacy.js?v=1752142539265")),void 0))),{t:n}=Q(),o=Y({p:1,limit:10,domain:"",id:D}),d=async()=>{await b({id:o.id}),S(),g.show=!0},g=p(n("SSL.Domain.index_23"),{path:"/www/server/panel/logs/dns_sync.log"}),h=e=>{z.value=e,T.value=!0},y=(e,a)=>{C.value=a,D.value=e,o.p=1,S()},x=()=>{o.p=1,S()},{table:w,columns:f}=m([{key:"name",title:n("Mail.Mass.index_45"),render:e=>q(s,{onClick:()=>h(e.name)},{default:()=>[e.name]})},R({key:"ssl_info.end_time",title:"SSL Days"}),{key:"ssl_info.end_date",title:"SSL Expiration Time",render:e=>e.ssl_info.end_date?e.ssl_info.end_date:"--"},{key:"records",title:n("SSL.Domain.index_24"),align:"center"},_({width:150,options:e=>[{label:n("SSL.index_58"),onClick:()=>{h(e.name)}}]})]),S=async()=>{if(D.value)try{w.loading=!0;const{message:e}=await k(o);l(e)&&(e.data.length>0?(w.data=e.data,w.total=e.total):(w.data=[],w.total=0))}finally{w.loading=!1}};return re((async()=>{await M(),S()})),(e,a)=>{const l=H,n=_e,i=v,s=c,p=r,m=u;return K(),J(pe,null,[ae(T)?ce("",!0):(K(),se(p,{key:0},{toolsLeft:O((()=>[q(xe,{value:ae(o).id,"onUpdate:value":a[0]||(a[0]=e=>ae(o).id=e),onChange:y},null,8,["value"]),q(l,{onClick:d,type:"primary",ghost:""},{default:O((()=>[te(le(e.$t("SSL.Domain.index_22")),1)])),_:1}),q(l,{onClick:a[1]||(a[1]=e=>ae(g).show=!0)},{default:O((()=>[te(le(e.$t("SSL.Domain.index_23")),1)])),_:1})])),toolsRight:O((()=>[q(n,{value:ae(o).domain,"onUpdate:value":a[2]||(a[2]=e=>ae(o).domain=e),onSearch:x,placeholder:e.$t("WP.index_4")},null,8,["value","placeholder"])])),table:O((()=>[q(i,{loading:ae(w).loading,data:ae(w).data,columns:ae(f)},null,8,["loading","data","columns"])])),pageRight:O((()=>[q(s,{page:ae(o).p,"onUpdate:page":a[3]||(a[3]=e=>ae(o).p=e),"page-size":ae(o).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ae(o).limit=e),"item-count":ae(w).total,onRefresh:S},null,8,["page","page-size","item-count"])])),_:1})),ae(T)?(K(),se(fe,{key:1,onChange:S})):ce("",!0),q(m,{show:ae(g).show,"onUpdate:show":a[5]||(a[5]=e=>ae(g).show=e),title:ae(g).title,data:ae(g).data,width:650,"min-height":450,component:ae(t)},null,8,["show","title","data","component"])],64)}}});e("default",A({__name:"index",setup(e){const a=d(),{userInfo:l}=me(a),{t:n}=Q(),i=[{key:"host",label:n("SSL.Domain.index_27"),component:ve},{key:"manage",label:n("SSL.Domain.index_7"),component:Se}],o=e=>{"host"===e&&(T.value=!1)};return(e,a)=>{const n=t,s=N;return ae(l).status?(K(),se(s,{key:0,class:"p-16px"},{default:O((()=>[q(n,{value:ae(U),"onUpdate:value":[a[0]||(a[0]=e=>ue(U)?U.value=e:null),o],options:i},null,8,["value"])])),_:1})):(K(),se(ge,{key:1}))}}}))}}}));
