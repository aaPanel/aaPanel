System.register(["./index-legacy184.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./public-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1752142539265","./index-legacy101.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265"],(function(e,t){"use strict";var a,n,s,l,o,u,i,c,p,g,d,r,A,x,y,_,m,b,v,h,f,C,k,w,j,B,L,M,Q,E,R,z,D,I,F,O,U,N,S,$,H,P,V,K,X,G;return{setters:[e=>{a=e._},e=>{n=e.u,s=e.p,l=e.dK,o=e.dL,u=e.dM,i=e.f,c=e.e,p=e.O,g=e.dN,d=e.d},e=>{r=e.k,A=e.z,x=e.f,y=e.c,_=e.aj},e=>{m=e.B,b=e.bX,v=e.ay},e=>{h=e.k,f=e.P,C=e.Q,k=e.F,w=e.u,j=e.r,B=e.w,L=e.b,M=e.ao,Q=e.a1,E=e.X,R=e.a2,z=e.V,D=e.U,I=e.O,F=e.W,O=e.an,U=e.l,N=e.a3,S=e.j,$=e.$,H=e.e,P=e.x,V=e.ah},e=>{K=e._},e=>{X=e._},e=>{G=e._},null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.install[data-v-7b9da2ab]:before{content:"";margin-right:8px;display:inline-block;width:8px;height:8px;border-radius:50%;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity))}.cmd[data-v-7b9da2ab]{margin-top:10px;margin-bottom:10px;height:200px;overflow:auto;white-space:pre-line;--un-bg-opacity:1;background-color:rgb(66 66 81 / var(--un-bg-opacity));padding:5px;--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity));line-height:22px}[data-v-8405edde] .bt-log .hljs{padding:5px 0 5px 5px!important}\n/*$vite$:1*/',document.head.appendChild(t);const J=h({name:"EmptyBox",setup(e,{slots:t}){const a=n(),{t:l}=f(),o=()=>{r()};return()=>{let e;return C(k,null,[0===a.taskCount?C(m,{class:"pt-80px",size:"huge",description:l("Layout.MessageBox.index_1")},null):C(k,null,[C(b,{class:"justify-between! flex-nowrap!"},{default:()=>{return[C("span",null,[l("Layout.MessageBox.index_2")]),C(v,{text:!0,type:"primary",onClick:o},(t=e=l("Public.Status.Restart"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!w(t)?e:{default:()=>[e]}))];var t}}),C(s,{class:"mt-12px! mb-16px!"},null),t.default?.()])])}}}),T={class:"h-460px overflow-auto"},W={class:"install"},q={key:0,class:"cmd"},Y=c(h({__name:"index",setup(e,{expose:t}){const a=n(),s=l(),c=o(),p=j(""),{send:g,close:d}=A("/sock_shell",{onMessage:(e,t)=>{const a=t.data;i(a)&&(p.value+=a)}}),r=()=>{if(c.taskList.length){const{type:e,status:t}=c.taskList[0];"execshell"===e&&("-1"===t?(p.value="",g("tail -n 100 -f /tmp/panelExec.log")):setTimeout((async()=>{await c.getList(),r()}),2e3))}};B((()=>a.taskCount),(e=>{e&&r(),s.getMessageCount()})),L((()=>{d()}));const x=async()=>{await c.getList(),0!==a.taskCount&&(r(),c.onRepetion())};return x(),t({init:x}),(e,t)=>{const a=v,n=b,s=M("scroll-bottom");return E(),Q(F(J),null,{default:R((()=>[z("div",T,[(E(!0),D(k,null,I(F(c).taskList,(l=>(E(),D("div",{key:l.id},["execshell"===l.type?(E(),D(k,{key:0},[C(n,{class:"justify-between! mb-8px"},{default:R((()=>[z("span",W,N(l.name),1),z("div",null,[S(N("0"===l.status?"waiting":e.$t("Soft.index_40"))+" ",1),t[0]||(t[0]=z("img",{src:"data:image/gif;base64,R0lGODlhDgACAIAAAHNzcwAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFDgABACwAAAAAAgACAAACAoRRACH5BAUOAAEALAQAAAACAAIAAAIChFEAIfkEBQ4AAQAsCAAAAAIAAgAAAgKEUQAh+QQJDgABACwAAAAADgACAAACBoyPBpu9BQA7"},null,-1)),t[1]||(t[1]=z("span",{class:"px-5px"},"|",-1)),C(a,{text:"",color:"#20a53a",onClick:e=>(async e=>{d(),await u({id:e}),await c.getList()})(l.id)},{default:R((()=>[S(N(e.$t("Public.Btn.Del")),1)])),_:2},1032,["onClick"])])])),_:2},1024),"-1"===l.status?U((E(),D("pre",q,[S(N(F(p)),1)])),[[s]]):O("",!0)],64)):O("",!0)])))),128))])])),_:1})}}}),[["__scopeId","data-v-7b9da2ab"]]),Z=h({__name:"index",setup(e,{expose:t}){const a=l(),{loading:n,table:s,columns:o,search:u}=$(a),i=()=>{a.getMessageCount()};return t({init:i}),(e,t)=>{const a=x,l=X,c=K;return E(),Q(c,null,{table:R((()=>[C(a,{loading:F(n),data:F(s).data,columns:F(o)},null,8,["loading","data","columns"])])),pageRight:R((()=>[C(l,{page:F(u).p,"onUpdate:page":t[0]||(t[0]=e=>F(u).p=e),"page-size":F(u).limit,"onUpdate:pageSize":t[1]||(t[1]=e=>F(u).limit=e),"item-count":F(s).total,"page-slot":5,"show-size-picker":!1,onRefresh:i},null,8,["page","page-size","item-count"])])),_:1})}}}),ee=c(h({__name:"index",setup(e,{expose:t}){const a=j("None"),{loading:n,setLoading:s}=y(),l=async()=>{try{s(!0);const{message:e}=await g();d(e)&&(a.value=i(e.result)?e.result:"None")}finally{s(!1)}};return l(),t({init:l}),(e,t)=>{const s=G,l=p;return E(),Q(l,{class:"h-full",show:F(n)},{default:R((()=>[C(s,{log:F(a)},null,8,["log"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-8405edde"]]),te={class:"h-550px"};e("default",h({__name:"index",setup(e,{expose:t}){const{t:s}=f(),o=n(),u=l(),i=j("task"),c=H([{key:"task",label:()=>C("span",null,[s("Layout.MessageBox.index_3"),S(" ("),o.taskCount,S(")")]),component:P(Y)},{key:"message",label:()=>C("span",null,[s("Layout.MessageBox.index_4"),S(" ("),u.listConut,S(")")]),component:P(Z)},{key:"log",label:s("Layout.MessageBox.index_5"),component:P(ee)}]);return u.getMessageCount(),t({onClose:()=>{_()}}),(e,t)=>{const n=a;return E(),D("div",te,[C(n,{value:F(i),"onUpdate:value":t[0]||(t[0]=e=>V(i)?i.value=e:null),ref:"tabsRef",data:F(c)},null,8,["value","data"])])}}}))}}}));
