import{_ as a}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1769066082311";import{c as e,f as t,h as s}from"./public.js?v=1769066082311";import{d as n,a as l}from"./index63.js?v=1769066082311";import{d as i,p as o}from"./page_layout.js?v=1769066082311";import{k as p,P as r,e as u,R as _,V as d,W as m,a3 as c,F as v,O as j,U as y,a2 as f,S as x,a4 as b}from"./vue.js?v=1769066082311";import{db as g}from"./naive.js?v=1769066082311";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1769066082311";import"./common.js?v=1769066082311";import"./__commonjsHelpers__.js?v=1769066082311";import"./ssh.js?v=1769066082311";import"./index112.js?v=1769066082311";import"./index.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import"./index104.js?v=1769066082311";import"./index.vue_vue_type_script_setup_true_lang2.js?v=1769066082311";import"./index103.js?v=1769066082311";import"./index114.js?v=1769066082311";import"./ssl-lets-progress.js?v=1769066082311";import"./index.js?v=1769066082311";const h={class:"p-16px"},P={class:"text-2xl font-bold"},k=o(p({__name:"ssh-protection-log",setup(o,{expose:p}){const{t:k}=r(),I=u([{type:k("Total banned IP"),value:"-"},{type:k("Total failed connection"),value:"-"},{type:k("Current banned IP"),value:"-"},{type:k("Current failed connection"),value:"-"}]),{table:w,columns:C}=e([{title:"IP",key:"ip"},t({width:200,options:a=>[{label:k("Public.Btn.Delete"),onClick:async()=>{await n({ip:a.ip}),T()}}]})]),T=async()=>{try{w.loading=!0;const{message:a}=await l();i(a)&&(I[0].value=a.total_banned,I[1].value=a.total_failed,I[2].value=a.currently_banned,I[3].value=a.currently_failed,w.data=a.banned_ip_list.map(a=>({ip:a})))}finally{w.loading=!1}};return T(),p({init:T}),(e,t)=>{const n=g,l=s,i=a;return d(),_("div",h,[m(n,{class:"stat-box justify-around!"},{default:c(()=>[(d(!0),_(v,null,j(y(I),(a,e)=>(d(),f(n,{class:"flex-col! items-center",key:e},{default:c(()=>[x("span",null,b(a.type),1),x("span",P,b(a.value),1)]),_:2},1024))),128))]),_:1}),m(i,null,{table:c(()=>[m(l,{loading:y(w).loading,data:y(w).data,columns:y(C),"loading-num":3,"max-height":200},null,8,["loading","data","columns"])]),_:1})])}}}),[["__scopeId","data-v-d420b8b4"]]);export{k as default};
