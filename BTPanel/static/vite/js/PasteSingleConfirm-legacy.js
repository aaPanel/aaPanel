System.register(["./index-legacy.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1762424784323","./page_layout-legacy.js?v=1762424784323","./index-legacy39.js?v=1762424784323","./public-legacy.js?v=1762424784323","./vue-legacy.js?v=1762424784323","./naive-legacy.js?v=1762424784323","./common-legacy.js?v=1762424784323","./__commonjsHelpers__-legacy.js?v=1762424784323","./soft-legacy2.js?v=1762424784323","./soft-legacy.js?v=1762424784323","./site-legacy.js?v=1762424784323","./file-legacy2.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1762424784323"],function(e,a){"use strict";var l,t,n,i,s,u,o,r,f,c,m,p,d,v,y,_,g,w,j,C,b,h,x,$,T,z,P;return{setters:[e=>{l=e._},e=>{t=e._},e=>{n=e.n,i=e.a8},e=>{s=e.f,u=e.c,o=e.a,r=e.g},e=>{f=e.a},e=>{c=e.k,m=e.P,p=e.i,d=e.r,v=e.e,y=e.a2,_=e.V,g=e.a3,w=e.S,j=e.W,C=e.U,b=e.j,h=e.a4,x=e.ak},e=>{$=e.dR,T=e.dT,z=e.dU,P=e.au},null,null,null,null,null,null,null],execute:function(){const a={class:"p-20px"},S={class:"w-240px"};e("default",c({name:"PasteSingleConfirm",__name:"PasteSingleConfirm",setup(e,{expose:c}){const{t:U}=m(),F=p("fileStore"),{currentPath:k,fileList:M,fileCopyCache:H,copiedFile:L,waitForPaste:N}=F,R=d(!1),V=v({type:"rename",name:"",size:0,modifyTime:""}),W=e=>{const a=s(M.value,H.value);a.length&&("overwrite"===e?V.name=a[0].nm:"rename"===e&&(V.name=q(a[0].nm)))},q=e=>e.replace(/\.(?=[^.]+$)/," - copy.");function A(){R.value=!1}async function B(){await o(L.value.path,k.value+"/"+V.name),N.value=!1,r(F)}async function D(){if("rename"==V.type)return await u(k.value,V.name)?f({title:U("file.pasteConfirm.overwriteTitle"),content:U("file.pasteConfirm.overwriteMessage",[V.name]),onConfirm:async({hide:e})=>{await B(),e(),A()}}):(await B(),A()),!1;await B()}return c({open:function(){R.value=!0;const e=s(M.value,H.value);1==e.length&&(V.type="rename",V.name=q(e[0].nm),V.size=e[0].sz,V.modifyTime=i(e[0].mt))},close:A}),(e,s)=>{const u=z,o=T,r=$,f=P,c=t,m=l;return _(),y(m,{show:C(R),"onUpdate:show":s[2]||(s[2]=e=>x(R)?R.value=e:null),width:440,title:e.$t("file.pasteConfirm.title"),footer:!0,onConfirm:D},{default:g(()=>[w("div",a,[j(c,null,{default:g(()=>[j(r,{label:e.$t("file.pasteConfirm.operationType")},{default:g(()=>[j(o,{value:C(V).type,"onUpdate:value":[s[0]||(s[0]=e=>C(V).type=e),W]},{default:g(()=>[j(u,{value:"overwrite"},{default:g(()=>[b(h(e.$t("file.pasteConfirm.overwriteFile")),1)]),_:1}),j(u,{value:"rename"},{default:g(()=>[b(h(e.$t("file.pasteConfirm.renameFile")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),j(r,{label:e.$t("file.pasteConfirm.fileName")},{default:g(()=>[w("div",S,[j(f,{value:C(V).name,"onUpdate:value":s[1]||(s[1]=e=>C(V).name=e),disabled:"overwrite"==C(V).type,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),j(r,{label:e.$t("file.pasteConfirm.size")},{default:g(()=>[w("span",null,h(C(n)(C(V).size)),1)]),_:1},8,["label"]),j(r,{label:e.$t("file.pasteConfirm.lastModified"),"show-feedback":!1},{default:g(()=>[w("span",null,h(C(i)(C(V).modifyTime)),1)]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title"])}}}))}}});
