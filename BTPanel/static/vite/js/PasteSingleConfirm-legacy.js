System.register(["./index-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./soft-legacy2.js?v=1769066082311","./soft-legacy.js?v=1769066082311","./site-legacy.js?v=1769066082311"],function(e,a){"use strict";var l,t,n,i,s,u,o,r,f,m,c,p,d,v,y,_,g,w,C,j,b,h,$,S,x,z,T;return{setters:[e=>{l=e._},e=>{t=e._},e=>{n=e.n,i=e.aa},e=>{s=e.A,u=e.T,o=e.U,r=e.w},e=>{f=e.a},e=>{m=e.k,c=e.P,p=e.i,d=e.r,v=e.e,y=e.a2,_=e.V,g=e.a3,w=e.S,C=e.W,j=e.U,b=e.j,h=e.a4,$=e.ak},e=>{S=e.dS,x=e.dU,z=e.dV,T=e.au},null,null,null,null,null],execute:function(){const a={class:"p-20px"},U={class:"w-240px"};e("default",m({name:"PasteSingleConfirm",__name:"PasteSingleConfirm",setup(e,{expose:m}){const{t:P}=c(),F=p("fileStore"),{currentPath:k,fileList:M,fileCopyCache:V,copiedFile:A,waitForPaste:H}=F,L=d(!1),N=v({type:"rename",name:"",size:0,modifyTime:""}),W=e=>{const a=s(M.value,V.value);a.length&&("overwrite"===e?N.name=a[0].nm:"rename"===e&&(N.name=q(a[0].nm)))},q=e=>e.replace(/\.(?=[^.]+$)/," - copy.");function B(){L.value=!1}async function D(){await o(A.value.path,k.value+"/"+N.name),H.value=!1,r(F)}async function E(){if("rename"==N.type)return await u(k.value,N.name)?f({title:P("file.pasteConfirm.overwriteTitle"),content:P("file.pasteConfirm.overwriteMessage",[N.name]),onConfirm:async({hide:e})=>{await D(),e(),B()}}):(await D(),B()),!1;await D()}return m({open:function(){L.value=!0;const e=s(M.value,V.value);1==e.length&&(N.type="rename",N.name=q(e[0].nm),N.size=e[0].sz,N.modifyTime=i(e[0].mt))},close:B}),(e,s)=>{const u=z,o=x,r=S,f=T,m=t,c=l;return _(),y(c,{show:j(L),"onUpdate:show":s[2]||(s[2]=e=>$(L)?L.value=e:null),width:440,title:e.$t("file.pasteConfirm.title"),footer:!0,onConfirm:E},{default:g(()=>[w("div",a,[C(m,null,{default:g(()=>[C(r,{label:e.$t("file.pasteConfirm.operationType")},{default:g(()=>[C(o,{value:j(N).type,"onUpdate:value":[s[0]||(s[0]=e=>j(N).type=e),W]},{default:g(()=>[C(u,{value:"overwrite"},{default:g(()=>[b(h(e.$t("file.pasteConfirm.overwriteFile")),1)]),_:1}),C(u,{value:"rename"},{default:g(()=>[b(h(e.$t("file.pasteConfirm.renameFile")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),C(r,{label:e.$t("file.pasteConfirm.fileName")},{default:g(()=>[w("div",U,[C(f,{value:j(N).name,"onUpdate:value":s[1]||(s[1]=e=>j(N).name=e),disabled:"overwrite"==j(N).type,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),C(r,{label:e.$t("file.pasteConfirm.size")},{default:g(()=>[w("span",null,h(j(n)(j(N).size)),1)]),_:1},8,["label"]),C(r,{label:e.$t("file.pasteConfirm.lastModified"),"show-feedback":!1},{default:g(()=>[w("span",null,h(j(i)(j(N).modifyTime)),1)]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title"])}}}))}}});
