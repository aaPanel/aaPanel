import{c as e,d as a,h as t,f as s,a as n,e as o,_ as l}from"./public.js?v=1767769852656";import{_ as i}from"./index.js?v=1767769852656";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1767769852656";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1767769852656";import{d,m as c,y as p,p as m}from"./page_layout.js?v=1767769852656";import{g as _,a as y,d as f,b as g,s as x}from"./compiler.js?v=1767769852656";import{k as h,P as w,R as v,V as C,W as S,a3 as I,j as b,a4 as j,U as k,ak as $,e as L,N as R,F as U,S as z,r as T}from"./vue.js?v=1767769852656";import{dk as F,aC as N,da as P,dj as B,dS as D}from"./naive.js?v=1767769852656";import"./common.js?v=1767769852656";import"./__commonjsHelpers__.js?v=1767769852656";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1767769852656";const H={class:"p-20px"},J=h({__name:"user",props:{data:{}},setup(s,{expose:n}){const{t:o}=w(),l=s,{getList:i}=l.data,{keys:r,table:u,columns:p}=e([{type:"selection",width:40},{key:"id",title:o("Site.TableRow.index_2")}]),{loading:m,setLoading:f}=a();(async()=>{try{f(!0);const{message:e}=await _();d(e)&&(u.data=e.data.map(e=>({id:e})))}finally{r.value=[],f(!1)}})();return n({onConfirm:async()=>{if(!r.value.length)return c.error(o("Security.Compiler.Index_5")),!1;await y({users:JSON.stringify(r.value)}),null==i||i()}}),(e,a)=>{const s=F,n=t;return C(),v("div",H,[S(s,{"show-icon":!1,class:"mb-15px"},{default:I(()=>[b(j(e.$t("Security.Compiler.Index_3")),1)]),_:1}),S(n,{"checked-row-keys":k(r),"onUpdate:checkedRowKeys":a[0]||(a[0]=e=>$(r)?r.value=e:null),"row-key":"id",loading:k(m),data:k(u).data,"max-height":250,columns:k(p)},null,8,["checked-row-keys","loading","data","columns"])])}}}),K=h({__name:"index",setup(c){const{t:m}=w(),_=()=>{P.show=!0},y=L({p:1,limit:10}),{table:x,columns:h}=e([{key:"name",title:m("Site.TableRow.index_2")},s({width:130,options:e=>[{label:m("Public.Btn.Del"),onClick:()=>{n({title:"".concat(m("Ftp.Table.index_10")," ").concat(e.name),content:m("Security.Compiler.Index_6"),onConfirm:async()=>{await f({user:e.name}),F()}})}}]})]),{loading:$,setLoading:T}=a(),F=async()=>{try{T(!0);const{message:e}=await g(R(y));d(e)&&(x.data=e.data.map(e=>({name:e})),x.total=p(e.page))}finally{T(!1)}};F();const P=o(m("Security.Compiler.Index_1"),{getList:F});return(e,a)=>{const s=N,n=t,o=u,d=r,c=l,p=i;return C(),v(U,null,[S(d,null,{toolsLeft:I(()=>[S(s,{type:"primary",onClick:_},{default:I(()=>[b(j(e.$t("Security.Compiler.Index_1")),1)]),_:1})]),table:I(()=>[S(n,{loading:k($),data:k(x).data,columns:k(h)},null,8,["loading","data","columns"])]),pageRight:I(()=>[S(o,{page:k(y).p,"onUpdate:page":a[0]||(a[0]=e=>k(y).p=e),"page-size":k(y).limit,"onUpdate:pageSize":a[1]||(a[1]=e=>k(y).limit=e),"item-count":k(x).total,onRefresh:F},null,8,["page","page-size","item-count"])]),_:1}),S(c,null,{default:I(()=>[z("li",null,j(e.$t("Security.Compiler.Index_2")),1)]),_:1}),S(p,{show:k(P).show,"onUpdate:show":a[2]||(a[2]=e=>k(P).show=e),title:k(P).title,data:k(P).data,width:600,"min-height":350,footer:!0,component:J},null,8,["show","title","data"])],64)}}}),O=m(h({__name:"index",setup(e){const{t:t}=w(),s=T(!1),o=async e=>{s.value=!e;const a=t("Security.Conf.Index_35"),o=t("Security.Conf.Index_36");n({title:a,content:o,onConfirm:async({hide:a})=>{try{await x({status:e?1:0}),c.success(t("Security.Compiler.Index_4")),a(),s.value=e}catch(n){console.error(n)}}})},{loading:l,setLoading:i}=a(!0);return(async()=>{i(!0);const{message:e}=await x(null,!1);d(e)&&(s.value=e.result),i(!1)})(),(e,a)=>{const t=B,n=P,i=D,r=F;return C(),v(U,null,[S(i,null,{default:I(()=>[S(n,{class:"p-15px items-center"},{default:I(()=>[z("span",null,j(e.$t("Security.Conf.Index_30")),1),S(t,{value:k(s),"onUpdate:value":[a[0]||(a[0]=e=>$(s)?s.value=e:null),o],loading:k(l),"rubber-band":!1,size:"small"},null,8,["value","loading"])]),_:1})]),_:1}),S(i,{class:"mt-15px p-15px"},{default:I(()=>[z("h3",null,j(e.$t("Security.Conf.Index_31",[k(s)?e.$t("Security.Conf.Index_33"):e.$t("Security.Conf.Index_34")])),1),S(r,{"show-icon":!1,class:"my-15px"},{default:I(()=>[b(j(e.$t("Security.Conf.Index_32")),1)]),_:1}),S(K)]),_:1})],64)}}}),[["__scopeId","data-v-6f78f08a"]]);export{O as default};
