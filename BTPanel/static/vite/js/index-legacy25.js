System.register(["./page_layout-legacy.js?v=1763625242172","./index-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1763625242172","./public-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1763625242172","./index-legacy130.js?v=1763625242172","./index-legacy131.js?v=1763625242172","./hooks-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1763625242172","./php-legacy.js?v=1763625242172","./soft-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./index-legacy132.js?v=1763625242172","./index-legacy98.js?v=1763625242172"],(function(e,a){"use strict";var t,n,s,l,o,i,d,u,c,r,p,_,g,y,b,m,h,x,w,f,k,v,D,j,C,U,$,R,z,B,S,I,P,L,W,q,A,H,K,O,M,N,V,X,E,F,G,J,Q,T,Y,Z,ee,ae,te,ne,se,le,oe,ie,de,ue,ce,re,pe,_e,ge,ye;return{setters:[e=>{t=e.i,n=e.o,s=e.bv,l=e.bw,o=e.c,i=e.h,d=e.bx,u=e.bn,c=e.bq,r=e.br,p=e.bu,_=e.x,g=e.y,y=e.bt,b=e.a,m=e.m,h=e.q},e=>{x=e._},e=>{w=e._},e=>{f=e._},e=>{k=e._},e=>{v=e.s,D=e.d,j=e._,C=e.e,U=e.c,$=e.v,R=e.f,z=e.a,B=e.w,S=e.h},e=>{I=e._},e=>{P=e._},e=>{L=e.a,W=e.b,q=e.c,A=e.u,H=e.d,K=e._,O=e.e,M=e.g,N=e.h},e=>{V=e.g},e=>{X=e.X,E=e.j,F=e.u,G=e.k,J=e.P,Q=e.r,T=e.e,Y=e.R,Z=e.S,ee=e.a3,ae=e.U,te=e.V,ne=e.N,se=e.a4,le=e.w,oe=e.a2,ie=e.an,de=e.aj,ue=e._},e=>{ce=e._},e=>{re=e._},e=>{pe=e.dP,_e=e.dj,ge=e.aC,ye=e.dS},null,null,null,null,null,null,null,null],execute:function(){const{t:be}=t.global;function me(){return{key:"name",title:be("Database.index_12"),width:"12%",minWidth:120}}function he(){return{key:"username",title:be("Database.form.index_3"),width:"12%",minWidth:120}}function xe(){return{key:"password",title:be("Database.index_14"),minWidth:150,render:e=>X(v,{value:e.password},null)}}function we(){return{key:"backup_count",title:be("Database.index_16"),width:"12%",render:e=>{let a;return X("div",{class:"flex items-center"},[X(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{L(e)}},{default:()=>[e.backup_count>0?`${be("Database.mongo.index_7")}(${e.backup_count})`:be("Database.index_18")]}),X("span",{class:"mx-4px"},[E("|")]),X(n,{onClick:()=>{W(e,"mongodb")}},(t=a=be("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!F(t)?a:{default:()=>[a]}))]);var t}}}function fe(){return{key:"sid",title:be("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>V(e)}}const ke={class:"px-20px pt-24px pb-8px"},ve={class:"w-320px"},De=G({__name:"index",setup(e,{expose:a}){const{t:t}=J(),n=Q(null),d=T({password:""}),u={password:{required:!0,message:t("Database.tools.index_65"),trigger:"blur"}},{loading:c,setLoading:r}=D();return(async()=>{try{r(!0);const{message:e}=await l();o(e)&&(d.password=i(e.root)?e.root:"")}finally{r(!1)}})(),a({onConfirm:async({hide:e})=>{try{await(n.value?.validate()),await s(ne(d)),e()}catch(a){console.error(a)}}}),(e,a)=>{const t=re,s=pe,l=ce;return Y(),Z("div",ke,[X(l,{ref_key:"formRef",ref:n,model:te(d),rules:u},{default:ee((()=>[X(s,{label:e.$t("Database.index_2"),path:"password"},{default:ee((()=>[ae("div",ve,[X(t,{value:te(d).password,"onUpdate:value":a[0]||(a[0]=e=>te(d).password=e),loading:te(c),default:!1},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),je={class:"px-20px py-24px"},Ce=G({__name:"index",props:{data:{}},setup(e){const a=e,{status:t,getInfo:n}=a.data,s=T({status:t}),l=async()=>{await d(ne(s)),n?.()};return(e,a)=>{const t=_e,n=pe,o=ce,i=j;return Y(),Z("div",je,[X(o,{"label-width":"160"},{default:ee((()=>[X(n,{label:e.$t("Database.mongo.index_1"),"show-feedback":!1},{default:ee((()=>[X(t,{value:te(s).status,"onUpdate:value":[a[0]||(a[0]=e=>te(s).status=e),l],"checked-value":1},null,8,["value"])])),_:1},8,["label"])])),_:1}),X(i,{class:"mt-16px"},{default:ee((()=>[ae("li",null,se(e.$t("Database.mongo.index_2")),1)])),_:1})])}}}),Ue={class:"p-16px"};e("default",G({__name:"index",setup(e){const{t:t}=J(),n=ue((()=>b((()=>a.import("./index-legacy134.js?v=1763625242172")),void 0))),s=u(),i=C(t("Database.mongo.index_4"),{status:!1}),d=()=>{i.data.status="enabled"===pe.authorization,i.show=!0},v=C(t("Database.tools.index_70")),j=()=>{"enabled"===pe.authorization?v.show=!0:(W(),m.warning(t("Database.mongo.index_5")))},L=C(t("Database.mongo.index_1"),{status:0}),W=()=>{L.data.status="enabled"===pe.authorization?1:0,L.data.getInfo=_e,L.show=!0},V=()=>{M()},F=e=>{N(e?{type:"mongo",username:e.username,password:e.password,db:e.name}:{type:"mongo"})},G=async()=>{await c(s.type,{ids:[]}),je()},{keys:Q,table:Z,columns:ce}=U([{type:"selection",width:40},me(),he(),xe(),we(),fe(),$({onBlur:async(e,a)=>{await y({id:a.id,ps:e})}}),R({width:200,options:e=>[{label:"Adminer",show:0===e.db_type,onClick:()=>{F(e)}},{label:"Password",onClick:()=>{A(e)}},{label:t("Public.Btn.Del"),onClick:()=>{q([e])}}]})]),re=[{key:"sync",label:t("Database.index_24"),onBatch:e=>{z({title:t("Database.index_25"),content:t("Database.index_26"),onConfirm:async({hide:a})=>{await c(s.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:t("Database.index_27"),confirm:{title:t("Database.index_28"),desc:t("Database.index_29"),api:e=>r(s.type,{id:e.id},!1),done:()=>{je()},columns:[{key:"name",title:t("Database.index_12")}]}},{key:"delete",label:t("Database.index_30"),onBatch:e=>{q(e)}}],pe=T({authorization:"",msg:"",port:"",root:""}),_e=async()=>{const{message:e}=await l();o(e)&&(pe.authorization=e.authorization,pe.msg=e.msg,pe.port=e.port,pe.root=e.root)},{loading:be,setLoading:ke}=D(),ve=T({p:1,limit:10,sid:-1,search:""}),je=async()=>{try{ke(!0);const{message:e}=await p(s.type,(()=>{const e={...ne(ve)};return-1===e.sid&&delete e.sid,e})());o(e)?(Z.data=_(e.data)?e.data:[],Z.total=g(e.page)):(Z.data=[],Z.total=0)}finally{Q.value=[],ke(!1)}};return le((()=>s.isRefresh),(e=>{e&&(s.setRefresh(!1),s.delRemoteId===ve.sid&&(ve.sid=-1),je())})),(async()=>{await s.getRemote(),s.install?(je(),_e()):B()})(),(e,a)=>{const t=ge,l=h,o=P,u=I,c=S,r=k,p=f,_=w,g=x,y=ye;return Y(),oe(te(O),null,{default:ee((()=>[X(y,null,{default:ee((()=>[ae("div",Ue,[X(_,{feedback:!0},{toolsLeft:ee((()=>[X(t,{type:"primary",onClick:d},{default:ee((()=>[E(se(e.$t("Database.index_1")),1)])),_:1}),X(t,{onClick:j},{default:ee((()=>[E(se(e.$t("Database.index_2")),1)])),_:1}),X(t,{onClick:W},{default:ee((()=>[E(se(e.$t("Database.mongo.index_1")),1)])),_:1}),X(t,{onClick:a[0]||(a[0]=e=>F())},{default:ee((()=>a[10]||(a[10]=[E(" Adminer ")]))),_:1,__:[10]}),X(t,{onClick:V},{default:ee((()=>[E(se(e.$t("Database.index_4")),1)])),_:1}),X(l,{class:"mx-0!",vertical:""}),X(t,{onClick:G},{default:ee((()=>[E(se(e.$t("Database.index_5")),1)])),_:1}),X(t,{onClick:te(H)},{default:ee((()=>[E(se(e.$t("Database.index_6")),1)])),_:1},8,["onClick"]),te(s).isInstallMongoDB?(Y(),oe(o,{key:0,"soft-name":"mongodb"})):ie("",!0)])),toolsRight:ee((()=>[X(te(K),{value:te(ve).sid,"onUpdate:value":a[1]||(a[1]=e=>te(ve).sid=e),"store-key":"database-mongo-page",onChange:je},null,8,["value"]),X(u,{value:te(ve).search,"onUpdate:value":a[2]||(a[2]=e=>te(ve).search=e),placeholder:e.$t("Database.mongo.index_3"),onSearch:je},null,8,["value","placeholder"])])),table:ee((()=>[X(c,{"checked-row-keys":te(Q),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>de(Q)?Q.value=e:null),loading:te(be),data:te(Z).data,columns:te(ce)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:ee((()=>[X(r,{"checked-row-keys":te(Q),"onUpdate:checkedRowKeys":a[4]||(a[4]=e=>de(Q)?Q.value=e:null),data:te(Z).data,options:re},null,8,["checked-row-keys","data"])])),pageRight:ee((()=>[X(p,{page:te(ve).p,"onUpdate:page":a[5]||(a[5]=e=>te(ve).p=e),"page-size":te(ve).limit,"onUpdate:pageSize":a[6]||(a[6]=e=>te(ve).limit=e),"store-key":"database-mongo-page","item-count":te(Z).total,onRefresh:je},null,8,["page","page-size","item-count"])])),_:1}),X(g,{show:te(i).show,"onUpdate:show":a[7]||(a[7]=e=>te(i).show=e),title:te(i).title,width:540,minHeight:176,footer:!0,data:te(i).data,component:te(n)},null,8,["show","title","data","component"]),X(g,{show:te(v).show,"onUpdate:show":a[8]||(a[8]=e=>te(v).show=e),title:te(v).title,width:520,footer:!0,component:De},null,8,["show","title"]),X(g,{show:te(L).show,"onUpdate:show":a[9]||(a[9]=e=>te(L).show=e),title:te(L).title,width:400,data:te(L).data,component:Ce},null,8,["show","title","data"])])])),_:1})])),_:1})}}}))}}}));
