import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import{x as s,m as e}from"./page_layout.js?v=1769066082311";import{d as t}from"./public.js?v=1769066082311";import{f as o,aN as l}from"./site.js?v=1769066082311";import{u as i}from"./index252.js?v=1769066082311";import{k as r,P as n,r as u,R as d,V as p,W as m,a3 as _,S as v,U as f,ak as c}from"./vue.js?v=1769066082311";import{dS as j,dW as g}from"./naive.js?v=1769066082311";import"./common.js?v=1769066082311";import"./__commonjsHelpers__.js?v=1769066082311";const w={class:"p-20px"},x={class:"w-150px"},y=r({__name:"category",props:{data:{}},setup(r,{expose:y}){const P=r,{t:b}=n(),{rows:h}=P.data,S=i(),H=u(null),k=u([]),{loading:R,setLoading:U}=t();(async()=>{try{U(!0);const{message:a}=await o();s(a)&&a.length>0?(k.value=a.map(a=>({label:a.name,value:a.id})),H.value=a[0].id):(H.value=null,k.value=[])}finally{U(!1)}})();return y({onConfirm:async({hide:a})=>{await l((()=>{if(null===H.value)throw e.error(b("Site.PHP.add_site_46")),new Error(b("Site.PHP.add_site_46"));return{id:H.value,site_ids:h.map(a=>a.id)}})()),S.setRefresh(!0),a()}}),(s,e)=>{const t=g,o=j,l=a;return p(),d("div",w,[m(l,null,{default:_(()=>[m(o,{label:s.$t("Site.PHP.add_site_22"),"show-feedback":!1},{default:_(()=>[v("div",x,[m(t,{value:f(H),"onUpdate:value":e[0]||(e[0]=a=>c(H)?H.value=a:null),loading:f(R),options:f(k)},null,8,["value","loading","options"])])]),_:1},8,["label"])]),_:1})])}}});export{y as default};
