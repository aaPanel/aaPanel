System.register(["./index-legacy107.js?v=1762424784323","./page_layout-legacy.js?v=1762424784323","./index-legacy.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1762424784323","./public-legacy.js?v=1762424784323","./utils-legacy3.js?v=1762424784323","./naive-legacy.js?v=1762424784323","./vue-legacy.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1762424784323","./transition-legacy.js?v=1762424784323","./common-legacy.js?v=1762424784323","./__commonjsHelpers__-legacy.js?v=1762424784323","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1762424784323"],function(e,a){"use strict";var t,l,n,i,o,s,d,u,r,c,p,m,_,g,h,y,v,x,w,f,S,b,k,L,D,C,j,U,P,z,R,T,$,E,M,V,B,W,F,H,I,N,X,Y,Z,q,A,G,J,K,O,Q,ee,ae,te,le,ne,ie,oe,se,de,ue,re,ce,pe,me,_e,ge;return{setters:[e=>{t=e._},e=>{l=e.d,n=e._,i=e.a,o=e.p,s=e.o,d=e.u},e=>{u=e._},e=>{r=e._},e=>{c=e._},e=>{p=e.e,m=e.c,_=e.f,g=e.a,h=e.S,y=e.T,v=e.h,x=e.U,w=e.V,f=e.W,S=e.X,b=e.Y,k=e.Z},e=>{L=e.r,D=e.h,C=e.a,j=e.m,U=e.b,P=e.d,z=e.l,R=e.c,T=e.e,$=e.g,E=e.u,M=e.f},e=>{V=e.dj,B=e.dk,W=e.aC,F=e.dV,H=e.da,I=e.dd,N=e.dh,X=e.dS},e=>{Y=e.k,Z=e.P,q=e.e,A=e.r,G=e.W,J=e.b,K=e.R,O=e.V,Q=e.a3,ee=e.S,ae=e.U,te=e.j,le=e.a4,ne=e._,ie=e.ad,oe=e.ae,se=e.a2,de=e.s,ue=e.ak,re=e.o,ce=e.an,pe=e.F,me=e.a0},e=>{_e=e._},e=>{ge=e.T},null,null,null],execute:function(){var he=document.createElement("style");he.textContent=".select-box[data-v-261b1844]{margin-bottom:16px;padding:8px;flex-direction:column!important;border-radius:4px;border:1px solid #dddddd}\n/*$vite$:1*/",document.head.appendChild(he);const ye={class:"flex items-center"},ve=Y({__name:"index",setup(e){const t=ne(()=>i(()=>a.import("./form-legacy8.js?v=1762424784323"),void 0)),o=ne(()=>i(()=>a.import("./ssl-log-legacy.js?v=1762424784323"),void 0)),{t:s}=Z(),d=q({p:1,limit:10}),w=p("",{isEdit:!1,onRefresh:()=>{R()}}),f=p(s("SSL.Domain.index_5")),S=()=>{w.data.isEdit=!1,w.title=s("SSL.Domain.index_4"),w.show=!0},b=A(!1),{table:k,columns:U}=m([{key:"alias",title:s("Config.Panel.index_36"),render:e=>e.alias?G("span",{class:"bt-link",onClick:()=>{D.value=e.id,C.value=e.name,j.value="manage"}},[e.alias]):"--"},{key:"api_user",title:s("Home.index_2"),render:e=>e.api_user?e.api_user:"--"},L(e=>{f.data.path=e,f.show=!0}),{key:"status",title:s("Public.Table.Status"),render:e=>G(V,{uncheckedValue:0,checkedValue:1,value:e.status,"onUpdate:value":[a=>e.status=a,async a=>{try{await x({id:e.id,status:a})}catch{e.status=1===a?0:1}}]},null)},{key:"permission",title:s("Database.index_21"),align:"center",render:e=>e.permission?e.permission:"--"},{key:"domains",title:s("Layout.Sider.domain_1"),align:"center",render:e=>e.domains.length},_({width:250,options:e=>[{label:s("SSL.Domain.index_7"),onClick:()=>{D.value=e.id,C.value=e.name,j.value="manage"}},{label:s("Public.Btn.Edit"),onClick:()=>{P(e)}},{label:s("Public.Btn.Del"),onClick:()=>{g({title:s("SSL.Domain.index_8"),content:s("SSL.Domain.index_9"),onConfirm:async()=>{await h({id:e.id}),R()}})}}]})]),P=e=>{w.data.isEdit=!0,w.data.row=e,w.title=s("SSL.Domain.index_10"),w.show=!0};let z=null;const R=async()=>{try{b.value||(k.loading=!0);const{message:e}=await y(d);l(e)&&(b.value=e.data.some(e=>e.task.some(e=>100!==e.task_status)),b.value?T():z&&clearTimeout(z),k.data=e.data,k.total=e.total)}finally{k.loading=!1}},T=async()=>{z=window.setTimeout(()=>{R()},5e3)};return R(),J(()=>{z&&clearTimeout(z)}),(e,a)=>{const l=n,i=B,s=W,p=v,m=c,_=r,g=u;return O(),K("div",null,[G(i,{"show-icon":!1,class:"mb-10px"},{default:Q(()=>[ee("div",ye,[G(l,{name:"base-info",size:17,class:"mr-8px"}),a[4]||(a[4]=ee("span",{class:"leading-17px"},"aaPanel Domain Name Management Center, allowing you to unify accounts across multiple domain providers without switching DNS platforms",-1))])]),_:1}),G(_,{feedback:!0},{toolsLeft:Q(()=>[G(s,{type:"primary",onClick:S},{default:Q(()=>[te(le(e.$t("SSL.Domain.index_4")),1)]),_:1})]),table:Q(()=>[G(p,{loading:ae(k).loading,data:ae(k).data,columns:ae(U)},null,8,["loading","data","columns"])]),pageRight:Q(()=>[G(m,{page:ae(d).p,"onUpdate:page":a[0]||(a[0]=e=>ae(d).p=e),"page-size":ae(d).limit,"onUpdate:pageSize":a[1]||(a[1]=e=>ae(d).limit=e),"store-key":"ssl-host-page","item-count":ae(k).total,onRefresh:R},null,8,["page","page-size","item-count"])]),_:1}),G(g,{show:ae(w).show,"onUpdate:show":a[2]||(a[2]=e=>ae(w).show=e),title:ae(w).title,data:ae(w).data,width:540,"min-height":300,footer:!0,component:ae(t)},null,8,["show","title","data","component"]),G(g,{show:ae(f).show,"onUpdate:show":a[3]||(a[3]=e=>ae(f).show=e),title:ae(f).title,data:ae(f).data,width:700,height:450,footer:!1,component:ae(o)},null,8,["show","title","data","component"])])}}}),xe=Y({__name:"host-select",props:{value:{},valueModifiers:{}},emits:ie(["change"],["update:value"]),setup(e,{emit:a}){const t=oe(e,"value"),l=a,n=(e,a)=>{l("change",e,a.label)},i=e=>e.label+" ("+e.alias+")";return(e,a)=>{const l=F;return O(),se(l,de({class:"w-300px"},e.$attrs,{filterable:"",value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),n],options:ae(U),"consistent-menu-width":!1,"render-label":i}),null,16,["value","options"])}}}),we=Y({__name:"domain-select",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=oe(e,"value"),{t:t}=Z(),l=e=>G(H,{class:"items-center justify-between!"},{default:()=>[G("span",{class:"w-225px truncate"},[t("Mail.Mass.index_45"),te("ï¼š"),e.label]),e.ssl_info&&-1!==e.ssl_info?G(I,{type:e.ssl_info>30?"success":e.ssl_info>0?"warning":"error",class:"px-10px"},{default:()=>[e.ssl_info?e.ssl_info+" "+t("Crontab.arrange.index_41"):t("Config.Safe.index_166")]}):""]});return(e,t)=>{const n=F;return O(),se(n,de(e.$attrs,{class:"w-350px",size:"large",filterable:"",value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),options:ae(P),"consistent-menu-width":!1,loading:ae(z),disabled:!ae(P).length,"render-label":l}),null,16,["value","options","loading","disabled"])}}}),fe=o(Y({__name:"domain",emits:["change"],setup(e,{emit:t}){const o=ne(()=>i(()=>a.import("./domain-form-legacy.js?v=1762424784323"),void 0)),s=t,{t:d}=Z(),h=q({p:1,limit:10,domain:R,search:""}),y=p("",{isEdit:!1,onRefresh:()=>{E()}}),x=()=>{y.data.isEdit=!1,y.title=d("SSL.Domain.index_17"),y.show=!0},b=()=>{s("change"),T.value=!1},k=()=>{h.p=1,E()},L=async()=>{E()},j=async(e,a)=>{C.value=a,D.value=e,R.value="",h.p=1,await $(),E()},{table:U,columns:P}=m([{key:"record",title:d("SSL.Domain.index_11"),width:"20%"},{key:"record_type",title:d("Ftp.Table.index_3"),width:"10%"},{key:"record_value",title:d("SSL.Domain.index_13"),width:"20%",ellipsis:{tooltip:!0}},{key:"ttl",title:"TTL",width:100,render:e=>1===e.ttl?d("Mail.Mass.index_34"):e.ttl},{key:"priority",title:"Priority",width:100,render:e=>-1===e.priority?"--":e.priority},{key:"proxy",title:d("SSL.Domain.index_16"),render:e=>-1===e.proxy?"--":G(V,{"checked-value":1,"unchecked-value":0,value:e.proxy,"onUpdate:value":[a=>e.proxy=a,async a=>{const t={id:e.id,pid:D.value,domain:R.value,record:e.record,record_type:e.record_type,record_value:e.record_value,ttl:e.ttl,priority:e.priority,proxy:a,ps:e.ps};try{await S(t)}catch{e.proxy=1===a?0:1}}]},null)},{key:"ps",title:d("Public.Table.Ps")},_({width:150,options:e=>[{label:d("Public.Btn.Edit"),onClick:()=>{z(e)}},{label:d("Public.Btn.Del"),onClick:()=>{g({title:d("SSL.Domain.index_19"),content:d("SSL.Domain.index_20"),onConfirm:async()=>{await w({id:e.id}),E(),s("change")}})}}]})]),z=e=>{y.data.isEdit=!0,y.data.row=e,y.title=d("SSL.Domain.index_21"),y.show=!0},E=async()=>{try{if(""===R.value)return void(U.data=[]);U.loading=!0;const{message:e}=await f({...h,search_pid:D.value});l(e)&&(U.data=e.data,U.total=e.total)}finally{U.loading=!1}};return(async()=>{await $(),await E()})(),(e,a)=>{const t=n,l=W,i=N,s=H,d=_e,p=v,m=c,_=r,g=u;return O(),K("div",null,[G(s,{class:"select-box"},{default:Q(()=>[G(xe,{value:ae(D),"onUpdate:value":a[0]||(a[0]=e=>ue(D)?D.value=e:null),onChange:j},null,8,["value"]),G(s,null,{default:Q(()=>[G(we,{value:ae(h).domain,"onUpdate:value":[a[1]||(a[1]=e=>ae(h).domain=e),k]},null,8,["value"]),G(i,{trigger:"hover"},{trigger:Q(()=>[G(l,{onClick:L,class:"h-40px w-40px"},{default:Q(()=>[G(t,{name:"base-refresh"})]),_:1})]),default:Q(()=>[ee("span",null,le(e.$t("SSL.Domain.index_22")),1)]),_:1})]),_:1})]),_:1}),G(_,null,{toolsLeft:Q(()=>[G(l,{type:"primary",onClick:x},{default:Q(()=>[te(le(e.$t("SSL.Domain.index_17")),1)]),_:1}),G(l,{onClick:b},{default:Q(()=>[te(le(e.$t("SSL.Domain.index_18")),1)]),_:1})]),toolsRight:Q(()=>[G(d,{value:ae(h).search,"onUpdate:value":a[2]||(a[2]=e=>ae(h).search=e),onSearch:k},null,8,["value"])]),table:Q(()=>[G(p,{loading:ae(U).loading,data:ae(U).data,columns:ae(P)},null,8,["loading","data","columns"])]),pageRight:Q(()=>[G(m,{page:ae(h).p,"onUpdate:page":a[3]||(a[3]=e=>ae(h).p=e),"page-size":ae(h).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ae(h).limit=e),"item-count":ae(U).total,onRefresh:E},null,8,["page","page-size","item-count"])]),_:1}),G(g,{show:ae(y).show,"onUpdate:show":a[5]||(a[5]=e=>ae(y).show=e),title:ae(y).title,data:ae(y).data,width:540,"min-height":300,footer:!0,component:ae(o)},null,8,["show","title","data","component"])])}}}),[["__scopeId","data-v-261b1844"]]),Se=Y({__name:"index",setup(e){const t=ne(()=>i(()=>a.import("./ssl-log-legacy.js?v=1762424784323"),void 0)),{t:n}=Z(),o=q({p:1,limit:10,domain:"",id:D}),d=async()=>{await b({id:o.id}),S(),g.show=!0},g=p(n("SSL.Domain.index_23"),{path:"/www/server/panel/logs/dns_sync.log"}),h=e=>{R.value=e,T.value=!0},y=(e,a)=>{C.value=a,D.value=e,o.p=1,S()},x=()=>{o.p=1,S()},{table:w,columns:f}=m([{key:"name",title:n("Mail.Mass.index_45"),render:e=>G(s,{onClick:()=>h(e.name)},{default:()=>[e.name]})},E({key:"ssl_info.end_time",title:"SSL Days"}),{key:"ssl_info.end_date",title:"SSL Expiration Time",render:e=>e.ssl_info.end_date?e.ssl_info.end_date:"--"},{key:"records",title:n("SSL.Domain.index_24"),align:"center"},_({width:150,options:e=>[{label:n("SSL.index_58"),onClick:()=>{h(e.name)}}]})]),S=async()=>{if(D.value)try{w.loading=!0;const{message:e}=await k(o);l(e)&&(e.data.length>0?(w.data=e.data,w.total=e.total):(w.data=[],w.total=0))}finally{w.loading=!1}};return re(async()=>{await M(),S()}),(e,a)=>{const l=W,n=_e,i=v,s=c,p=r,m=u;return O(),K(pe,null,[ae(T)?ce("",!0):(O(),se(p,{key:0},{toolsLeft:Q(()=>[G(xe,{value:ae(o).id,"onUpdate:value":a[0]||(a[0]=e=>ae(o).id=e),onChange:y},null,8,["value"]),G(l,{onClick:d,type:"primary",ghost:""},{default:Q(()=>[te(le(e.$t("SSL.Domain.index_22")),1)]),_:1}),G(l,{onClick:a[1]||(a[1]=e=>ae(g).show=!0)},{default:Q(()=>[te(le(e.$t("SSL.Domain.index_23")),1)]),_:1})]),toolsRight:Q(()=>[G(n,{value:ae(o).domain,"onUpdate:value":a[2]||(a[2]=e=>ae(o).domain=e),onSearch:x,placeholder:e.$t("WP.index_4")},null,8,["value","placeholder"])]),table:Q(()=>[G(i,{loading:ae(w).loading,data:ae(w).data,columns:ae(f)},null,8,["loading","data","columns"])]),pageRight:Q(()=>[G(s,{page:ae(o).p,"onUpdate:page":a[3]||(a[3]=e=>ae(o).p=e),"page-size":ae(o).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ae(o).limit=e),"store-key":"ssl-domain-page","item-count":ae(w).total,onRefresh:S},null,8,["page","page-size","item-count"])]),_:1})),ae(T)?(O(),se(fe,{key:1,onChange:S})):ce("",!0),G(m,{show:ae(g).show,"onUpdate:show":a[5]||(a[5]=e=>ae(g).show=e),title:ae(g).title,data:ae(g).data,width:650,"min-height":450,component:ae(t)},null,8,["show","title","data","component"])],64)}}});e("default",Y({__name:"index",setup(e){const a=d(),{userInfo:l}=me(a),{t:n}=Z(),i=[{key:"manage",label:n("SSL.Domain.index_7"),component:Se},{key:"host",label:n("SSL.Domain.index_27"),component:ve}],o=e=>{"host"===e&&(T.value=!1)};return(e,a)=>{const n=t,s=X;return ae(l).status?(O(),se(s,{key:0,class:"p-16px"},{default:Q(()=>[G(n,{value:ae(j),"onUpdate:value":[a[0]||(a[0]=e=>ue(j)?j.value=e:null),o],options:i},null,8,["value"])]),_:1})):(O(),se(ge,{key:1}))}}}))}}});
