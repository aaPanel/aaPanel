System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656"],function(e,l){"use strict";var a,t,r,o,u,s,i,n,p,c,d,y,f,_,v,m,b,w,h,g,x,S,A,F,U;return{setters:[e=>{a=e._},e=>{t=e.k,r=e.P,o=e.r,u=e.e,s=e.R,i=e.V,n=e.W,p=e.a3,c=e.l,d=e.a2,y=e.an,f=e.S,_=e.U,v=e.v},e=>{m=e.gT,b=e.x,w=e.k,h=e.gU,g=e.gV,x=e.bi},e=>{S=e.dR,A=e.dV,F=e.df,U=e._},null,null,null],execute:function(){const l={class:"px-20px pt-24px pb-8px"},j={class:"w-240px"},$={class:"w-240px"},k={class:"w-240px"},E={class:"w-240px"};e("default",t({__name:"form",props:{row:{},isEdit:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:C}){const H=e,P=C,{t:R}=r(),{isEdit:V,row:B}=H,I=o(null),T=u({types:"drop",choose:"all",ports:null,country:["United States"],is_update:!1}),W={country:{trigger:"change",validator:()=>0!==T.country.length||new Error(R("Security.Firewall.Area.form_8"))},ports:{trigger:["blur","input"],validator:()=>{if("point"===T.choose){if(!T.ports)return new Error(R("Security.Firewall.Area.form_9"));if(!x(`${T.ports}`))return new Error(R("Security.Firewall.Area.form_10"))}return!0}}},q=[{label:R("Security.Firewall.Area.form_11"),value:"all"},{label:R("Security.Firewall.Area.form_3"),value:"point"}],z=[{label:R("Security.Firewall.Area.form_12"),value:"drop"}],D=o(!1),G=o([]);return(async()=>{try{D.value=!0;const{message:e}=await m();b(e)&&(G.value=e.map(e=>({label:e.CH,value:e.CH,brief:e.brief})))}finally{D.value=!1}})(),V&&B&&(T.types=B.types,T.choose=B.ports?"point":"all",T.ports=B.ports?w(B.ports):null,T.country=B.country),t({onConfirm:async()=>{await(I.value?.validate());const e={types:T.types,choose:T.choose,ports:"point"===T.choose?`${T.ports||""}`:"",country:T.country,brief:"",is_update:T.is_update};V&&B?(e.brief=`${G.value.find(e=>e.label===B.country)?.brief||""}`,await h({...e,id:B.id})):await g(e),P("refresh")}}),(e,t)=>{const r=A,o=S,u=F,m=U,b=a;return i(),s("div",l,[n(b,{ref_key:"formRef",ref:I,model:_(T),rules:W},{default:p(()=>[n(o,{label:e.$t("Security.Firewall.Area.form_1"),path:"types"},{default:p(()=>[f("div",j,[n(r,{value:_(T).types,"onUpdate:value":t[0]||(t[0]=e=>_(T).types=e),options:z},null,8,["value"])])]),_:1},8,["label"]),n(o,{label:e.$t("Security.Firewall.Area.form_2"),path:"choose"},{default:p(()=>[f("div",$,[n(r,{value:_(T).choose,"onUpdate:value":t[1]||(t[1]=e=>_(T).choose=e),options:q},null,8,["value"])])]),_:1},8,["label"]),c(n(o,{label:e.$t("Security.Firewall.Area.form_3"),path:"ports"},{default:p(()=>[f("div",k,[n(u,{value:_(T).ports,"onUpdate:value":t[2]||(t[2]=e=>_(T).ports=e),min:1,max:65535,"show-button":!1,placeholder:e.$t("Security.Firewall.Area.form_4")},null,8,["value","placeholder"])])]),_:1},8,["label"]),[[v,"point"===_(T).choose]]),n(o,{label:e.$t("Security.Firewall.Area.form_5"),path:"country"},{default:p(()=>[f("div",E,[n(r,{value:_(T).country,"onUpdate:value":t[3]||(t[3]=e=>_(T).country=e),filterable:"","max-tag-count":"responsive",multiple:!_(V),loading:_(D),options:_(G)},null,8,["value","multiple","loading","options"])])]),_:1},8,["label"]),_(V)?y("",!0):(i(),d(o,{key:0,label:" "},{default:p(()=>[n(m,{checked:_(T).is_update,"onUpdate:checked":t[4]||(t[4]=e=>_(T).is_update=e),label:"Update IP Pool"},null,8,["checked"])]),_:1}))]),_:1},8,["model"])])}}}))}}});
