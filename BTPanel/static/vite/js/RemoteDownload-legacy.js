System.register(["./index-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./soft-legacy2.js?v=1769066082311","./soft-legacy.js?v=1769066082311","./site-legacy.js?v=1769066082311"],function(e,l){"use strict";var a,t,o,u,r,n,i,d,s,v,p,f,c,m,_,w,g,y,h,j;return{setters:[e=>{a=e._},e=>{t=e._},e=>{o=e.gt,u=e.aE},e=>{r=e.P,n=e.w},e=>{i=e.k,d=e.P,s=e.i,v=e.r,p=e.av,f=e.a2,c=e.V,m=e.a3,_=e.S,w=e.W,g=e.U,y=e.ak},e=>{h=e.dS,j=e.au},null,null,null,null,null,null],execute:function(){const l={class:"p-20px pt-28px"},D={class:"w-320px"},b={class:"w-320px"},x={class:"w-320px"};e("default",i({__name:"RemoteDownload",setup(e,{expose:i}){const{t:M}=d(),R=s("fileStore"),{downloadFileFormData:E,currentPath:S}=R,U=v(!1),k=p("formRef"),q={url:{trigger:["input","blur"],validator:()=>E.value.url?!!o(E.value.url)||new Error(M("file.remoteDownloadModal.validation.urlInvalid")):new Error(M("file.remoteDownloadModal.validation.urlRequired"))},path:{trigger:["input","blur"],validator:()=>!!E.value.path||new Error(M("file.remoteDownloadModal.validation.pathRequired"))},filename:{trigger:["input","blur"],validator:()=>!!E.value.filename||new Error(M("file.remoteDownloadModal.validation.filenameRequired"))}},F=e=>{const l=e.split("/").pop();E.value.filename=l||""};i({open(){E.value.url="http://",E.value.path=S.value,E.value.filename="",U.value=!0},close(){U.value=!1}});const P=async()=>{await(k.value?.validate()),await u.post("/files?action=DownloadFile",{...E.value}),r(R),n(R)};return(e,o)=>{const u=j,r=h,n=t,i=a;return c(),f(i,{show:g(U),"onUpdate:show":o[3]||(o[3]=e=>y(U)?U.value=e:null),title:g(M)("file.remoteDownloadModal.title"),width:500,footer:!0,onConfirm:P},{default:m(()=>[_("div",l,[w(n,{ref_key:"formRef",ref:k,model:g(E),rules:q},{default:m(()=>[w(r,{label:g(M)("file.remoteDownloadModal.urlAddress"),path:"url"},{default:m(()=>[_("div",D,[w(u,{value:g(E).url,"onUpdate:value":[o[0]||(o[0]=e=>g(E).url=e),F]},null,8,["value"])])]),_:1},8,["label"]),w(r,{label:g(M)("file.remoteDownloadModal.downloadTo"),path:"path"},{default:m(()=>[_("div",b,[w(u,{value:g(E).path,"onUpdate:value":o[1]||(o[1]=e=>g(E).path=e)},null,8,["value"])])]),_:1},8,["label"]),w(r,{label:g(M)("file.remoteDownloadModal.fileName"),path:"filename"},{default:m(()=>[_("div",x,[w(u,{value:g(E).filename,"onUpdate:value":o[2]||(o[2]=e=>g(E).filename=e)},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["show","title"])}}}))}}});
