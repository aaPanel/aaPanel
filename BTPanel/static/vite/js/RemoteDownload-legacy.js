System.register(["./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index-legacy38.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./soft-legacy2.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./file-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,l){"use strict";var a,t,o,u,n,r,i,d,s,v,p,f,c,m,_,g,w,y,h,j;return{setters:[e=>{a=e._},e=>{t=e._},e=>{o=e.gq,u=e.aE},e=>{n=e.b,r=e.g},e=>{i=e.k,d=e.P,s=e.i,v=e.r,p=e.av,f=e.a2,c=e.V,m=e.a3,_=e.S,g=e.W,w=e.U,y=e.ak},e=>{h=e.dR,j=e.au},null,null,null,null,null,null,null,null],execute:function(){const l={class:"p-20px pt-28px"},b={class:"w-320px"},x={class:"w-320px"},D={class:"w-320px"};e("default",i({__name:"RemoteDownload",setup(e,{expose:i}){const{t:M}=d(),R=s("fileStore"),{downloadFileFormData:E,currentPath:U}=R,q=v(!1),k=p("formRef"),F={url:{trigger:["input","blur"],validator:()=>E.value.url?!!o(E.value.url)||new Error(M("file.remoteDownloadModal.validation.urlInvalid")):new Error(M("file.remoteDownloadModal.validation.urlRequired"))},path:{trigger:["input","blur"],validator:()=>!!E.value.path||new Error(M("file.remoteDownloadModal.validation.pathRequired"))},filename:{trigger:["input","blur"],validator:()=>!!E.value.filename||new Error(M("file.remoteDownloadModal.validation.filenameRequired"))}},S=e=>{const l=e.split("/").pop();E.value.filename=l||""};i({open(){E.value.url="http://",E.value.path=U.value,E.value.filename="",q.value=!0},close(){q.value=!1}});const P=async()=>{await(k.value?.validate()),await u.post("/files?action=DownloadFile",{...E.value}),n(R),r(R)};return(e,o)=>{const u=j,n=h,r=t,i=a;return c(),f(i,{show:w(q),"onUpdate:show":o[3]||(o[3]=e=>y(q)?q.value=e:null),title:w(M)("file.remoteDownloadModal.title"),width:500,footer:!0,onConfirm:P},{default:m(()=>[_("div",l,[g(r,{ref_key:"formRef",ref:k,model:w(E),rules:F},{default:m(()=>[g(n,{label:w(M)("file.remoteDownloadModal.urlAddress"),path:"url"},{default:m(()=>[_("div",b,[g(u,{value:w(E).url,"onUpdate:value":[o[0]||(o[0]=e=>w(E).url=e),S]},null,8,["value"])])]),_:1},8,["label"]),g(n,{label:w(M)("file.remoteDownloadModal.downloadTo"),path:"path"},{default:m(()=>[_("div",x,[g(u,{value:w(E).path,"onUpdate:value":o[1]||(o[1]=e=>w(E).path=e)},null,8,["value"])])]),_:1},8,["label"]),g(n,{label:w(M)("file.remoteDownloadModal.fileName"),path:"filename"},{default:m(()=>[_("div",D,[g(u,{value:w(E).filename,"onUpdate:value":o[2]||(o[2]=e=>w(E).filename=e)},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["show","title"])}}}))}}});
