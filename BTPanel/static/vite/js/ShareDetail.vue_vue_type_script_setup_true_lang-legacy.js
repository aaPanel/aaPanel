System.register(["./index-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311"],function(e,a){"use strict";var l,i,o,t,n,s,r,d,u,c,p,f,_,v,h,m,y,g,w,x,k,M,b,C,S,j;return{setters:[e=>{l=e._},e=>{i=e._},e=>{o=e.i,t=e.aa,n=e._,s=e.aE},e=>{r=e.i,d=e.a},e=>{u=e.w},e=>{c=e.dS,p=e.au,f=e.aC},e=>{_=e.k,v=e.i,h=e.r,m=e.c,y=e.a2,g=e.V,w=e.a3,x=e.S,k=e.W,M=e.an,b=e.U,C=e.j,S=e.a4,j=e.ak}],execute:function(){const a={class:"p-20px"};e("_",_({__name:"ShareDetail",setup(e,{expose:_}){const{t:$}=o.global,D=`${window.location.origin}/down/`,U=v("fileStore"),z=h(!1),A=h({filename:"",ps:"",token:"",expire:"",total:0,password:"",addtime:0,id:0});async function q(){return d({title:$("file.shareModal.cancelSharing"),content:$("file.shareModal.confirmStopSharing",{filename:A.value.filename}),async onConfirm(){await s.post("/files?action=remove_download_url",{id:A.value.id},{requestOptions:{loading:$("file.shareModal.deletingShare"),successMessage:!0}}),z.value=!1,u(U)}}),!1}_({open(e){A.value={filename:e.filename,ps:e.ps,token:e.token,expire:t(e.expire),total:e.total,password:e.password,addtime:e.addtime,id:e.id},z.value=!0},close(){z.value=!1}});const E=m(()=>`${D}${A.value.token}`);function L(){r(E.value)}function N(){r($("file.shareModal.linkAndCode",{link:E.value,code:A.value.password}))}return(e,o)=>{const t=p,s=c,r=n,d=f,u=i,_=l;return g(),y(_,{show:b(z),"onUpdate:show":o[1]||(o[1]=e=>j(z)?z.value=e:null),title:b($)("file.shareModal.shareDetails",{name:b(A).ps}),width:560,footer:!0,"confirm-type":"error","confirm-text":b($)("file.shareModal.closeSharingChain"),onConfirm:q},{default:w(()=>[x("div",a,[k(u,null,{default:w(()=>[k(s,{label:b($)("file.shareModal.shareName")},{default:w(()=>[k(t,{value:b(A).ps,"onUpdate:value":o[0]||(o[0]=e=>b(A).ps=e)},null,8,["value"])]),_:1},8,["label"]),k(s,{label:b($)("file.shareModal.shareChain")},{default:w(()=>[k(t,{class:"mr-10px",readonly:!0,value:b(E)},null,8,["value"]),k(d,{type:"primary",onClick:L},{icon:w(()=>[k(r,{name:"common-copy",size:"16"})]),_:1})]),_:1},8,["label"]),b(A).password?(g(),y(s,{key:0,label:b($)("file.shareModal.extractionCode")},{default:w(()=>[k(t,{class:"mr-10px",value:`${b(A).password}`,readonly:""},null,8,["value"]),k(d,{type:"primary",onClick:N},{default:w(()=>[C(S(b($)("file.shareModal.copyLinkAndCode")),1)]),_:1})]),_:1},8,["label"])):M("",!0),k(s,{label:b($)("file.shareModal.expirationDate"),"show-feedback":!1},{default:w(()=>[C(S(b(A).expire),1)]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title","confirm-text"])}}}))}}});
