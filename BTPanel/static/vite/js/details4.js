import{a}from"./index.js?v=1752142539265";import{k as e,P as s,r as t,c as l,ap as i,a4 as n,U as d,X as c,V as o,Q as p,a3 as r,F as m,O as v,H as x,W as u,ah as _,a2 as f,ax as b,I as y,j as H}from"./vue.js?v=1752142539265";import{X as h,fP as k,d as U,fQ as g,fO as w,K as j,e as $}from"./page_layout.js?v=1752142539265";import{q as C}from"./public.js?v=1752142539265";import{_ as I,ay as M}from"./naive.js?v=1752142539265";const P={class:"w-650px"},z={class:"card"},B={class:"mb-12px font-bold text-18px text-center"},L={class:"min-h-172px text-13px"},O={class:"card"},Q={class:"mb-10px text-16px text-center"},T={class:"h-180px overflow-auto"},X={class:"date"},q={class:"text"},F=["innerHTML"],K={class:"font-bold"},V={class:"text-error"},W=$(e({__name:"details",emits:["close"],setup(e,{emit:$}){const W=$,{t:A}=s(),D=t(!1),E=t(5),G=l((()=>E.value>0)),J=l((()=>!D.value)),N=t([]),R=t([]),{height:S}=i(),Y=l((()=>S.value?"".concat(.9*S.value,"px"):"auto")),Z=()=>{const a=setInterval((()=>{E.value--,E.value<=0&&clearInterval(a)}),1e3)},aa=()=>{W("close")},ea=()=>{C({title:A("Home.Update.index_24"),content:A("Home.Update.index_25"),onConfirm:async()=>{await g(),await w(),j()}})};return(async()=>{const{message:a}=await k();U(a)&&(N.value=a.beta_ps.split("<br>").map((a=>a.trim())),R.value=a.list,Z())})(),(e,s)=>{const t=n("i18n-t"),l=I,i=M,k=a;return c(),d("div",P,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:u(Y)})},[o("div",z,[o("div",B,r(e.$t("Home.Update.index_20")),1),o("ul",L,[(c(!0),d(m,null,v(u(N),((a,e)=>(c(),d("li",{key:a,class:x(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},r(a),3)))),128))])]),o("div",O,[o("div",Q,r(e.$t("Home.Update.index_21")),1),o("div",T,[(c(!0),d(m,null,v(u(R),(a=>(c(),d("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",X,r(u(h)(a.uptime,"yyyy-MM-dd")),1),o("div",q,r(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,F)])))),128))])]),o("div",null,[p(l,{checked:u(D),"onUpdate:checked":s[0]||(s[0]=a=>_(D)?D.value=a:null),disabled:u(G)},{default:f((()=>[p(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},b({title:f((()=>[o("span",K,r(e.$t("Home.Update.index_23_2")),1)])),_:2},[u(E)>0?{name:"wait",fn:f((()=>[o("span",V,r(e.$t("Home.Update.index_23_3",[u(E)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),p(k,null,{default:f((()=>[p(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:f((()=>[H(r(e.$t("Public.Btn.Cancel")),1)])),_:1}),p(i,{type:"primary",size:"small",disabled:u(J),onClick:ea},{default:f((()=>[H(r(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-85ccd2a6"]]);export{W as B};
