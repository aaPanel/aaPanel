import{a}from"./index.js?v=1769066082311";import{k as e,P as s,r as t,c as l,aq as i,a5 as n,R as d,V as c,S as o,W as p,a4 as r,F as m,O as v,H as x,U as u,ak as _,a3 as b,ay as f,I as y,j as H}from"./vue.js?v=1769066082311";import{aa as k,gK as g,d as U,gL as h,gJ as w,P as j,p as $}from"./page_layout.js?v=1769066082311";import{p as C}from"./public.js?v=1769066082311";import{_ as I,aC as M}from"./naive.js?v=1769066082311";const L={class:"w-650px"},P={class:"card"},z={class:"mb-12px font-bold text-18px text-center"},B={class:"min-h-172px text-13px"},T={class:"card"},q={class:"mb-10px text-16px text-center"},F={class:"h-180px overflow-auto"},J={class:"date"},K={class:"text"},O=["innerHTML"],R={class:"font-bold"},S={class:"text-error"},V=$(e({__name:"details",emits:["close"],setup(e,{emit:$}){const V=$,{t:W}=s(),A=t(!1),D=t(5),E=l(()=>D.value>0),G=l(()=>!A.value),N=t([]),Q=t([]),{height:X}=i(),Y=l(()=>X.value?"".concat(.9*X.value,"px"):"auto"),Z=()=>{const a=setInterval(()=>{D.value--,D.value<=0&&clearInterval(a)},1e3)},aa=()=>{V("close")},ea=()=>{C({title:W("Home.Update.index_24"),content:W("Home.Update.index_25"),onConfirm:async()=>{await h(),await w(),j()}})};return(async()=>{const{message:a}=await g();U(a)&&(N.value=a.beta_ps.split("<br>").map(a=>a.trim()),Q.value=a.list,Z())})(),(e,s)=>{const t=n("i18n-t"),l=I,i=M,g=a;return c(),d("div",L,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:u(Y)})},[o("div",P,[o("div",z,r(e.$t("Home.Update.index_20")),1),o("ul",B,[(c(!0),d(m,null,v(u(N),(a,e)=>(c(),d("li",{key:a,class:x(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},r(a),3))),128))])]),o("div",T,[o("div",q,r(e.$t("Home.Update.index_21")),1),o("div",F,[(c(!0),d(m,null,v(u(Q),a=>(c(),d("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",J,r(u(k)(a.uptime,"yyyy-MM-dd")),1),o("div",K,r(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,O)]))),128))])]),o("div",null,[p(l,{checked:u(A),"onUpdate:checked":s[0]||(s[0]=a=>_(A)?A.value=a:null),disabled:u(E)},{default:b(()=>[p(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},f({title:b(()=>[o("span",R,r(e.$t("Home.Update.index_23_2")),1)]),_:2},[u(D)>0?{name:"wait",fn:b(()=>[o("span",S,r(e.$t("Home.Update.index_23_3",[u(D)])),1)]),key:"0"}:void 0]),1024)]),_:1},8,["checked","disabled"])])],4),p(g,null,{default:b(()=>[p(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:b(()=>[H(r(e.$t("Public.Btn.Cancel")),1)]),_:1}),p(i,{type:"primary",size:"small",disabled:u(G),onClick:ea},{default:b(()=>[H(r(e.$t("Home.Update.index_19")),1)]),_:1},8,["disabled"])]),_:1})])}}}),[["__scopeId","data-v-76523929"]]);export{V as B};
