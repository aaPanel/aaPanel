System.register(["./page_layout-legacy.js?v=1747989938512","./index-legacy228.js?v=1747989938512","./vue-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1747989938512","./public-legacy.js?v=1747989938512","./index-legacy97.js?v=1747989938512","./site-legacy.js?v=1747989938512","./naive-legacy.js?v=1747989938512","./index-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1747989938512","./index-legacy103.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1747989938512","./index-legacy122.js?v=1747989938512","./cert-legacy.js?v=1747989938512","./php-legacy.js?v=1747989938512","./form.vue_vue_type_script_setup_true_lang-legacy2.js?v=1747989938512","./index-legacy101.js?v=1747989938512","./logs.vue_vue_type_script_setup_true_lang-legacy.js?v=1747989938512","./ssl-legacy.js?v=1747989938512","./utils-legacy2.js?v=1747989938512","./index-legacy202.js?v=1747989938512","./ssl-lets-progress-legacy.js?v=1747989938512"],(function(e,t){"use strict";var a,l,i,n,s,d,o,r,u,c,p,_,m,h,v,x,f,y,w,g,b,S,k,C,$,L,P,R,U,E,T,B,j,N,D,I,O,A,M,H,z,q,F,K,V,W,X,G,J,Y,Q,Z,ee,te,ae,le,ie,ne,se,de,oe,re,ue,ce,pe,_e,me,he,ve,xe,fe,ye,we,ge,be,Se,ke,Ce,$e,Le,Pe,Re,Ue,Ee,Te,Be,je,Ne,De,Ie,Oe,Ae,Me,He,ze,qe,Fe,Ke,Ve,We,Xe,Ge,Je,Ye,Qe,Ze,et,tt,at,lt,it,nt,st,dt,ot,rt,ut,ct,pt,_t,mt,ht,vt,xt,ft,yt,wt,gt,bt,St,kt,Ct,$t,Lt,Pt,Rt,Ut,Et,Tt,Bt,jt,Nt,Dt,It,Ot,At,Mt,Ht,zt,qt,Ft,Kt,Vt,Wt,Xt,Gt,Jt,Yt,Qt,Zt,ea,ta,aa,la,ia,na,sa,da,oa,ra,ua,ca,pa,_a,ma,ha,va,xa,fa,ya,wa,ga,ba,Sa,ka;return{setters:[e=>{a=e.i,l=e.o,i=e.N,n=e.m,s=e.a,d=e.c,o=e.q,r=e.b4,u=e.h,c=e.cr,p=e.aM,_=e.p,m=e.u,h=e.d5,v=e.O,x=e.cj,f=e._},e=>{y=e._},e=>{w=e.p,g=e.a,b=e.P,S=e.d,k=e.O,C=e.r,$=e.R,L=e.S,P=e.U,R=e.a1,U=e.a2,E=e.V,T=e.aj,B=e.c,j=e.j,N=e.Y,D=e.F,I=e.ao,O=e.M,A=e.a0,M=e.f,H=e.ax,z=e.N,q=e.e,F=e.n,K=e.y,V=e.ak,W=e._,X=e.am,G=e.w,J=e.k,Y=e.v,Q=e.l,Z=e.x},e=>{ee=e._},e=>{te=e._},e=>{ae=e.a,le=e.a1,ie=e.c,ne=e.d,se=e.h,de=e.e,oe=e.f,re=e._,ue=e.b,ce=e.p,pe=e.u,_e=e.ac,me=e.ad,he=e.a8,ve=e.a3,xe=e.a4,fe=e.a5,ye=e.n,we=e.ae,ge=e.af,be=e.ag,Se=e.ah,ke=e.ai,Ce=e.j,$e=e.z,Le=e.a7},e=>{Pe=e._},e=>{Re=e.Y,Ue=e.Z,Ee=e._,Te=e.aL,Be=e.aM,je=e.aN,Ne=e.aO,De=e.aP,Ie=e.$,Oe=e.a0,Ae=e.a1,Me=e.a2,He=e.a3,ze=e.a4,qe=e.a5,Fe=e.a6,Ke=e.av,Ve=e.aw,We=e.ax,Xe=e.ay,Ge=e.az,Je=e.aA,Ye=e.aB,Qe=e.aC,Ze=e.ak,et=e.al,tt=e.am,at=e.aQ,lt=e.aR,it=e.an,nt=e.ao,st=e.ap,dt=e.aq,ot=e.ar,rt=e.as,ut=e.at,ct=e.au,pt=e.aS,_t=e.aT,mt=e.aU,ht=e.aV,vt=e.aW,xt=e.aX,ft=e.aY,yt=e.a7,wt=e.a8,gt=e.a9,bt=e.aa,St=e.ab,kt=e.ac,Ct=e.ad,$t=e.ae,Lt=e.af,Pt=e.ag,Rt=e.ah,Ut=e.ai,Et=e.aj,Tt=e.aE,Bt=e.aF,jt=e.aG,Nt=e.g,Dt=e.aH},e=>{It=e.T,Ot=e.bR,At=e._,Mt=e.bU,Ht=e.cp,zt=e.cj,qt=e.c0,Ft=e.a2,Kt=e.bY,Vt=e.cN,Wt=e.cs,Xt=e.y,Gt=e.bz,Jt=e.cz,Yt=e.c2,Qt=e.c3,Zt=e.co,ea=e.cn,ta=e.ae},e=>{aa=e._},e=>{la=e._},e=>{ia=e._},e=>{na=e._},e=>{sa=e._},e=>{da=e._},e=>{oa=e._,ra=e.a,ua=e.b,ca=e.C},e=>{pa=e.a,_a=e.b},e=>{ma=e._},e=>{ha=e._},e=>{va=e._},e=>{xa=e.c,fa=e.s,ya=e.a,wa=e.g,ga=e.b},e=>{ba=e.u},e=>{Sa=e.A},e=>{ka=e.a}],execute:function(){var Ca=document.createElement("style");Ca.textContent=".warning[data-v-f356717b]{padding:8px;border-radius:4px;background-color:#fdf6ec;color:#e6a23c}.n-alert[data-v-5a8d1fd6]{--n-font-size: 12px}.cert-info[data-v-5a8d1fd6]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-5a8d1fd6]{color:#666;font-weight:700}.cert-info .cert-value[data-v-5a8d1fd6]{flex:1;width:0;margin-left:4px}.n-alert[data-v-5f5bde40]{--n-font-size: 12px}.cert-info[data-v-5f5bde40]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-5f5bde40]{color:#666;font-weight:700}.cert-info .cert-value[data-v-5f5bde40]{flex:1;width:0;margin-left:4px}\n",document.head.appendChild(Ca),e("u",La);const $a=Symbol("site-config");function La(){return g($a)}const{t:Pa}=a.global;function Ra(){return{key:"name",title:Pa("Site.TableRow.index_19"),render:e=>b(l,{href:`http://${e.name}:${e.port}`,target:"_blank"},{default:()=>[e.name]})}}function Ua(){return{key:"port",title:Pa("Site.TableRow.index_16"),width:100}}function Ea(){return{key:"action",title:Pa("Public.Table.Action"),width:80,align:"right",render:()=>b("span",{class:"text-default"},[Pa("Config.Panel.index_82")])}}function Ta({delDomain:e}){return{key:"action",title:Pa("Public.Table.Action"),width:80,align:"right",render:t=>b(le,{options:[{label:Pa("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ae({title:`${Pa("Site.Batch.index_12")}[${t.name}]`,content:Pa("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const Ba={class:"flex justify-between items-center mb-24px"},ja={class:"w-400px"},Na={class:"pr-40px"},Da=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:l}=La(),s=C(""),d=async()=>{""!==s.value.trim()?(await Ee({id:l.id,webname:l.name,domain:s.value.trim().split("\n").join(",")}),s.value="",h()):n.error(a("Site.RulesError.index_31"))},o=async e=>{await Re({id:l.id,webname:l.name,domain:e.name,port:e.port}),h()},{keys:r,table:u,columns:c}=ie([{type:"selection",width:40},Ra(),Ua(),Ta({delDomain:o})]),p=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>Re({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{h()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:_,setLoading:m}=ne(),h=async()=>{try{m(!0);const e={id:l.id},{message:t}=await Ue(e);u.data=i(t)?t:[],u.data.length>1?c.value[c.value.length-1]=Ta({delDomain:o}):c.value[c.value.length-1]=Ea()}finally{r.value=[],m(!1)}};return h(),t({init:h}),(e,t)=>{const a=Pe,l=It,i=se,n=te,o=ee;return $(),L("div",null,[P("div",Ba,[P("div",ja,[b(a,{value:E(s),"onUpdate:value":t[0]||(t[0]=e=>T(s)?s.value=e:null),name:"domain"},{default:R((()=>[P("p",null,U(e.$t("Site.Config.index_30")),1),P("p",null,U(e.$t("Site.Config.index_31")),1),P("p",null,U(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),P("div",Na,[b(l,{class:"add-domain-btn",type:"primary",onClick:d},{default:R((()=>[B(U(e.$t("Site.Cert.index_62")),1)])),_:1})])]),b(o,null,{table:R((()=>[b(i,{"checked-row-keys":E(r),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>T(r)?r.value=e:null),loading:E(_),"max-height":400,data:E(u).data,columns:E(c)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(n,{"checked-row-keys":E(r),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>T(r)?r.value=e:null),data:E(u).data,options:p},null,8,["checked-row-keys","data"])])),_:1})])}}}),Ia={class:"w-140px"},Oa={class:"w-120px"},Aa=S({__name:"index",setup(e,{expose:a}){const l=N((()=>s((()=>t.import("./rewrite-legacy.js?v=1747989938512")),void 0))),{t:o}=k(),{data:r}=La(),u=j({domain:"",dirName:null}),c=C([]),p=async()=>{const e=u.dirName;""!==u.domain.trim()?null!==e?(await Be({id:r.id,domain:u.domain,dirName:e}),g()):n.error(o("Site.RulesError.index_32")):n.error(o("Site.RulesError.index_31"))},_=de(o("Site.PHP.index_81"),{data:"",filename:"",rlist:[]}),m=e=>{_.data.filename=e.filename,_.data.fileContent=e.data,_.data.rlist=e.rlist,_.show=!0},{keys:h,table:v,columns:x}=ie([{type:"selection",width:40},{key:"domain",title:o("Site.TableRow.index_19"),ellipsis:{tooltip:{width:"trigger"}}},{key:"port",title:o("Site.TableRow.index_16"),width:80},{key:"path",title:o("Site.Config.index_33"),width:120,ellipsis:{tooltip:{width:"trigger"}}},oe({width:130,options:e=>[{label:o("Site.TableOP.index_10"),onClick:()=>{(async e=>{try{const{message:t}=await je({id:e.id});d(t)&&m(t)}catch(t){const a=Ot(t,"meesage.result","");a?n.error(a):ae({title:o("Site.Cert.index_40"),content:o("Site.PHP.index_80"),onConfirm:async({hide:t})=>{const{message:a}=await Ne({id:e.id});d(a)&&m(a),t()}})}})(e)}},{label:o("Public.Btn.Del"),onClick:()=>{ae({title:`${o("Ftp.Table.index_10")} ${e.path}`,content:o("Site.Config.index_34"),onConfirm:async({hide:t})=>{await Te({id:e.id}),g(),t()}})}}]})]),f=[{key:"del",type:"confirm",label:o("Site.Batch.index_20"),confirm:{title:o("Site.Batch.index_21"),desc:o("Site.Batch.index_11"),api:e=>Te({id:e.id},!1),done:()=>{g()},columns:[{key:"domain",title:o("Site.TableRow.index_19"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:y,setLoading:w}=ne(),g=()=>{u.domain="",u.dirName=null,(async()=>{try{w(!0);const{message:e}=await De({id:r.id});if(d(e)){const{dirs:t,binding:a}=e;i(t)&&t.length>0?(c.value=t.map((e=>({label:e,value:e}))),u.dirName=t[0]):(c.value=[],u.dirName=null),v.data=i(a)?a:[]}}finally{h.value=[],w(!1)}})()};return g(),a({init:g}),(e,t)=>{const a=At,i=Mt,n=Ht,s=It,d=se,o=te,r=ee,m=aa;return $(),L("div",null,[b(i,{class:"items-center",size:16},{default:R((()=>[b(i,{class:"items-center"},{default:R((()=>[P("div",null,U(e.$t("Site.TableRow.index_19")),1),P("div",Ia,[b(a,{value:E(u).domain,"onUpdate:value":t[0]||(t[0]=e=>E(u).domain=e),placeholder:"","input-props":{name:"domain"}},null,8,["value"])])])),_:1}),b(i,{class:"items-center"},{default:R((()=>[P("div",null,U(e.$t("Site.Config.index_33")),1),P("div",Oa,[b(n,{value:E(u).dirName,"onUpdate:value":t[1]||(t[1]=e=>E(u).dirName=e),options:E(c)},null,8,["value","options"])])])),_:1}),b(s,{class:"add-domain-btn",type:"primary",onClick:p},{default:R((()=>[B(U(e.$t("Site.Cert.index_62")),1)])),_:1})])),_:1}),b(r,{class:"mt-16px"},{table:R((()=>[b(d,{"checked-row-keys":E(h),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>T(h)?h.value=e:null),loading:E(y),"max-height":440,data:E(v).data,columns:E(x)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(o,{"checked-row-keys":E(h),"onUpdate:checkedRowKeys":t[3]||(t[3]=e=>T(h)?h.value=e:null),data:E(v).data,options:f},null,8,["checked-row-keys","data"])])),_:1}),b(m,{show:E(_).show,"onUpdate:show":t[4]||(t[4]=e=>E(_).show=e),title:E(_).title,data:E(_).data,width:600,"min-height":488,component:E(l)},null,8,["show","title","data","component"])])}}}),Ma={class:"pt-16px"},Ha={class:"flex-1"},za={class:"w-240px"},qa={class:"mt-8px text-desc"},Fa={class:"flex-1"},Ka={class:"w-240px"},Va={class:"mt-12px text-desc"},Wa={class:"my-16px"},Xa={class:"text-desc"},Ga={class:"my-20px"},Ja={class:"w-240px"},Ya={class:"w-240px"},Qa={class:"w-240px"},Za=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:l}=La(),i=C(""),s=async()=>{if(""!==i.value.trim())try{await Ie({id:l.id,name:l.name,path:i.value}),w()}catch(e){console.warn(e)}else n.error(a("Site.RulesError.index_13"))},r=C(null),u=C([]),c=async()=>{null!==r.value?(await Oe({id:l.id,runPath:r.value}),w()):n.error(a("Site.RulesError.index_15"))},p=C(!1),_=async()=>{await Ae({id:l.id,path:l.path}),w()},m=C(!1),h=async()=>{await Me({id:l.id}),w()},v=C(!1),x=j({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await He({id:l.id}),w())},y=async()=>{""!==x.username_get.trim()?""!==x.password_get_1.trim()?""!==x.password_get_2.trim()?x.username_get.trim().length<3||x.password_get_1.trim().length<3?n.error(a("Site.RulesError.index_35")):x.password_get_1.trim()===x.password_get_2.trim()?(await ze({id:l.id,username:x.username_get,password:x.password_get_1}),x.username_get="",x.password_get_1="",x.password_get_2="",w()):n.error(a("Site.RulesError.index_38")):n.error(a("Site.RulesError.index_37")):n.error(a("Site.RulesError.index_36")):n.error(a("Site.RulesError.index_34"))},w=()=>{(async()=>{const{message:e}=await qe({id:l.id});d(e)&&(i.value=e.result||"/www")})(),(async()=>{const{message:e}=await Fe({id:l.id,path:l.path});if(d(e)){r.value=Ot(e,"runPath.runPath",null),p.value=Ot(e,"userini",!1),m.value=Ot(e,"logs.result",!1),v.value=Ot(e,"pass.result",!1);const t=Ot(e,"runPath.dirs",[]);u.value=t.map((e=>({label:e,value:e})))}})()};return w(),t({init:w}),(e,t)=>{const a=ia,l=It,n=Mt,d=zt,w=Ht,g=o,S=qt,k=At,C=la;return $(),L("div",Ma,[b(C,{"label-width":"140"},{default:R((()=>[b(d,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:R((()=>[P("div",Ha,[b(n,null,{default:R((()=>[P("div",za,[b(a,{value:E(i),"onUpdate:value":t[0]||(t[0]=e=>T(i)?i.value=e:null),"input-props":{name:"directory"}},null,8,["value"])]),b(l,{class:"save-dir-btn",type:"primary",onClick:s},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),P("div",qa,U(e.$t("Site.Config.index_35")),1)])])),_:1},8,["label"]),b(d,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:R((()=>[P("div",Fa,[b(n,null,{default:R((()=>[P("div",Ka,[b(w,{value:E(r),"onUpdate:value":t[1]||(t[1]=e=>T(r)?r.value=e:null),class:"run-select",options:E(u)},null,8,["value","options"])]),b(l,{class:"save-run-btn",type:"primary",onClick:c},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),P("div",Va,U(e.$t("Site.Config.index_36")),1)])])),_:1},8,["label"]),P("div",Wa,[b(g,{dashed:""})]),b(d,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:R((()=>[b(n,{class:"items-center"},{default:R((()=>[b(S,{value:E(p),"onUpdate:value":[t[2]||(t[2]=e=>T(p)?p.value=e:null),_]},null,8,["value"]),P("div",Xa,U(e.$t("Site.Config.index_37")),1)])),_:1})])),_:1},8,["label"]),b(d,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:R((()=>[b(n,{class:"items-center"},{default:R((()=>[b(S,{value:E(m),"onUpdate:value":[t[3]||(t[3]=e=>T(m)?m.value=e:null),h]},null,8,["value"]),t[8]||(t[8]=P("div",{class:"text-desc"},null,-1))])),_:1})])),_:1},8,["label"]),P("div",Ga,[b(g,{dashed:""})]),b(d,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:R((()=>[b(n,{class:"items-center"},{default:R((()=>[b(S,{value:E(v),"onUpdate:value":[t[4]||(t[4]=e=>T(v)?v.value=e:null),f]},null,8,["value"]),t[9]||(t[9]=P("div",{class:"text-desc"},null,-1))])),_:1})])),_:1},8,["label"]),E(v)?($(),L(D,{key:0},[b(d,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:R((()=>[P("div",Ja,[b(k,{value:E(x).username_get,"onUpdate:value":t[5]||(t[5]=e=>E(x).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),b(d,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:R((()=>[P("div",Ya,[b(k,{value:E(x).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>E(x).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),b(d,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:R((()=>[P("div",Qa,[b(k,{value:E(x).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>E(x).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),b(d,{class:"mt-16px",label:" ","show-feedback":!1},{default:R((()=>[b(l,{type:"primary",onClick:y},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})],64)):I("",!0)])),_:1})])}}}),el={class:"p-20px"},tl={class:"w-280px"},al={class:"w-280px"},ll={class:"w-280px"},il={class:"w-280px"},nl=S({__name:"form",props:{data:{}},setup(e,{expose:t}){const a=e,{t:l}=k(),{isEdit:i,siteId:n,row:s,getList:d}=a.data,o=C(null),r=j({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:l("Site.RulesError.index_16"),trigger:["blur","input"]},site_dir:{required:!0,message:l("Site.RulesError.index_17"),trigger:["blur","input"]},username:{required:!0,message:l("Site.Placeholder.Index_6"),trigger:["blur","input"]},password:{required:!0,message:l("Site.Placeholder.Index_8"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{await(o.value?.validate()),i?await Ke({id:n,name:r.name,username:r.username,password:r.password}):await Ve({...O(r),id:n}),d?.(),e()}}),(e,t)=>{const a=At,l=zt,n=la,s=re;return $(),L("div",el,[b(n,{ref_key:"formRef",ref:o,model:E(r),rules:u},{default:R((()=>[b(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:R((()=>[P("div",tl,[b(a,{value:E(r).name,"onUpdate:value":t[0]||(t[0]=e=>E(r).name=e),disabled:E(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),b(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:R((()=>[P("div",al,[b(a,{value:E(r).site_dir,"onUpdate:value":t[1]||(t[1]=e=>E(r).site_dir=e),disabled:E(i),placeholder:e.$t("Site.Config.Limit.index_5"),"input-props":{name:"site_dir"}},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),b(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:R((()=>[P("div",ll,[b(a,{value:E(r).username,"onUpdate:value":t[2]||(t[2]=e=>E(r).username=e),placeholder:"","input-props":{name:"username"}},null,8,["value"])])])),_:1},8,["label"]),b(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:R((()=>[P("div",il,[b(a,{value:E(r).password,"onUpdate:value":t[3]||(t[3]=e=>E(r).password=e),placeholder:"","input-props":{name:"password"}},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),b(s,{class:"mt-4px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_40")),1),P("li",null,U(e.$t("Site.Config.index_41")),1)])),_:1})])}}}),sl=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:l}=La(),{keys:i,table:n,columns:s}=ie([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},oe({width:130,options:e=>[{label:a("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ae({title:`${a("Site.Config.Limit.index_1",[e.name])}`,content:a("Site.Config.Limit.index_2"),onConfirm:async({hide:t})=>{await We({id:l.id,name:e.name}),c(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>We({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=ne(),c=async()=>{try{u(!0);const{message:e}=await Xe({id:l.id});if(d(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],u(!1)}},p=de(a("Site.Config.index_38"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=It,l=se,d=te,u=ee,c=re,m=aa;return $(),L("div",null,[b(u,null,{toolsLeft:R((()=>[b(a,{class:"add-limit-btn",type:"primary",onClick:_},{default:R((()=>[B(U(e.$t("Site.Config.index_38")),1)])),_:1})])),table:R((()=>[b(l,{"checked-row-keys":E(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>T(i)?i.value=e:null),"row-key":"name",loading:E(r),"max-height":440,data:E(n).data,columns:E(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(d,{"checked-row-keys":E(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>T(i)?i.value=e:null),"row-key":"name",data:E(n).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),b(c,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_40")),1),P("li",null,U(e.$t("Site.Config.index_41")),1)])),_:1}),b(m,{show:E(p).show,"onUpdate:show":t[2]||(t[2]=e=>E(p).show=e),title:E(p).title,data:E(p).data,width:480,footer:!0,component:nl},null,8,["show","title","data"])])}}}),dl={class:"p-20px"},ol={class:"w-280px"},rl={class:"w-280px"},ul={class:"w-280px"},cl=S({__name:"form",props:{data:{}},setup(e,{expose:t}){const a=e,{isEdit:l,siteName:i,row:n,getList:s}=a.data,{t:d}=k(),o=C(null),r=j({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:d("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:d("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:d("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...O(r),dir:r.dir.replace(/\/$/,"")+"/",website:i});return l&&n&&(r.deny_name=n.name,r.suffix=n.suffix,r.dir=n.dir),t({onConfirm:async({hide:e})=>{await(o.value?.validate()),l?await Ge(c()):await Je(c()),s?.(),e()}}),(e,t)=>{const a=At,i=zt,n=la,s=re;return $(),L("div",dl,[b(n,{ref_key:"formRef",ref:o,model:E(r),rules:u},{default:R((()=>[b(i,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:R((()=>[P("div",ol,[b(a,{value:E(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>E(r).deny_name=e),disabled:E(l),placeholder:e.$t("Site.Placeholder.Index_1"),"input-props":{name:"name"}},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),b(i,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:R((()=>[P("div",rl,[b(a,{value:E(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>E(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2"),"input-props":{name:"suffix"}},null,8,["value","placeholder"])])])),_:1},8,["label"]),b(i,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:R((()=>[P("div",ul,[b(a,{value:E(r).dir,"onUpdate:value":t[2]||(t[2]=e=>E(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3"),"input-props":{name:"dir"}},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),b(s,{class:"mt-4px"},{default:R((()=>[P("li",null,U(e.$t("Site.PHP.index_72")),1),P("li",null,U(e.$t("Site.PHP.index_73")),1),P("li",null,U(e.$t("Site.PHP.index_74")),1),P("li",null,U(e.$t("Site.PHP.index_75")),1),P("li",null,U(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),pl=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:l}=La(),{keys:n,table:s,columns:d}=ie([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},oe({width:130,options:e=>[{label:a("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ae({title:`${a("Site.TableOP.index_6")} [${e.name}]`,content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await Ye({website:l.name,deny_name:e.name}),c(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[d.value[1]],api:e=>Ye({website:l.name,deny_name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=ne(),c=async()=>{try{u(!0);const{message:e}=await Qe({website:l.name});s.data=i(e)?e:[]}finally{n.value=[],u(!1)}},p=de(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=It,l=se,i=te,u=ee,c=re,m=aa;return $(),L("div",null,[b(u,null,{toolsLeft:R((()=>[b(a,{class:"add-deny-btn",type:"primary",onClick:_},{default:R((()=>[B(U(e.$t("Site.Config.index_38")),1)])),_:1})])),table:R((()=>[b(l,{"checked-row-keys":E(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>T(n)?n.value=e:null),"row-key":"name",loading:E(r),"max-height":440,data:E(s).data,columns:E(d)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(i,{"checked-row-keys":E(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>T(n)?n.value=e:null),"row-key":"name",data:E(s).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),b(c,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_42"))+" |",1),P("li",null,U(e.$t("Site.Config.index_43")),1),P("li",null,U(e.$t("Site.Config.index_44")),1),P("li",null,U(e.$t("Site.Config.index_45")),1)])),_:1}),b(m,{show:E(p).show,"onUpdate:show":t[2]||(t[2]=e=>E(p).show=e),title:E(p).title,data:E(p).data,width:480,footer:!0,component:cl},null,8,["show","title","data"])])}}}),_l=S({__name:"index",setup(e){const{t:t}=k(),a=C("limit"),l=[{key:"limit",label:t("Site.Config.index_5"),component:sl},{key:"deny",label:t("Site.Config.index_14"),component:pl}];return(e,t)=>{const i=na;return $(),A(i,{value:E(a),"onUpdate:value":t[0]||(t[0]=e=>T(a)?a.value=e:null),options:l},null,8,["value"])}}}),ml={class:"pt-8px"},hl={class:"w-200px"},vl={class:"flex flex-col"},xl={class:"w-200px"},fl={class:"mt-8px text-desc"},yl={class:"flex flex-col"},wl={class:"w-200px"},gl={class:"mt-8px text-desc"},bl={class:"flex flex-col"},Sl={class:"w-200px"},kl={class:"mt-8px text-desc"},Cl=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:l}=La(),i=C(null),n=j({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),s={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.index_320"))}},o=C([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),u=async e=>{e?_():(await Ze({id:l.id}),m())},c=(e,t)=>{const{items:a}=t;d(a)&&p(a)},p=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},_=async()=>{await(i.value?.validate()),await et({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),m()},m=async()=>{const{message:e}=await tt({id:l.id});d(e)&&(n.status=0!=e.perserver,p(o.value[0].items),r(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),r(e.perip)&&0!=e.perip&&(n.perip=e.perip),r(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return m(),t({init:m}),(e,t)=>{const a=Ft,l=zt,d=Ht,r=Kt,p=It,m=la;return $(),L("div",ml,[b(m,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:E(n),rules:s},{default:R((()=>[b(l,{label:" "},{default:R((()=>[b(a,{checked:E(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>E(n).status=e),u]},{default:R((()=>[B(U(e.$t("Site.PHP.index_82")),1)])),_:1},8,["checked"])])),_:1}),b(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:R((()=>[P("div",hl,[b(d,{value:E(n).type,"onUpdate:value":[t[1]||(t[1]=e=>E(n).type=e),c],options:E(o)},null,8,["value","options"])])])),_:1},8,["label"]),b(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:R((()=>[P("div",vl,[P("div",xl,[b(r,{value:E(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>E(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),P("div",fl,U(e.$t("Site.PHP.index_83")),1)])])),_:1},8,["label"]),b(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:R((()=>[P("div",yl,[P("div",wl,[b(r,{value:E(n).perip,"onUpdate:value":t[3]||(t[3]=e=>E(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),P("div",gl,U(e.$t("Site.PHP.index_84")),1)])])),_:1},8,["label"]),b(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:R((()=>[P("div",bl,[P("div",Sl,[b(r,{value:E(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>E(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),P("div",kl,U(e.$t("Site.PHP.index_85")),1)])])),_:1},8,["label"]),b(l,{label:" "},{default:R((()=>[b(p,{type:"primary",onClick:_},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),$l={class:"w-420px"},Ll={class:"mt-8px"},Pl=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=C(""),i=async()=>{const{message:e}=await at({id:a.id});d(e)&&(l.value=u(e.result)?e.result.split(",").join("\n"):"")},n=async()=>{await lt({id:a.id,Index:l.value.trim().split("\n").join(",")}),i()};return i(),t({init:i}),(e,t)=>{const a=Pe,i=It,s=re;return $(),L("div",null,[P("div",$l,[b(a,{value:E(l),"onUpdate:value":t[0]||(t[0]=e=>T(l)?l.value=e:null),rows:12,name:"content",placeholder:""},null,8,["value"])]),P("div",Ll,[b(i,{class:"save-btn",type:"primary",onClick:n},{default:R((()=>[B(U(e.$t("Public.Btn.Save")),1)])),_:1})]),b(s,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.PHP.index_79")),1)])),_:1})])}}}),Rl={class:"mt-8px"},Ul=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=c(),i=C(null),n=C((()=>{const{webserver:e}=l;return`/www/server/panel/vhost/${"openlitespeed"===e?`${e}/detail`:e}/${a.name}.conf`})()),s=async()=>{i.value?.getContent()},d=()=>{i.value?.saveFile()};return M((()=>{s()})),t({init:s}),(e,t)=>{const a=It,l=re;return $(),L("div",null,[b(sa,{ref_key:"configRef",ref:i,path:E(n),"onUpdate:path":t[0]||(t[0]=e=>T(n)?n.value=e:null),height:"500"},null,8,["path"]),P("div",Rl,[b(a,{type:"primary",onClick:d},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})]),b(l,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_59")),1),P("li",null,U(e.$t("Site.Config.index_60")),1)])),_:1})])}}}),El={class:"p-8"},Tl=S({__name:"form",setup(e,{expose:t}){const a=C(null),l=C(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=j({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{await(a.value?.validate())}}),(e,t)=>{const d=ia,o=zt,r=Ft,u=p,c=Vt,_=la,m=Mt,h=re;return $(),L("div",El,[b(m,null,{default:R((()=>[b(_,{ref_key:"formRef",ref:a,model:E(n),rules:i},{default:R((()=>[b(o,{label:"Detection path",path:"path"},{default:R((()=>[b(d,{disabled:"",value:E(n).path,"onUpdate:value":t[0]||(t[0]=e=>E(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),b(o,{label:"Alert operation",path:"operation"},{default:R((()=>[b(c,{value:E(n).operation,"onUpdate:value":t[1]||(t[1]=e=>E(n).operation=e)},{default:R((()=>[b(u,null,{default:R((()=>[b(r,{value:0},{default:R((()=>t[2]||(t[2]=[B(" Read ")]))),_:1}),b(r,{value:1,disabled:E(l)},{default:R((()=>t[3]||(t[3]=[B(" delete ")]))),_:1},8,["disabled"]),b(r,{value:2,disabled:E(l)},{default:R((()=>t[4]||(t[4]=[B(" Modify/increase ")]))),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),b(h,{class:"mt-16px"},{default:R((()=>t[5]||(t[5]=[P("li",null,"Directory temporarily only supports reading alarm operation",-1)]))),_:1})])}}}),Bl={class:"p-5"},jl={class:"mt-16px"},Nl=S({__name:"monitor",setup(e){const t=C(!1),a=C(!1),l=C([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=C([]);return(e,n)=>{const s=It,d=Mt,o=se,r=re,u=aa;return $(),L("div",Bl,[P("div",null,[b(d,{justify:"space-between"},{default:R((()=>[b(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:R((()=>n[2]||(n[2]=[B(" Add monitor ")]))),_:1}),b(s,null,{icon:R((()=>n[3]||(n[3]=[P("img",{src:oa,class:"w-5"},null,-1)]))),_:1})])),_:1})]),P("div",jl,[b(o,{loading:E(a),"loading-num":6,data:E(i),columns:E(l)},null,8,["loading","data","columns"])]),P("div",null,[b(r,{class:"mt-16px"},{default:R((()=>[n[5]||(n[5]=P("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=P("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),P("li",null,[b(s,{text:"",class:"color-#20a53a"},{default:R((()=>n[4]||(n[4]=[B("Tutorial")]))),_:1})])])),_:1})]),b(u,{show:E(t),"onUpdate:show":n[1]||(n[1]=e=>T(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:Tl},null,8,["show"])])}}}),Dl=_({},[["render",function(e,t){return $(),L("div",null,"555")}]]),Il={class:"box mt-16px"},Ol={key:0,class:"items-center warning"},Al={class:"warning"},Ml={class:"color-#f23836"},Hl=S({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=c(),a=C(!1),i=C(!1),n=C(!1),s=e,d=m(),o=()=>{ue({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";ae({title:e,content:t,onConfirm:async()=>{const e=pa(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,u)=>{const c=qt,p=Mt,_=It,m=re,h=l,v=da,x=aa;return $(),L(D,null,[P("div",Il,[b(v,{install:E(d).isPro,class:"install"},H({default:R((()=>[b(p,{class:"items-center color-#666"},{default:R((()=>[u[8]||(u[8]=P("div",null,"Site protection",-1)),P("div",null,[b(c,{value:E(a),"onUpdate:value":[u[0]||(u[0]=e=>T(a)?a.value=e:null),r]},null,8,["value"])]),u[9]||(u[9]=P("div",null,"today: 0",-1)),u[10]||(u[10]=P("div",null,"Total alarm: 0",-1)),E(a)?I("",!0):($(),L("div",Ol,[u[7]||(u[7]=P("img",{src:ua,class:"h-8"},null,-1)),P("span",Al,[u[5]||(u[5]=B(" Please open ")),P("span",Ml,"PHP-"+U(s.phpVersion),1),u[6]||(u[6]=B(" protection first "))])]))])),_:1}),b(p,{class:"mt-16px"},{default:R((()=>[b(_,{onClick:u[1]||(u[1]=e=>i.value=!0)},{default:R((()=>u[11]||(u[11]=[B("Monitor")]))),_:1}),b(_,{onClick:u[2]||(u[2]=e=>n.value=!0)},{default:R((()=>u[12]||(u[12]=[B("Trigger log")]))),_:1})])),_:1}),b(m,{class:"mt-16px"},{default:R((()=>u[13]||(u[13]=[P("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),P("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)]))),_:1})])),_:2},[s.isInstall?{name:"desc",fn:R((()=>[b(p,{class:"items-center"},{default:R((()=>[u[16]||(u[16]=P("img",{src:ra,class:"h-10"},null,-1)),P("span",null,[u[15]||(u[15]=B("If you need to use the [PHP website security alarm] function, please buy first ")),b(h,{onClick:o},{default:R((()=>u[14]||(u[14]=[B("click to buy")]))),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:R((()=>[b(p,{class:"items-center"},{default:R((()=>[u[19]||(u[19]=P("img",{src:ra,class:"h-10"},null,-1)),P("span",null,[u[18]||(u[18]=B("Currently not installed [PHP website security alarm], ")),b(h,null,{default:R((()=>u[17]||(u[17]=[B("Click to install")]))),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),b(x,{show:E(i),"onUpdate:show":u[3]||(u[3]=e=>T(i)?i.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Nl},null,8,["show"]),b(x,{show:E(n),"onUpdate:show":u[4]||(u[4]=e=>T(n)?n.value=e:null),title:`[${E(t).siteName}] Site security log`,width:1e3,"min-height":148,footer:!1,component:Dl},null,8,["show","title"])],64)}}}),zl=_(Hl,[["__scopeId","data-v-f356717b"]]),ql={class:"w-140px"},Fl={class:"my-16px"},Kl={key:0,class:"my-16px"},Vl=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=c(),s=C(null),r=C(!1),u=C(!1);let p="";const _=C([]),m=async()=>{null!==s.value?(await it({siteName:a.name,version:s.value,other:p}),l.setRefresh(!0),f()):n.error("Please select a PHP version")},v=async()=>{const{message:e}=await ot({id:a.id});d(e)&&(r.value=e.result)},x=async e=>{await nt({id:a.id,act:e?1:0}),v()},f=()=>{(async()=>{const{message:e}=await _a();d(e)&&(u.value=e.php_status)})(),v(),(async()=>{const{message:e}=await dt();i(e)&&(_.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await st({siteName:a.name});d(e)&&(s.value=e.phpversion,p=e.php_other||"")})()};return f(),t({init:f}),(e,t)=>{const a=Ht,l=It,i=Mt,n=re,d=o,c=qt;return $(),L("div",null,[b(i,{class:"items-center"},{default:R((()=>[P("div",null,U(e.$t("Site.Lable.index_22")),1),P("div",ql,[b(a,{value:E(s),"onUpdate:value":t[0]||(t[0]=e=>T(s)?s.value=e:null),options:E(_)},null,8,["value","options"])]),P("div",null,[b(l,{type:"primary",onClick:m},{default:R((()=>[B(U(e.$t("Site.Cert.index_61")),1)])),_:1})])])),_:1}),b(n,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_65")),1),P("li",null,U(e.$t("Site.Config.index_66")),1),P("li",null,U(e.$t("Site.Config.index_67")),1),P("li",null,U(e.$t("Site.Config.index_68")),1),P("li",null,U(e.$t("Site.Config.index_69")),1),P("li",null,U(e.$t("Site.Config.index_70")),1)])),_:1}),P("div",Fl,[b(d,{dashed:""})]),b(i,{class:"items-center"},{default:R((()=>[P("div",null,U(e.$t("Site.Config.index_64")),1),P("div",null,[b(c,{value:E(r),"onUpdate:value":[t[1]||(t[1]=e=>T(r)?r.value=e:null),x]},null,8,["value"])])])),_:1}),b(n,{class:"mt-16px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_71")),1),P("li",null,U(e.$t("Site.Config.index_72")),1)])),_:1}),E(h)?($(),L("div",Kl,[b(d,{dashed:""}),b(zl,{isInstall:E(u),phpVersion:E(s)},null,8,["isInstall","phpVersion"])])):I("",!0)])}}}),Wl={class:"mr-16px text-#777"},Xl={key:1,class:"text-#777"},Gl={class:"w-200px mr-8px"},Jl={class:"w-200px mr-8px"},Yl=S({__name:"index",setup(e,{expose:t}){const a=c(),{data:l}=La(),s=C(!1),o=C("--"),r=C("--"),u=C(l.cache_status),p=C(null),_=C([]),m=C(""),h=async()=>{await rt({s_id:l.id,version:r.value}),y()},v=async e=>{await ut({version:l.php_version,sitename:l.name,act:e}),l.cache_status=e,a.setRefresh(!0)},x=async()=>{await ct({s_id:l.id})},f=async()=>{p.value?""!==m.value.trim()?await pt({s_id:l.id,user:p.value,new_pass:m.value}):n.error("Please enter new password"):n.error("Please select user")},y=async()=>{const e=n.loading("Getting Wordpress information, please wait...");try{await(async()=>{const{message:e}=await _t({s_id:l.id});d(e)&&(o.value=e.local_v,r.value=e.online_v,s.value=e.update)})(),await(async()=>{const{message:e}=await mt({s_id:l.id});i(e)&&e.length>0?(_.value=e.map((e=>({label:e,value:e}))),p.value=e[0]):(_.value=[],p.value=null)})()}finally{e.close()}};return y(),t({init:y}),(e,t)=>{const a=It,l=zt,i=Ft,n=Ht,d=At,c=la;return $(),L("div",null,[b(c,null,{default:R((()=>[b(l,{label:"WP Version"},{default:R((()=>[E(s)?($(),L(D,{key:0},[P("div",Wl,"The current version is: "+U(E(o)),1),b(a,{type:"primary",onClick:h},{default:R((()=>[B("Upgrade to "+U(E(r)),1)])),_:1})],64)):($(),L("span",Xl,"The latest version"))])),_:1}),b(l,{label:"Cache"},{default:R((()=>[b(i,{checked:E(u),"onUpdate:checked":[t[0]||(t[0]=e=>T(u)?u.value=e:null),v],class:"mr-16px"},{default:R((()=>t[3]||(t[3]=[B(" Open cache ")]))),_:1},8,["checked"]),b(a,{type:"primary",onClick:x},{default:R((()=>t[4]||(t[4]=[B("Purge all cache")]))),_:1})])),_:1}),b(l,{label:"Reset password"},{default:R((()=>[P("div",Gl,[b(n,{value:E(p),"onUpdate:value":t[1]||(t[1]=e=>T(p)?p.value=e:null),options:E(_)},null,8,["value","options"])]),P("div",Jl,[b(d,{value:E(m),"onUpdate:value":t[2]||(t[2]=e=>T(m)?m.value=e:null),placeholder:"Please enter a new password"},null,8,["value"])]),b(a,{type:"primary",onClick:f},{default:R((()=>t[5]||(t[5]=[B("Save password")]))),_:1})])),_:1})])),_:1})])}}}),Ql={class:"pt-8px"},Zl={class:"w-180px mr-8px"},ei={class:"w-180px"},ti={class:"w-180px"},ai={class:"w-280px"},li={class:"w-180px"},ii={class:"w-180px"},ni={class:"w-280px"},si={class:"flex-1"},di={key:0,class:"mb-16px text-error"},oi={key:1,class:"mb-16px text-error"},ri=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:i}=La(),n=j({composer_version:"",php_version:"auto",composer_args:"install",composer_cmd:"",repo:"repos.packagist",composer_user:"www",composer_path:i.path}),s=C([]),o=[{label:a("Docker.App.index_4"),value:"install"},{label:a("Docker.App.index_3"),value:"update"}],r=[{label:a("Site.Lable.index_8"),value:"repos.packagist"}],c=[{label:a("Site.Lable.index_9"),value:"www"},{label:a("Site.Lable.index_10"),value:"root"}],p=C(""),_=C(""),m=async()=>{await ht({repo:n.repo}),f()},h=async()=>{await vt({path:i.path}),f()},v=()=>{ae({title:a("Site.PHP.index_77"),content:a("Site.PHP.index_78"),onConfirm:async()=>{await xt({php_version:n.php_version,composer_args:n.composer_args,composer_cmd:n.composer_cmd,repo:n.repo,path:n.composer_path,user:n.composer_user}),f()}})},x=()=>{s.value.unshift({label:a("Site.Lable.index_12"),value:"auto"})},f=async()=>{const{message:e}=await ft({path:i.path});d(e)&&(n.composer_version=e.result,e.comp_json&&(p.value=e.comp_json),u(e.comp_lock)&&(_.value=e.comp_lock),s.value=e.php_versions.filter((e=>"00"!==e.version)).map((e=>({label:e.name,value:e.version}))),x())};return x(),f(),t({init:f}),(e,t)=>{const a=At,i=It,d=zt,u=Ht,x=ia,f=l,y=la;return $(),L("div",Ql,[b(y,{class:"px-8px"},{default:R((()=>[b(d,{label:e.$t("Site.TableRow.index_3"),path:"composer_version"},{default:R((()=>[P("div",Zl,[b(a,{value:E(n).composer_version,"onUpdate:value":t[0]||(t[0]=e=>E(n).composer_version=e),disabled:!0,placeholder:""},null,8,["value"])]),b(i,{onClick:m},{default:R((()=>[B(U(e.$t("Docker.App.index_3")),1)])),_:1})])),_:1},8,["label"]),b(d,{label:e.$t("Site.TableRow.index_27"),path:"php_version"},{default:R((()=>[P("div",ei,[b(u,{value:E(n).php_version,"onUpdate:value":t[1]||(t[1]=e=>E(n).php_version=e),options:E(s)},null,8,["value","options"])])])),_:1},8,["label"]),b(d,{label:e.$t("Site.TableRow.index_28"),path:"composer_args"},{default:R((()=>[P("div",ti,[b(u,{value:E(n).composer_args,"onUpdate:value":t[2]||(t[2]=e=>E(n).composer_args=e),options:o},null,8,["value"])])])),_:1},8,["label"]),b(d,{label:e.$t("Site.TableRow.index_29"),path:"composer_cmd"},{default:R((()=>[P("div",ai,[b(a,{value:E(n).composer_cmd,"onUpdate:value":t[3]||(t[3]=e=>E(n).composer_cmd=e),placeholder:e.$t("Site.Cert.index_67")},null,8,["value","placeholder"])])])),_:1},8,["label"]),b(d,{label:e.$t("Site.Lable.index_32"),path:"repo"},{default:R((()=>[P("div",li,[b(u,{value:E(n).repo,"onUpdate:value":t[4]||(t[4]=e=>E(n).repo=e),options:r},null,8,["value"])])])),_:1},8,["label"]),b(d,{label:e.$t("Ftp.Analysis.Index_27"),path:"composer_user"},{default:R((()=>[P("div",ii,[b(u,{value:E(n).composer_user,"onUpdate:value":t[5]||(t[5]=e=>E(n).composer_user=e),options:c},null,8,["value"])])])),_:1},8,["label"]),b(d,{label:e.$t("Site.Lable.index_26"),path:"composer_path"},{default:R((()=>[P("div",ni,[b(x,{value:E(n).composer_path,"onUpdate:value":t[6]||(t[6]=e=>E(n).composer_path=e)},null,8,["value"])])])),_:1},8,["label"]),b(d,{label:" ","show-feedback":!1},{default:R((()=>[P("div",si,[E(p)?($(),L("div",di,U(E(p)),1)):I("",!0),E(_)?($(),L("div",oi,[P("span",null,U(E(_)),1),b(f,{onClick:h},{default:R((()=>[B("["+U(e.$t("Site.TableOP.index_6"))+"]",1)])),_:1})])):I("",!0),b(i,{type:"primary",onClick:v},{default:R((()=>[B(U(e.$t("Site.Lable.index_11")),1)])),_:1})])])),_:1})])),_:1})])}}}),ui={class:"px-20px py-24px"},ci={class:"w-120px"},pi={class:"w-120px"},_i={class:"w-200px"},mi={class:"w-200px"},hi={class:"w-200px"},vi=S({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=k(),l=e,{isEdit:n,siteId:s,siteName:d,row:o,getList:r}=l.data,u=C(null),c=j({redirectname:`${(new Date).valueOf()}`,type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),p={redirectdomain:{trigger:["change"],validator:()=>0!==c.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==c.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==c.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},_=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=C([]),v=()=>{c.redirectdomain=[],c.redirectpath=""},{loading:x,setLoading:f}=ne();return n&&o&&(c.redirectname=o.redirectname,c.type=o.type,c.holdpath=o.holdpath,c.redirecttype=o.redirecttype,c.redirectpath=o.redirectpath,c.domainorpath=o.domainorpath,c.redirectdomain=o.redirectdomain,c.tourl=o.tourl),(async()=>{try{f(!0);const{message:e}=await Ue({id:s});h.value=i(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{f(!1)}})(),t({onConfirm:async({hide:e})=>{await(u.value?.validate());const t={...O(c),sitename:d};n?await wt(t):await yt(t),r?.(),e()}}),(e,t)=>{const a=qt,l=zt,i=Mt,n=Ht,s=At,d=la,o=re;return $(),L("div",ui,[b(d,{ref_key:"formRef",ref:u,model:E(c),rules:p},{default:R((()=>[b(i,{size:60},{default:R((()=>[b(l,{label:e.$t("Site.Lable.index_34")},{default:R((()=>[b(a,{value:E(c).type,"onUpdate:value":t[0]||(t[0]=e=>E(c).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),b(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:R((()=>[b(a,{value:E(c).holdpath,"onUpdate:value":t[1]||(t[1]=e=>E(c).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),b(i,{size:30},{default:R((()=>[b(l,{label:e.$t("Site.TableRow.index_11")},{default:R((()=>[P("div",ci,[b(n,{value:E(c).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>E(c).domainorpath=e),v],class:"type-select",options:_},null,8,["value"])])])),_:1},8,["label"]),b(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:R((()=>[P("div",pi,[b(n,{value:E(c).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>E(c).redirecttype=e),class:"mode-select",options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===E(c).domainorpath?($(),A(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:R((()=>[P("div",_i,[b(n,{value:E(c).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>E(c).redirectdomain=e),class:"domain-select",multiple:!0,loading:E(x),options:E(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):I("",!0),"path"===E(c).domainorpath?($(),A(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:R((()=>[P("div",mi,[b(s,{value:E(c).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>E(c).redirectpath=e),placeholder:"","input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"])):I("",!0),b(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:R((()=>[P("div",hi,[b(s,{value:E(c).tourl,"onUpdate:value":t[6]||(t[6]=e=>E(c).tourl=e),placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),b(o,{class:"mt-12px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_77")),1),P("li",null,U(e.$t("Site.Config.index_78")),1),P("li",null,U(e.$t("Site.Config.index_79")),1),P("li",null,U(e.$t("Site.Config.index_80")),1),P("li",null,U(e.$t("Site.Config.index_81")),1),P("li",null,U(e.$t("Site.Config.index_82")),1)])),_:1})])}}}),xi={class:"p-20px"},fi={class:"mt-12px"},yi=S({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:s}=a.data,o=t,r=c(),u=C(""),p=C(""),_=C(""),m=async()=>{const{message:e}=await bt({path:_.value,data:u.value,encoding:p.value});d(e)&&n.success(e.msg),s?.(),o("close")};return(async()=>{const{message:e}=await gt({sitename:i,redirectname:l.redirectname,webserver:r.webserver});d(e)&&(_.value=e.file,u.value=e.data,p.value=e.encoding)})(),(e,t)=>{const a=It,l=re;return $(),L("div",xi,[b(sa,{value:E(u),"onUpdate:value":t[0]||(t[0]=e=>T(u)?u.value=e:null),height:350,"show-tips":!1},null,8,["value"]),P("div",fi,[b(a,{type:"primary",onClick:m},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})]),b(l,{class:"mt-24px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),wi=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:n}=La(),s=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:d,table:o,columns:r}=ie([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>b(l,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await St({...s(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?a("Config.Alarm.index_18"):a("Public.Status.TurnOff")]})},{key:"type",title:a("Config.Safe.index_156"),width:100,render:e=>b(ce,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":a("Public.Status.Running"),"unchecked-title":a("Public.Status.Paused"),onClick:async t=>{await St({...s(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},oe({width:140,options:e=>[{label:a("Site.TableOP.index_2"),class:"config-btn",onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ae({title:a("Site.Config.Redirect.index_1",[e.redirectname]),content:a("Site.Config.Redirect.index_2"),onConfirm:async()=>{await kt({sitename:n.name,redirectname:e.redirectname}),_()}})}}]})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[r.value[1]],api:e=>kt({sitename:n.name,redirectname:e.redirectname},!1),done:()=>{_()}}}],{loading:c,setLoading:p}=ne(),_=async()=>{try{p(!0);const{message:e}=await Ct({sitename:n.name});o.data=i(e)?e:[]}finally{d.value=[],p(!1)}},m=de(a("Site.Config.index_74"),{row:void 0,siteId:n.id,siteName:n.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_74"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title=`${a("Site.Config.index_75")} [${e.redirectname}]`,m.show=!0},x=de("",{row:void 0,siteName:n.name,getList:_}),f=e=>{x.data.row=e,x.title=`${a("Site.Config.index_76")} [${e.redirectname}]`,x.show=!0};return _(),t({init:_}),(e,t)=>{const a=It,l=se,i=te,n=ee,s=aa;return $(),L("div",null,[b(n,null,{toolsLeft:R((()=>[b(a,{class:"add-btn",type:"primary",onClick:h},{default:R((()=>[B(U(e.$t("Site.Config.index_73")),1)])),_:1})])),table:R((()=>[b(l,{"checked-row-keys":E(d),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>T(d)?d.value=e:null),"row-key":"redirectname",loading:E(c),"max-height":440,data:E(o).data,columns:E(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(i,{"checked-row-keys":E(d),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>T(d)?d.value=e:null),"row-key":"redirectname",data:E(o).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),b(s,{show:E(m).show,"onUpdate:show":t[2]||(t[2]=e=>E(m).show=e),title:E(m).title,data:E(m).data,width:660,footer:!0,component:vi},null,8,["show","title","data"]),b(s,{show:E(x).show,"onUpdate:show":t[3]||(t[3]=e=>E(x).show=e),title:E(x).title,data:E(x).data,width:580,component:yi},null,8,["show","title","data"])])}}}),gi={class:"px-20px py-24px"},bi={class:"w-220px"},Si={class:"w-220px"},ki={class:"w-220px"},Ci={class:"w-220px"},$i={class:"w-220px"},Li={class:"w-220px"},Pi={class:"w-220px"},Ri=S({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=k(),i=e,{isEdit:n,siteName:s,row:d,getList:o}=i.data,r=C(null),u=j({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:s}),c={proxyname:{trigger:["blur","input"],validator:()=>""!==u.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===u.cache&&!u.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>1!==u.advanced||""!==u.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==u.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==u.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},p=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?u.todomain="$host":u.todomain=e},_=C([]),m=()=>{_.value.length>=3||_.value.push({sub1:"",sub2:""})};return m(),(()=>{if(n&&d){u.type=d.type,u.cache=d.cache,u.advanced=d.advanced,u.proxyname=d.proxyname,u.cachetime=d.cachetime,u.proxydir=d.proxydir,u.proxysite=d.proxysite,u.todomain=d.todomain,u.sitename=d.sitename;const e=d.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(_.value=e)}})(),t({onConfirm:async({hide:e})=>{await(r.value?.validate());const t=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{_.value.length-1<t||(e.sub1=_.value[t].sub1,e.sub2=_.value[t].sub2)})),{...O(u),subfilter:e}})();n?await Lt(t):await $t(t),o?.(),e()}}),(e,t)=>{const a=qt,i=zt,s=Mt,d=At,o=Kt,h=Wt,v=Xt,x=l,f=It,y=la,w=re;return $(),L("div",gi,[b(y,{ref_key:"formRef",ref:r,model:E(u),rules:c},{default:R((()=>[b(s,{size:32},{default:R((()=>[b(i,{label:e.$t("Site.Lable.index_46")},{default:R((()=>[b(a,{value:E(u).type,"onUpdate:value":t[0]||(t[0]=e=>E(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),b(i,{label:e.$t("Site.Lable.index_47"),"label-width":"100"},{default:R((()=>[b(a,{value:E(u).cache,"onUpdate:value":t[1]||(t[1]=e=>E(u).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),b(i,{label:e.$t("Site.Lable.index_35"),"label-width":"126"},{default:R((()=>[b(a,{value:E(u).advanced,"onUpdate:value":t[2]||(t[2]=e=>E(u).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),b(i,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:R((()=>[P("div",bi,[b(d,{value:E(u).proxyname,"onUpdate:value":t[3]||(t[3]=e=>E(u).proxyname=e),disabled:E(n),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),1===E(u).cache?($(),A(i,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:R((()=>[P("div",Si,[b(v,null,{default:R((()=>[b(o,{value:E(u).cachetime,"onUpdate:value":t[4]||(t[4]=e=>E(u).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),b(h,{class:"w-70px text-center"},{default:R((()=>[B(U(E(u).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):I("",!0),1===E(u).advanced?($(),A(i,{key:1,label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:R((()=>[P("div",ki,[b(d,{value:E(u).proxydir,"onUpdate:value":t[5]||(t[5]=e=>E(u).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])])),_:1},8,["label"])):I("",!0),b(i,{label:e.$t("Site.Lable.index_33")},{default:R((()=>[P("div",Ci,[b(d,{value:E(u).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>E(u).proxysite=e),p],placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"]),b(i,{label:e.$t("Site.Lable.index_36")},{default:R((()=>[P("div",$i,[b(d,{value:E(u).todomain,"onUpdate:value":t[7]||(t[7]=e=>E(u).todomain=e),placeholder:"","input-props":{name:"domain"}},null,8,["value"])])])),_:1},8,["label"]),b(i,{label:e.$t("Site.Lable.index_37")},{default:R((()=>[b(s,{class:"flex-1",vertical:""},{default:R((()=>[($(!0),L(D,null,z(E(_),((t,a)=>($(),A(s,{key:`${a+1}`,class:"sub-rows items-center"},{default:R((()=>[P("div",Li,[b(d,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),P("div",Pi,[b(d,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),P("div",null,[b(x,{type:"error",disabled:0===a&&1===E(_).length,onClick:e=>(e=>{_.value.length<=1||_.value.splice(e,1)})(a)},{default:R((()=>[B(U(e.$t("Public.Btn.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),P("div",null,[b(f,{type:"primary",class:"add-content-btn",disabled:E(_).length>=3,onClick:m},{default:R((()=>[P("span",null,U(e.$t("Site.Config.index_87")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),b(w,{class:"mt-12px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_88")),1),P("li",null,U(e.$t("Site.Config.index_89")),1),P("li",null,U(e.$t("Site.Config.index_90")),1),P("li",null,U(e.$t("Site.Config.index_91")),1)])),_:1})])}}}),Ui={class:"p-20px"},Ei={class:"mt-12px"},Ti=S({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:s}=a.data,o=t,r=c(),u=C(""),p=C(""),_=C(""),m=async()=>{const{message:e}=await Rt({path:_.value,data:u.value,encoding:p.value});d(e)&&n.success(e.msg),s?.(),o("close")};return(async()=>{const{message:e}=await Pt({sitename:i,proxyname:l.proxyname,webserver:r.webserver});d(e)&&(_.value=e.file,u.value=e.data,p.value=e.encoding)})(),(e,t)=>{const a=It,l=re;return $(),L("div",Ui,[b(sa,{value:E(u),"onUpdate:value":t[0]||(t[0]=e=>T(u)?u.value=e:null),height:350,"show-tips":!1},null,8,["value"]),P("div",Ei,[b(a,{type:"primary",onClick:m},{default:R((()=>[B(U(e.$t("Site.Cert.index_60")),1)])),_:1})]),b(l,{class:"mt-24px"},{default:R((()=>[P("li",null,U(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),Bi=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{data:n}=La(),s=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:d,table:o,columns:r}=ie([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>b("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>b(l,{type:1===e.cache?"primary":"error",onClick:async()=>{await Lt({...s(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>b(ce,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Lt({...s(e),type:t,cache:e.cache}),e.type=t}},null)},oe({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ae({title:a("Site.Config.Proxy.index_1",[e.proxyname]),content:a("Site.Config.Proxy.index_2"),onConfirm:async()=>{await Ut({sitename:n.name,proxyname:e.proxyname}),_()}})}}]})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>Ut({sitename:n.name,proxyname:e.proxyname},!1),done:()=>{_()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=ne(),_=async()=>{try{p(!0);const{message:e}=await Et({sitename:n.name});o.data=i(e)?e:[]}finally{d.value=[],p(!1)}},m=de(a("Site.Config.index_86"),{row:void 0,siteName:n.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_86"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title=`${a("Site.Config.index_75")} [${e.proxyname}]`,m.show=!0},x=de("",{row:void 0,siteName:n.name,getList:_}),f=e=>{x.data.row=e,x.title=`${a("Site.Config.index_76")} [${e.proxyname}]`,x.show=!0};return _(),t({init:_}),(e,t)=>{const a=It,l=se,i=te,n=ee,s=aa;return $(),L("div",null,[b(n,null,{toolsLeft:R((()=>[b(a,{class:"add-btn",type:"primary",onClick:h},{default:R((()=>[B(U(e.$t("Site.Config.index_85")),1)])),_:1})])),table:R((()=>[b(l,{"checked-row-keys":E(d),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>T(d)?d.value=e:null),"row-key":"proxyname",loading:E(c),"max-height":440,data:E(o).data,columns:E(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[b(i,{"checked-row-keys":E(d),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>T(d)?d.value=e:null),"row-key":"proxyname",data:E(o).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),b(s,{show:E(m).show,"onUpdate:show":t[2]||(t[2]=e=>E(m).show=e),title:E(m).title,data:E(m).data,width:660,footer:!0,component:Ri},null,8,["show","title","data"]),b(s,{show:E(x).show,"onUpdate:show":t[3]||(t[3]=e=>E(x).show=e),title:E(x).title,data:E(x).data,width:580,component:Ti},null,8,["show","title","data"])])}}}),ji={class:"pt-8px"},Ni=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=C();return t({init:()=>{l.value.init()}}),(e,t)=>($(),L("div",ji,[b(ma,{ref_key:"formRef",ref:l,site:E(a)},null,8,["site"])]))}}),Di=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=C("None"),{loading:i,setLoading:n}=ne(),s=async()=>{try{n(!0);const{message:e}=await Tt({siteName:a.name});d(e)&&(l.value=u(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=ha,n=v;return $(),A(n,{class:"h-560px",show:E(i)},{default:R((()=>[b(a,{log:E(l)},null,8,["log"])])),_:1},8,["show"])}}}),Ii=S({__name:"index",setup(e,{expose:t}){const{data:a}=La(),l=C("None"),{loading:i,setLoading:n}=ne(),s=async()=>{try{n(!0);const{message:e}=await Bt({siteName:a.name});d(e)&&(l.value=u(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=ha,n=v;return $(),A(n,{class:"h-560px",show:E(i)},{default:R((()=>[b(a,{log:E(l)},null,8,["log"])])),_:1},8,["show"])}}}),Oi={class:"text-error"},Ai={class:"w-400px p-20px"},Mi={class:"mb-16px"},Hi=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),i=c(),{data:s}=La(),o=q((()=>{let e="";switch(i.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return`/www/wwwlogs/${s.name}${e}`})),r=q((()=>{const e=o.value.split("/");return e[e.length-1]})),u=()=>{ae({title:a("Site.Config.index_104"),content:`${a("Site.Config.index_105")} [${r.value}] ${a("Site.Config.index_106")}`,onConfirm:async({hide:e})=>{await jt({path:o.value}),e(),m()}})},p=C(!1),_=C(0),m=async()=>{p.value=!0,h()},h=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await Nt({path:o.value});d(e)&&(_.value=e.result,_.value>=100?(n.success(a("Site.Config.index_107")),p.value=!1,_.value=0,g(),clearTimeout(t)):h(1e3))}),e)},v=e=>{pe({title:`[${e}] ${a("Site.Config.index_103")}`,data:{type:e,path:o.value},component:va})},{table:x,columns:f}=ie([{key:"start_time",title:a("Site.Cert.index_68")},{key:"time",title:a("Site.DelSite.index_6"),render:e=>`${e.time.substring(0,4)} s`},{key:"xss",title:a("Site.TableRow.index_4"),render:e=>e.xss>0?b("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:a("Site.TableRow.index_5"),render:e=>e.sql>0?b("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:a("Site.TableRow.index_6"),render:e=>e.san>0?b("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:a("Site.TableRow.index_27"),render:e=>e.php>0?b("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:a("Site.TableRow.index_7"),render:e=>e.ip>0?b(l,{onClick:()=>{v("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:a("Site.TableRow.index_8"),render:e=>e.url>0?b(l,{onClick:()=>{v("url")}},{default:()=>[e.url]}):e.url}]),{loading:y,setLoading:w}=ne(),g=async()=>{try{w(!0);const{message:e}=await Dt({path:o.value});d(e)&&(x.data=[e])}finally{w(!1)}},S=()=>{g()};return S(),t({init:S}),(e,t)=>{const a=It,i=se,n=ee,s=re,d=Gt,o=aa;return $(),L("div",null,[b(n,null,{toolsLeft:R((()=>[b(a,{type:"primary",onClick:u},{default:R((()=>[B(U(e.$t("Site.Config.index_104")),1)])),_:1})])),table:R((()=>[b(i,{loading:E(y),"loading-num":1,data:E(x).data,columns:E(f)},null,8,["loading","data","columns"])])),_:1}),b(s,{class:"mt-16px"},{default:R((()=>[P("li",null,[B(U(e.$t("Site.Config.index_108"))+" ",1),P("span",Oi,U(e.$t("Site.Config.index_109")),1)]),P("li",null,U(e.$t("Site.Config.index_110")),1),P("li",null,U(e.$t("Site.Config.index_111")),1),P("li",null,U(e.$t("Site.Config.index_112")),1),P("li",null,[b(l,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:R((()=>[B(U(e.$t("Site.Config.index_113")),1)])),_:1}),B(" "+U(e.$t("Site.Config.index_114")),1)])])),_:1}),b(o,{show:E(p),"onUpdate:show":t[0]||(t[0]=e=>T(p)?p.value=e:null)},{default:R((()=>[P("div",Ai,[P("div",Mi,U(e.$t("Site.Config.index_115")),1),b(d,{type:"line",status:"success",height:24,percentage:E(_),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),zi=S({__name:"index",setup(e,{expose:t}){const{t:a}=k(),{config:l}=La(),i=C("access"),n=C(),s=[{key:"access",label:a("Site.Config.index_100"),component:Di},{key:"error",label:a("Site.Config.index_101"),component:Ii},{key:"security",label:a("Site.Config.index_102"),component:Hi}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",F((()=>{n.value?.init()}))}}),(e,t)=>{const a=na;return $(),A(a,{value:E(i),"onUpdate:value":t[0]||(t[0]=e=>T(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),qi={class:"cert-info"},Fi={class:"cert-label"},Ki={class:"cert-value"},Vi={class:"cert-info"},Wi={class:"cert-label"},Xi={class:"cert-value"},Gi={class:"cert-info"},Ji={class:"cert-label"},Yi={class:"cert-value"},Qi={class:"cert-info"},Zi={class:"cert-label"},en={class:"cert-value"},tn={key:0,class:"text-primary"},an={key:1,class:"text-error"},ln={class:"cert-info"},nn={class:"cert-label"},sn={class:"cert-value"},dn={class:"w-48%"},on={class:"mb-8px"},rn={class:"w-48%"},un={class:"mb-8px"},cn=S({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:a,emit:i}){const o=N((()=>s((()=>t.import("./ssl-log-legacy.js?v=1747989938512")),void 0))),r=e,u=i,{t:p}=k(),{data:_}=La(),m=de(p("SSL.index_43")),h=c(),f=C(-1),y=C(!1),w=C(!1),g=C(""),S=C("");let j="";const D=C("");let O="";const M=C({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),H=q((()=>f.value===ca.LetsEncryptDeploy?p("Site.Cert.index_65"):f.value===ca.BusinessDeploy?p("Site.Cert.index_64"):f.value===ca.TestDeploy?p("Site.Cert.index_38"):p("Site.Cert.index_37"))),z=q((()=>!!D.value)),F=q((()=>r.isRenew||f.value===ca.LetsEncryptDeploy)),V=q((()=>!1)),W=q((()=>y.value)),X=async e=>{e?(await fa({siteName:_.name}),u("refresh")):ae({title:p("Site.Cert.index_12"),content:p("Site.Cert.index_13"),onConfirm:async()=>{await xa({siteName:_.name}),u("refresh")},onPublicClose:()=>{w.value=!0}})},G=()=>{""!==S.value.trim()&&""!==D.value.trim()?S.value!==j&&j||D.value!==O&&O?ae({title:p("Site.Cert.index_10"),content:p("Site.Cert.index_11"),onConfirm:async()=>{await J()}}):J():n.error(p("Site.Cert.index_9"))},J=async()=>{const{message:e}=await _e({key:S.value,cert:D.value});d(e)&&e.hash&&(await me({hash:e.hash,domains:JSON.stringify([_.name]),append:1}),n.success(p("SSL.index_32"))),Z()},Y=async()=>{const{message:e}=await he({hash:r.info?.hash||""});d(e)&&(m.data.path=e.result,m.show=!0)},Q=async()=>{await ya({updateOf:1,siteName:_.name}),Z()},Z=()=>{u("refresh"),h.setRefresh(!0)};return K((()=>{const{info:e}=r;e&&(f.value=e.type,y.value=e.status,w.value=e.httpTohttps,S.value=e.key||"",j=e.key||"",D.value=e.csr||"",O=e.csr||"",M.value=e.cert_data,g.value=e.index)})),a({init:u("refresh")}),(e,t)=>{const a=l,i=Jt,n=Yt,s=qt,d=x,r=Qt,u=Pe,c=Mt,p=It,_=re,h=aa,f=v;return $(),A(f,{show:e.loading},{default:R((()=>[E(z)?($(),A(r,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:R((()=>[b(d,{"x-gap":12,cols:"15"},{default:R((()=>[b(i,{span:"8"},{default:R((()=>[P("div",qi,[P("div",Fi,U(e.$t("Site.Cert.index_44"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",Ki,[b(a,null,{default:R((()=>[B(U(E(H)),1)])),_:1})])])])),_:1}),b(i,{span:"7"},{default:R((()=>[P("div",Vi,[P("div",Wi,U(e.$t("Site.Cert.index_45"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",Xi,[b(n,null,{default:R((()=>[B(U(E(M).issuer),1)])),_:1})])])])),_:1}),b(i,{span:"8"},{default:R((()=>[P("div",Gi,[P("div",Ji,U(e.$t("Site.Cert.index_46"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",Yi,[b(n,null,{default:R((()=>[B(U(E(M).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),b(i,{span:"7"},{default:R((()=>[P("div",Qi,[P("div",Zi,U(e.$t("Site.Cert.index_47"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",en,[E(M).endtime>0?($(),L("span",tn,U(e.$t("Site.Cert.index_48",{date:E(M).notAfter,days:E(M).endtime})),1)):($(),L("span",an,U(e.$t("Site.Cert.index_47")),1))])])])),_:1}),b(i,{span:"8"},{default:R((()=>[P("div",ln,[P("div",nn,U(e.$t("Site.Cert.index_49"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",sn,[b(s,{value:E(w),"onUpdate:value":[t[0]||(t[0]=e=>T(w)?w.value=e:null),X],size:"small"},null,8,["value"])])])])),_:1})])),_:1})])),_:1})):I("",!0),b(c,{class:"mb-16px",size:10,justify:"space-between"},{default:R((()=>[P("div",dn,[P("div",on,U(e.$t("Site.Cert.index_50")),1),b(u,{value:E(S),"onUpdate:value":t[1]||(t[1]=e=>T(S)?S.value=e:null),rows:10},null,8,["value"])]),P("div",rn,[P("div",un,U(e.$t("Site.Cert.index_51")),1),b(u,{value:E(D),"onUpdate:value":t[2]||(t[2]=e=>T(D)?D.value=e:null),rows:10},null,8,["value"])])])),_:1}),b(c,{class:"mb-12px"},{default:R((()=>[b(p,{type:"primary",onClick:G},{default:R((()=>[B(U(E(y)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)])),_:1}),E(F)?($(),A(p,{key:0,type:"primary",onClick:Y},{default:R((()=>[B(U(e.$t("Site.Cert.index_53")),1)])),_:1})):I("",!0),E(V)?($(),A(p,{key:1},{default:R((()=>[B(U(e.$t("Site.Cert.index_54")),1)])),_:1})):I("",!0),E(W)?($(),A(p,{key:2,onClick:Q},{default:R((()=>[B(U(e.$t("Site.Cert.index_55")),1)])),_:1})):I("",!0)])),_:1}),b(_,null,{default:R((()=>[P("li",null,U(e.$t("Site.Cert.index_33")),1),P("li",null,U(e.$t("Site.Cert.index_34")),1),P("li",null,U(e.$t("Site.Cert.index_35")),1),P("li",null,U(e.$t("Site.Cert.index_36")),1)])),_:1}),b(h,{show:E(m).show,"onUpdate:show":t[3]||(t[3]=e=>E(m).show=e),title:E(m).title,data:E(m).data,width:650,"min-height":450,component:E(o)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),pn=_(cn,[["__scopeId","data-v-5a8d1fd6"]]),_n={class:"flex flex-wrap bg-#dff0d8 border-#d6e9c6 border-1px rounded-5px p-12px"},mn={class:"text-#3c763d w-100%"},hn=S({__name:"top-tips",setup(e){const{t:t}=k(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=f,i=Mt;return $(),L("div",_n,[($(),L(D,null,z(a,((e,t)=>b(i,{size:5,key:e,class:V(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:R((()=>[b(l,{name:"base-tick",size:16,color:"#ff8d00"}),P("span",mn,U(e),1)])),_:2},1032,["class"]))),64))])}}}),vn={class:"my-10px"},xn=S({__name:"table",setup(e){const a=N((()=>s((()=>t.import("./index-legacy197.js?v=1747989938512")),void 0))),l=N((()=>s((()=>t.import("./index-legacy198.js?v=1747989938512")),void 0))),i=N((()=>s((()=>t.import("./dns-verification-legacy.js?v=1747989938512")),void 0))),n=c(),o=m(),{userInfo:r}=W(o),{t:u}=k(),p=j({p:1,limit:9999}),_=de(u("SSL.Business.index_41"),{onRefresh:(e,t)=>{x.data.request=!0,x.data.uc_id=t,x.data.verify=e,x.show=!0,g()}}),h=de(u("SSL.index_44")),v=de(u("SSL.index_49"),{onRefresh:()=>{g(),n.setRefresh(!0)}}),x=de(u("SSL.Business.index_42"),{onRefresh:()=>{g()}}),{table:f,columns:y}=ie([{key:"verify_domains",title:u("Layout.Sider.mail_3"),render:e=>b("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:u("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},ba({title:u("SSL.index_54")}),{key:"order_status",title:u("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_45"),B(" ")]):"PENDING"===t.order_status&&1===t.status?b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_46"),B(" ")]):"COMPLETE"===t.order_status&&1===t.status?b("span",{class:"color-#20a53a"},[B(" "),u("SSL.Business.index_47"),B(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_48"),B(" ")]):"FAILED"===t.order_status&&1===t.status?b("span",{class:"color-error"},[B(" "),u("SSL.Business.index_49"),B(" ")]):"EXPIRED"===t.order_status&&1===t.status?b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_50"),B(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_52"),B(" ")]):void 0:b("span",{class:"color-warning"},[B(" "),u("SSL.Business.index_51"),B(" ")]):b("span",{class:"color-warning cursor-pointer",onClick:()=>w(e)},[" ",u("SSL.Business.index_44")," "])}},oe({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:u("SSL.Business.index_53"),onClick:()=>{w(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await ve({uc_id:e.order_info.uc_id});d(t)&&(x.data.uc_id=e.order_info.uc_id,x.data.verify=t.data,x.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.index_58"),onClick:async()=>{v.data.row=e,v.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:u("Public.Btn.Del"),onClick:()=>{ae({title:u("SSL.index_59"),content:u("SSL.index_60"),onConfirm:async()=>{await xe({hash:e.hash}),g()}})}}]})]),w=e=>{_.data.row=e,_.show=!0},g=async()=>{try{f.loading=!0;const{message:e}=await fe(p);d(e)&&(f.data=e.data,f.total=e.total)}finally{f.loading=!1}};return r.value.status&&g(),(e,t)=>{const n=It,s=se,d=ee,o=aa,c=da;return $(),L("div",vn,[b(c,{install:E(r).status},{desc:R((()=>[t[5]||(t[5]=P("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),b(n,{type:"primary",onClick:E(ye)},{default:R((()=>[B(U(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:R((()=>[b(d,null,{toolsLeft:R((()=>[b(n,{type:"primary",onClick:t[0]||(t[0]=e=>E(h).show=!0)},{default:R((()=>[B(U(E(u)("SSL.index_44")),1)])),_:1})])),table:R((()=>[b(s,{loading:E(f).loading,data:E(f).data,columns:E(y),"max-height":220},null,8,["loading","data","columns"])])),_:1}),b(o,{show:E(h).show,"onUpdate:show":t[1]||(t[1]=e=>E(h).show=e),title:E(h).title,data:E(h).data,"min-height":250,component:Sa},null,8,["show","title","data"]),b(o,{show:E(_).show,"onUpdate:show":t[2]||(t[2]=e=>E(_).show=e),title:E(_).title,data:E(_).data,width:650,"min-height":450,component:E(a)},null,8,["show","title","data","component"]),b(o,{show:E(v).show,"onUpdate:show":t[3]||(t[3]=e=>E(v).show=e),title:E(v).title,data:E(v).data,width:720,height:530,component:E(l)},null,8,["show","title","data","component"]),b(o,{show:E(x).show,"onUpdate:show":t[4]||(t[4]=e=>E(x).show=e),title:E(x).title,data:E(x).data,width:650,"min-height":450,component:E(i)},null,8,["show","title","data","component"])])),_:1},8,["install"])])}}}),fn={class:"text-error"},yn=_({},[["render",function(e,t){const a=l,i=re;return $(),A(i,null,{default:R((()=>[P("li",fn,U(e.$t("SSL.SiteSSL.index_1")),1),P("li",null,U(e.$t("SSL.SiteSSL.index_2")),1),P("li",null,U(e.$t("SSL.SiteSSL.index_3")),1),P("li",null,[B(U(e.$t("SSL.SiteSSL.index_4"))+" ",1),b(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:R((()=>[B(U(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})}]]),wn=S({__name:"index",setup:e=>(e,t)=>($(),L("div",null,[b(hn),b(xn),b(yn)]))}),gn={class:"cert-info"},bn={class:"cert-label"},Sn={class:"cert-value"},kn={class:"cert-info"},Cn={class:"cert-label"},$n={class:"cert-value"},Ln={class:"cert-info"},Pn={class:"cert-label"},Rn={class:"cert-value"},Un={class:"cert-info"},En={class:"cert-label"},Tn={class:"cert-value"},Bn={key:0,class:"text-primary"},jn={key:1,class:"text-error"},Nn={class:"w-48%"},Dn={class:"mb-8px"},In={class:"w-48%"},On={class:"mb-8px"},An=S({__name:"cert",emits:["update"],setup(e,{emit:a}){const l=N((()=>s((()=>t.import("./ssl-log-legacy.js?v=1747989938512")),void 0))),i=a,{t:n}=k(),{data:o}=La(),r=de(n("SSL.index_43")),u=c(),p=C(!1),_=C(1),m=C(""),h=C(""),f=j({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),y=async()=>{const{message:e}=await he({hash:f.hash});d(e)&&(r.data.path=e.result,r.show=!0)},w=async()=>{await ya({updateOf:1,siteName:o.name}),i("update"),u.setRefresh(!0)},{loading:g,setLoading:S}=ne();return(async()=>{try{S(!0);const{message:e}=await wa({siteName:o.name});d(e)&&(p.value=e.status,f.hash=e.hash,f.issuer=e.cert_data.issuer,f.notAfter=e.cert_data.notAfter,f.notBefore=e.cert_data.notBefore,f.dns=e.cert_data.dns,f.subject=e.cert_data.subject,f.endtime=e.cert_data.endtime,m.value=e.key,h.value=e.csr,_.value=e.auto_renew)}finally{S(!1)}})(),(e,t)=>{const a=Jt,i=Yt,n=x,s=Qt,d=Pe,o=Mt,u=It,c=re,p=aa,S=v;return $(),A(S,{show:E(g)},{default:R((()=>[b(s,{class:"mb-16px",type:"success","show-icon":!1},{default:R((()=>[b(n,{"x-gap":12,cols:"15"},{default:R((()=>[E(_)?($(),A(a,{key:0,span:"16"},{default:R((()=>[P("div",gn,[P("div",bn,U(e.$t("SSL.SiteSSL.index_22"))+" ",1),P("div",Sn,U(e.$t("SSL.SiteSSL.index_23")),1)])])),_:1})):I("",!0),b(a,{span:"7"},{default:R((()=>[P("div",kn,[P("div",Cn,U(e.$t("Site.Cert.index_45"))+" ",1),P("div",$n,[b(i,null,{default:R((()=>[B(U(E(f).issuer),1)])),_:1})])])])),_:1}),b(a,{span:"8"},{default:R((()=>[P("div",Ln,[P("div",Pn,U(e.$t("Site.Cert.index_46"))+" ",1),P("div",Rn,[b(i,null,{default:R((()=>[B(U(E(f).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),b(a,{span:"7"},{default:R((()=>[P("div",Un,[P("div",En,U(e.$t("Site.Cert.index_47"))+U(e.$t("Public.Punctuation.Colon")),1),P("div",Tn,[E(f).endtime>0?($(),L("span",Bn,U(e.$t("Site.Cert.index_48",{date:E(f).notAfter,days:E(f).endtime})),1)):($(),L("span",jn,U(e.$t("Site.Cert.index_47")),1))])])])),_:1})])),_:1})])),_:1}),b(o,{class:"mb-16px",size:10,justify:"space-between"},{default:R((()=>[P("div",Nn,[P("div",Dn,U(e.$t("Site.Cert.index_50")),1),b(d,{readonly:"",value:E(m),"onUpdate:value":t[0]||(t[0]=e=>T(m)?m.value=e:null),rows:14},null,8,["value"])]),P("div",In,[P("div",On,U(e.$t("Site.Cert.index_51")),1),b(d,{readonly:"",value:E(h),"onUpdate:value":t[1]||(t[1]=e=>T(h)?h.value=e:null),rows:14},null,8,["value"])])])),_:1}),b(o,{class:"mb-12px"},{default:R((()=>[b(u,{type:"primary",onClick:y},{default:R((()=>[B(U(e.$t("Site.Cert.index_53")),1)])),_:1}),b(u,{onClick:w},{default:R((()=>[B(U(e.$t("Site.Cert.index_55")),1)])),_:1})])),_:1}),b(c,null,{default:R((()=>[P("li",null,U(e.$t("SSL.SiteSSL.index_24")),1),P("li",null,U(e.$t("SSL.SiteSSL.index_25")),1)])),_:1}),b(p,{show:E(r).show,"onUpdate:show":t[2]||(t[2]=e=>E(r).show=e),title:E(r).title,data:E(r).data,width:650,"min-height":450,component:E(l)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),Mn=_(An,[["__scopeId","data-v-5f5bde40"]]),Hn={class:"flex items-center"},zn={class:"leading-17px"},qn={class:"w-full"},Fn={class:"w-full"},Kn={class:"text-error"},Vn=S({__name:"apply",emits:["update"],setup(e,{emit:t}){const a=X(),{t:l}=k(),{data:s}=La(),o=c(),r=t,u=j({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),_={domains:{required:!0,trigger:"change",type:"array",message:l("SSL.SiteSSL.index_16")}},m=C(null),h=C([]),x=e=>h.value.find((t=>t.name===e))?.auto,y=()=>{a.push("/ssl_domain/domain")},w=q((()=>u.domains.length>0&&u.domains.length<h.value.length));G((()=>u.domains),(e=>{e.length===h.value.length?u.all=!0:e.length||(u.all=!1)})),G((()=>u.all),(e=>{e?(u.domains=h.value.map((e=>e.name)),m.value?.validate()):u.domains=[]})),G((()=>u.auth_type),(e=>{"dns"===e?(u.domains=h.value.filter((e=>e.auto)).map((e=>e.name)),m.value?.validate()):u.domains=[]}));const g=q((()=>u.domains.filter((e=>!x(e))))),S=async()=>{if(await(m.value?.validate()),"dns"===u.auth_type&&g.value.length&&!u.dns_manual)return void n.error({content:()=>Q("span",{innerHTML:`${g.value.join("<br/>")}${l("SSL.SiteSSL.index_14")}`})});let e={auth_type:u.dns_manual?"dns_manual":u.auth_type,auto_wildcard:u.auto_wildcard,domains:JSON.stringify(u.domains),site_id:u.dns_manual?s.id:void 0,deploy:u.dns_manual?0:1};if(u.dns_manual){const{message:t}=await we({site_id:s.id,domains:JSON.stringify(u.domains)});if(d(t)&&Object.keys(t).length)return void ge(t.auths,s.id,(()=>{r("update"),o.setRefresh(!0)}),!0);const i=pe({width:500,height:300,hideClose:!0,component:be});try{const{message:t}=await Se(e,!1);d(t)&&(t.deploy?(n.success(t.result||l("SSL.index_32")),r("update"),o.setRefresh(!0)):Array.isArray(t.auths)&&t.auths.length&&ge(t.auths,s.id,(()=>{r("update"),o.setRefresh(!0)})))}catch(a){ke(Ot(a,"message",""))}finally{i.hide()}return}const{message:t}=await Se(e);d(t)&&pe({hideClose:!0,data:{isJump:!1,task_id:t.task_id,onFinish:()=>{r("update"),o.setRefresh(!0)}},component:ka})},{loading:T,setLoading:N}=ne();return M((()=>{(async()=>{try{N(!0);const{message:e}=await Ue({id:s.id});if(i(e)){const t=e.map((async e=>{const{message:t}=await Ce({domain:e.name});d(t)&&h.value.push({name:e.name,auto:!!t.hash})}));await Promise.all(t)}}finally{N(!1)}})()})),(e,t)=>{const a=f,l=Qt,i=Zt,n=p,s=ea,d=zt,o=Ft,r=Mt,c=Vt,k=ta,C=v,j=It,N=la,I=re;return $(),L("div",null,[J(b(l,{"show-icon":!1,class:"mb-10px"},{default:R((()=>[P("div",Hn,[b(a,{name:"base-info",size:"17",class:"mr-8px"}),P("span",zn,U(e.$t("SSL.SiteSSL.index_12")),1)])])),_:1},512),[[Y,"dns"===E(u).auth_type]]),b(N,{ref_key:"formRef",ref:m,model:E(u),rules:_,"label-width":"140"},{default:R((()=>[b(d,{label:e.$t("Config.Safe.Ssl.index_2")},{default:R((()=>[b(s,{value:E(u).auth_type,"onUpdate:value":t[0]||(t[0]=e=>E(u).auth_type=e)},{default:R((()=>[b(n,null,{default:R((()=>[b(i,{value:"http"},{default:R((()=>[B(U(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),b(i,{value:"dns"},{default:R((()=>[B(U(e.$t("SSL.index_12"))+" (Wildcard support) ",1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),J(b(d,{label:" ","show-feedback":!1},{default:R((()=>[b(o,{checked:E(u).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>E(u).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:R((()=>[B(U(e.$t("SSL.index_2")),1)])),_:1},8,["checked"])])),_:1},512),[[Y,"dns"===E(u).auth_type]]),J(b(d,{label:" "},{default:R((()=>[b(o,{checked:E(u).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>E(u).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:R((()=>[B(U(e.$t("SSL.SiteSSL.index_20")),1)])),_:1},8,["checked"])])),_:1},512),[[Y,"dns"===E(u).auth_type]]),b(d,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:R((()=>[b(C,{show:E(T),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:R((()=>[b(o,{class:"mb-12px",checked:E(u).all,"onUpdate:checked":t[3]||(t[3]=e=>E(u).all=e),label:e.$t("Public.SelectAll"),indeterminate:E(w)},null,8,["checked","label","indeterminate"]),E(h).length?($(),A(c,{key:0,value:E(u).domains,"onUpdate:value":t[4]||(t[4]=e=>E(u).domains=e)},{default:R((()=>[b(r,{class:"flex-col!",size:12},{default:R((()=>[($(!0),L(D,null,z(E(h),(e=>($(),A(o,{key:e.name,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])):($(),A(k,{key:1,description:"No domain name"}))])),_:1},8,["show"])])),_:1},8,["label"]),J(b(d,{label:" "},{default:R((()=>[b(l,{"show-icon":!1,type:E(g).length?"warning":"success"},{default:R((()=>[($(!0),L(D,null,z(E(u).domains,(t=>($(),A(r,{key:t},{default:R((()=>[x(t)?($(),A(r,{key:0,class:"flex-nowrap! py-3px"},{default:R((()=>[b(a,{name:"base-success",size:"17",color:"#20a53a"}),P("span",qn,"["+U(t)+"] "+U(e.$t("SSL.SiteSSL.index_13")),1)])),_:2},1024)):($(),A(r,{key:1,class:"flex-nowrap! py-3px"},{default:R((()=>[b(a,{name:"base-error",size:"17",color:"#E85445"}),P("span",Fn,"["+U(t)+"] "+U(e.$t("SSL.SiteSSL.index_14")),1),b(j,{type:"primary",size:"tiny",onClick:y},{default:R((()=>[B(U(e.$t("SSL.SiteSSL.index_21")),1)])),_:1})])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["type"])])),_:1},512),[[Y,"dns"===E(u).auth_type&&E(u).domains.length&&!E(u).dns_manual]]),b(d,{label:" "},{default:R((()=>[b(j,{type:"primary",onClick:S},{default:R((()=>[B(U(e.$t("Public.Btn.Apply")),1)])),_:1})])),_:1})])),_:1},8,["model"]),J(b(I,{class:"mt-16px"},{default:R((()=>[P("li",Kn,U(e.$t("SSL.SiteSSL.index_15")),1),P("li",null,U(e.$t("Site.Cert.index_21")),1),P("li",null,U(e.$t("Site.Cert.index_23")),1),P("li",null,U(e.$t("Site.Cert.index_24")),1)])),_:1},512),[[Y,"http"===E(u).auth_type]]),J(b(I,{class:"mt-24px"},{default:R((()=>[t[5]||(t[5]=P("li",null,"Manually resolved certificates do not support auto-renewal",-1)),P("li",null,U(e.$t("Site.Cert.index_25")),1),P("li",null,U(e.$t("Site.Cert.index_26")),1),P("li",null,U(e.$t("Site.Cert.index_27")),1),P("li",null,U(e.$t("Site.Cert.index_28")),1)])),_:1},512),[[Y,"dns"===E(u).auth_type]])])}}}),Wn=S({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>($(),L("div",null,[t.isOpen&&"Let's Encrypt"===t.type?($(),A(Mn,{key:0,onUpdate:a})):($(),A(Vn,{key:1}))]))}}),Xn=S({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:a}=La(),{t:l}=k(),i=j({p:1,limit:99999}),{columns:s,table:o}=ie([{key:"domain",title:l("Site.Cert.index_29"),render:e=>b("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},ba({title:l("SSL.index_54"),width:140}),{key:"issuer",title:l("Site.Cert.index_30"),ellipsis:{tooltip:!0}},oe({width:150,options:t=>[{label:l("Public.Btn.Deploy"),onClick:async()=>{try{await me({hash:t.hash,domains:JSON.stringify([a.name]),append:1}),n.success(l("SSL.index_32")),setTimeout((()=>{e.onMenuChange()}),500)}catch(i){console.log(i)}}},{show:"Let's Encrypt"===t.provider,label:l("Public.Btn.Del"),onClick:()=>{(e=>{$e({title:l("Site.Cert.index_31"),content:l("Site.Cert.index_32"),onConfirm:async()=>{await xe({hash:e.hash}),c()}})})(t)}}]})]),{loading:r,setLoading:u}=ne(!0),c=async()=>{try{u(!0);const{message:e}=await Le(i);d(e)&&(o.data=e.data)}finally{u(!1)}};return c(),t({init:c}),(e,t)=>{const a=se;return $(),L("div",null,[b(a,{loading:E(r),columns:E(s),data:E(o).data,"max-height":510},null,8,["loading","columns","data"])])}}}),Gn={class:"mr-12px"},Jn={key:0,class:"mr-12px"},Yn={key:1,class:"mr-12px"},Qn=S({__name:"index",setup(e,{expose:a}){const l=N((()=>s((()=>t.import("./ssl-log-legacy.js?v=1747989938512")),void 0))),i=c(),{data:n}=La(),{t:o}=k(),r=C("current"),u=C(""),p=de(o("SSL.index_43")),_=C(ca.NotDeploy),m=C(""),h=C(!1),v=C(0),x=C(""),f=C(!1),y=async()=>{const{message:e}=await he({hash:u.value});d(e)&&(p.data.path=e.result,p.show=!0)},w=e=>{S.value[0].data&&(S.value[0].data.loading=e)},g=async()=>{try{w(!0);const{message:a}=await ga({siteName:n.name});d(a)&&(_.value=a.type,h.value=a.status,v.value=Ot(a,"cert_data.endtime",0),x.value=a.cert_data.issuer_O,f.value=(()=>{let e=!1;return v.value<=30&&(e=!0),_.value===ca.TestDeploy&&v.value<0&&(e=!0),_.value!==ca.SaveOrHolderDeploy&&_.value!==ca.NotDeploy||(e=!1),e})(),m.value=a.cert_data.dns.join(","),u.value=a.hash,t=a,S.value[0].data&&(S.value[0].data.info=t),e=f.value,S.value[0].data&&(S.value[0].data.isRenew=e))}catch{h.value=!1,f.value=!1}finally{w(!1)}var e,t},S=C([{key:"current",label:()=>b("div",null,[b("span",null,[B("Current Certs - ")]),b("span",{class:h.value?"text-#1d9534":"text-red-500"},[B("["),h.value?"Deployed":"Not Deployed",B("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:g},component:Z(pn)},{key:"business",label:o("Site.Cert.index_64"),component:Z(wn)},{key:"let",label:o("Site.Cert.index_65"),data:{isOpen:q((()=>h.value)),type:q((()=>x.value)),onRefresh:g},component:Z(Wn)},{key:"holder",label:o("Site.Cert.index_66"),component:Z(Xn),data:{onMenuChange:()=>{r.value="current",g(),i.setRefresh(!0)}}}]);return a({init:()=>{g()}}),(e,t)=>{const a=It,i=Qt,n=na,s=aa;return $(),L("div",null,[E(h)?I("",!0):($(),A(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:R((()=>[P("span",Gn,U(e.$t("Site.Cert.index_41")),1),b(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>r.value="business")},{default:R((()=>[B(U(e.$t("Site.Cert.index_43")),1)])),_:1})])),_:1})),E(h)&&E(f)?($(),A(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:R((()=>[E(v)>0?($(),L("span",Jn,U(e.$t("SSL.SiteSSL.index_26",[E(m),E(v)])),1)):($(),L("span",Yn,U(e.$t("SSL.SiteSSL.index_19",[E(m)])),1)),b(a,{size:"tiny",type:"primary",onClick:y},{default:R((()=>[B(U(e.$t("Site.Cert.index_53")),1)])),_:1})])),_:1})):I("",!0),b(n,{value:E(r),"onUpdate:value":t[1]||(t[1]=e=>T(r)?r.value=e:null),options:E(S)},null,8,["value","options"]),b(s,{show:E(p).show,"onUpdate:show":t[2]||(t[2]=e=>E(p).show=e),title:E(p).title,data:E(p).data,width:650,"min-height":450,component:E(l)},null,8,["show","title","data","component"])])}}}),Zn={class:"h-full"},es=S({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:a}=k(),l=c(),{siteName:i}=W(l),n=N((()=>s((()=>t.import("./index-legacy251.js?v=1747989938512")),void 0))),d=e,{siteInfo:o,config:r}=d;i.value=d.siteInfo.name;const u=C();o&&w($a,{data:o,config:r});const p=C("domain"),_=[{key:"domain",label:a("Site.Config.index_1"),component:Da},{key:"subdirectory",label:a("Site.Config.index_3"),component:Aa},{key:"directory",label:a("Site.Config.index_4"),component:Za},{key:"access",label:a("Site.Config.index_5"),component:_l},{key:"traffic",label:a("Site.Config.index_6"),component:Cl},{key:"rewrite",label:a("Site.Config.index_7"),component:n},{key:"document",label:a("Site.Config.index_9"),component:Pl},{key:"config",label:a("Site.Config.index_10"),component:Ul},{key:"ssl",label:()=>b(D,null,[a("Site.Config.index_11")]),component:Qn},{key:"php",label:a("Site.Config.index_12"),component:Vl},{key:"wordpress",label:"Wordpress Setting",show:"WP"===o?.project_type,component:Yl},{key:"composer",label:a("Site.Config.index_20"),component:ri},{key:"redirect",label:a("Site.Config.index_21"),component:wi},{key:"proxy",label:a("Site.Config.index_23"),component:Bi},{key:"hotlink",label:a("Site.Config.index_24"),component:Ni},{key:"logs",label:a("Site.Config.index_25"),component:zi}];return p.value=r.menu||"domain",r.menu="",M((()=>{window.siteConfigInit=u.value.init})),(e,t)=>{const a=y;return $(),L("div",Zn,[b(a,{value:E(p),"onUpdate:value":t[0]||(t[0]=e=>T(p)?p.value=e:null),ref_key:"tabsRef",ref:u,data:_},null,8,["value"])])}}}),ts=Object.freeze(Object.defineProperty({__proto__:null,default:es},Symbol.toStringTag,{value:"Module"}));e("i",ts)}}}));
