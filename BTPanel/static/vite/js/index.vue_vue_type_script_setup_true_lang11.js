import{k as e,ab as a,ac as l,c as t,r as s,a1 as n,X as o,a2 as d,V as i,U as u,an as c,Q as p,W as r,ah as v,j as f,a3 as h,F as m,l as y,v as b}from"./vue.js?v=1752142539265";import{A as g}from"./public.js?v=1752142539265";import{f as k}from"./page_layout.js?v=1752142539265";import{bX as _,_ as x,cD as w,ay as j}from"./naive.js?v=1752142539265";const K={class:"flex justify-center w-42px"},B={class:"min-w-140px"},C={class:"ml-8px"},R=e({__name:"index",props:a({data:{default:()=>[]},rowKey:{default:"id"},options:{default:()=>[]}},{checkedRowKeys:{default:()=>[]},checkedRowKeysModifiers:{}}),emits:["update:checkedRowKeys"],setup(e){const a=e,R=l(e,"checkedRowKeys"),{rowKey:U}=a,$=k(U)?e=>e[U]:U,X=t({get:()=>R.value.length>0&&R.value.length===a.data.length,set(e){R.value=e?a.data.map((e=>$(e))):[]}}),z=t((()=>0===a.data.length)),A=t((()=>R.value.length>0&&R.value.length<a.data.length)),D=s(null),E=t((()=>a.options.map((e=>({label:e.label,value:e.key}))))),F=t((()=>0===R.value.length)),M=t((()=>F.value||null===D.value)),P=t((()=>a.data.filter((e=>R.value.includes($(e)))))),Q=()=>{var e;const{options:l}=a;for(let a of l)if(a.key===D.value)if("confirm"===a.type)g({...a.confirm,data:P.value});else null==(e=a.onBatch)||e.call(a,P.value)},V=()=>{var e;const{options:l}=a,t=l[0];if("confirm"===t.type)g({...t.confirm,data:P.value});else null==(e=t.onBatch)||e.call(t,P.value)};return(e,a)=>{const l=x,t=w,s=j,g=_;return o(),n(g,{class:"bt-table-batch items-center",size:0},{default:d((()=>[i("div",K,[p(l,{checked:r(X),"onUpdate:checked":a[0]||(a[0]=e=>v(X)?X.value=e:null),disabled:r(z),indeterminate:r(A)},null,8,["checked","disabled","indeterminate"])]),e.options.length>1?(o(),u(m,{key:0},[i("div",B,[p(t,{value:r(D),"onUpdate:value":a[1]||(a[1]=e=>v(D)?D.value=e:null),options:r(E),disabled:r(F),placeholder:e.$t("Component.Batch.index_1")},null,8,["value","options","disabled","placeholder"])]),i("div",C,[p(s,{type:r(M)?"default":"primary",disabled:r(M),onClick:Q},{default:d((()=>[f(h(e.$t("Public.Btn.Execute")),1)])),_:1},8,["type","disabled"])])],64)):c("",!0),1===e.options.length?(o(),n(s,{key:1,disabled:r(F),type:r(F)?"default":"primary",onClick:V},{default:d((()=>[i("span",null,h(e.options[0].label),1),y(i("span",null,h(e.$t("Component.Batch.index_2",[R.value.length])),513),[[b,R.value.length>0]])])),_:1},8,["disabled","type"])):c("",!0)])),_:1})}}});export{R as _};
