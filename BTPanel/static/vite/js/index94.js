import{_ as e}from"./index.js?v=1762424784323";import{e as a,_ as t}from"./public.js?v=1762424784323";import{u as s,q as l,V as n,d as i,m as o,W as p,c as r,p as m}from"./page_layout.js?v=1762424784323";import{u}from"./soft.js?v=1762424784323";import{g as _}from"./soft2.js?v=1762424784323";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1762424784323";import{da as d,dV as v,aC as f,dh as x}from"./naive.js?v=1762424784323";import{k as h,P as j,r as w,R as y,an as g,U as k,V as b,W as H,S as $,a3 as S,H as C,a4 as I,a2 as P,ak as W,j as T,m as U}from"./vue.js?v=1762424784323";import"./common.js?v=1762424784323";import"./__commonjsHelpers__.js?v=1762424784323";import"./site.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1762424784323";import"./index.vue_vue_type_script_setup_true_lang.js?v=1762424784323";import"./index100.js?v=1762424784323";import"./theme-monokai.js?v=1762424784323";import"./file.js?v=1762424784323";const V={key:0,class:"p-30px"},q=["src"],L=["title"],M={class:"font-600 mt-30px"},N=["innerHTML"],R=m(h({__name:"index",props:{name:{},callback:{},hide:{}},setup(m){const{t:h}=j(),R=s(),O=m,z=["nginx","apache","mysql","php"],A=e=>z.includes(e)||e.startsWith("php-"),B=w(),D=w(""),E=w(),F=(e,a)=>{D.value=a.ps},G=e=>U(x,{trigger:"hover",placement:"top-start"},{trigger:()=>U("span",e.label),default:()=>U("span",e.label)}),J=w(),K=async(e=1)=>{var a;if(J.value){const{message:t}=await n({sName:J.value.name,version:B.value,type:e});if(i(t)){if(t.result)return o.success(t.result),R.taskCount+=1,null==(a=O.callback)||a.call(O),O.hide(),void p();await u({name:t.name,tmp_path:t.tmp_path,title:h("Soft.index_21")},()=>{var e;null==(e=O.callback)||e.call(O)})}O.hide()}},Q=()=>{X.show=!0},X=a(h("Home.Install.index_7"),{name:O.name,callback:()=>{K(0)}});return(async()=>{const{message:e}=await r({sName:O.name},!0);i(e)&&(J.value=e,E.value=e.versions.map(a=>{const t=a.m_version+"."+a.version;return{label:5===e.type?a.m_version:t||a.m_version,value:5===e.type?a.m_version:t||a.m_version,ps:a.update_msg}}),B.value=E.value[0].value,D.value=E.value[0].ps)})(),(a,s)=>{const n=d,i=v,o=f,p=l,r=t,m=e;return k(J)?(b(),y("div",V,[H(n,{class:"justify-between! items-center"},{default:S(()=>[H(n,{class:"items-center"},{default:S(()=>[$("img",{class:"w-40px",src:k(_)(k(J).name)},null,8,q),$("div",null,[$("p",{class:C(["font-600 text-18px max-w-290px",{"max-w-190px!":A(k(J).name)}]),title:"".concat(k(J).title," ").concat(k(B))},I(k(J).title)+" "+I(k(J).title.indexOf("PHP-")>-1?"":k(B)),11,L)])]),_:1}),H(n,null,{default:S(()=>[H(i,{class:"w-100px!",value:k(B),"onUpdate:value":[s[0]||(s[0]=e=>W(B)?B.value=e:null),F],options:k(E),"consistent-menu-width":!1,"render-label":G},null,8,["value","options"]),A(k(J).name)?(b(),P(o,{key:0,onClick:Q},{default:S(()=>[T(I(a.$t("Home.Install.index_7")),1)]),_:1})):g("",!0),H(o,{type:"primary",onClick:s[1]||(s[1]=e=>K(1))},{default:S(()=>[T(I(A(k(J).name)?a.$t("Home.Install.index_5"):a.$t("Soft.index_34")),1)]),_:1})]),_:1}),H(p)]),_:1}),$("div",M,I(a.$t("Soft.index_39"))+"ï¼š",1),$("span",{class:"py-10px inline-block leading-20px text-font2",innerHTML:k(D)},null,8,N),H(r,null,{default:S(()=>[$("li",null,I(a.$t("Soft.index_35")),1),$("li",null,I(a.$t("Soft.index_36")),1),$("li",null,I(a.$t("Soft.index_37")),1)]),_:1}),H(m,{show:k(X).show,"onUpdate:show":s[2]||(s[2]=e=>k(X).show=e),title:k(X).title,data:k(X).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):g("",!0)}}}),[["__scopeId","data-v-1fde51e5"]]);export{R as default};
