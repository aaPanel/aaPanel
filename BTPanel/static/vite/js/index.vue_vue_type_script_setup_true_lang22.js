const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index278.js?v=1769066082311","js/index114.js?v=1769066082311","js/vue.js?v=1769066082311","js/__commonjsHelpers__.js?v=1769066082311","js/naive.js?v=1769066082311","js/common.js?v=1769066082311","js/page_layout.js?v=1769066082311","js/public.js?v=1769066082311","css/public.css?v=1769066082311","css/page_layout.css?v=1769066082311","css/index23.css?v=1769066082311","js/index.vue_vue_type_script_setup_true_lang23.js?v=1769066082311","js/index.vue_vue_type_script_setup_true_lang.js?v=1769066082311","js/index105.js?v=1769066082311","js/theme-monokai.js?v=1769066082311","js/file.js?v=1769066082311","css/index18.css?v=1769066082311","js/index.vue_vue_type_script_setup_true_lang11.js?v=1769066082311","js/index103.js?v=1769066082311","css/index15.css?v=1769066082311"])))=>i.map(i=>d[i]);
import{bt as e,o as a,gf as o,x as t,a as r,gg as l,gh as s}from"./page_layout.js?v=1769066082311";import{_ as i}from"./index.vue_vue_type_script_setup_true_lang.js?v=1769066082311";import{_ as m}from"./index104.js?v=1769066082311";import{d as p,u as d}from"./public.js?v=1769066082311";import{k as n,P as _,r as c,e as u,R as f,V as v,W as k,a3 as x,S as j,U as g,j as w,a4 as h,_ as b}from"./vue.js?v=1769066082311";import{dS as C,dW as D,au as y}from"./naive.js?v=1769066082311";const E={class:"p-20px"},$={class:"w-300px"},R={class:"w-300px"},U={class:"w-300px"},L=n({__name:"index",props:{row:{default:void 0},isEdit:{type:Boolean,default:!1}},setup(n,{expose:L}){const P=n,{t:S}=_(),V=e(),W=c(null),A=u({template_id:null,project_name:"",remark:""}),B={template_id:{trigger:["change"],validator:()=>null!=A.template_id||new Error(S("Docker.Compose.form.index_5"))},project_name:{trigger:["blur","input"],validator:()=>""!==A.project_name.trim()||new Error(S("Docker.Compose.form.index_6"))}},H=c([]),{loading:I,setLoading:O}=p(),T=async()=>{try{O(!0);const{message:e}=await o();t(e)&&(H.value=e.map(e=>({label:e.name,value:e.id})),A.template_id=e[0].id)}finally{O(!1)}},q=()=>{d({title:S("Docker.Compose.form.index_7"),footer:!0,width:650,minHeight:484,data:{onRefresh:()=>{T()}},component:b(()=>r(()=>import("./index278.js?v=1769066082311"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])))})};return(()=>{const{row:e,isEdit:a}=P;a&&e&&(A.template_id=e.template_id,A.project_name=e.name,A.remark=e.remark)})(),T(),L({onConfirm:async()=>{var e;await(null==(e=W.value)?void 0:e.validate());const a={template_id:A.template_id||0,project_name:A.project_name,remark:A.remark},{row:o,isEdit:t}=P;t&&o?await l({...a,project_id:o.id}):await s(a),V.setRefresh(!0)}}),(e,o)=>{const t=D,r=a,l=C,s=y,p=m,d=i;return v(),f("div",E,[k(d,{ref_key:"formRef",ref:W,model:g(A),rules:B,"label-width":"150"},{default:x(()=>[k(l,{label:e.$t("Docker.Compose.form.index_1"),path:"template_id"},{default:x(()=>[j("div",$,[k(t,{value:g(A).template_id,"onUpdate:value":o[0]||(o[0]=e=>g(A).template_id=e),loading:g(I),options:g(H)},null,8,["value","loading","options"])]),k(r,{class:"ml-8px",onClick:q},{default:x(()=>[w(h(e.$t("Docker.Compose.form.index_2")),1)]),_:1})]),_:1},8,["label"]),k(l,{label:e.$t("Docker.Compose.form.index_3"),path:"project_name"},{default:x(()=>[j("div",R,[k(s,{value:g(A).project_name,"onUpdate:value":o[1]||(o[1]=e=>g(A).project_name=e),placeholder:e.$t("Docker.Compose.form.index_3")},null,8,["value","placeholder"])])]),_:1},8,["label"]),k(l,{label:e.$t("Docker.Compose.form.index_4"),path:"remark","show-feedback":!1},{default:x(()=>[j("div",U,[k(p,{value:g(A).remark,"onUpdate:value":o[2]||(o[2]=e=>g(A).remark=e),rows:3,placeholder:e.$t("Docker.Compose.form.index_4")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"])])}}});export{L as _};
