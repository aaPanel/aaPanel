import{S as e}from"./index106.js?v=1764830988434";import{T as a,x as t,f1 as n,P as i,f2 as l,f3 as s,d as o,f4 as d,p as f,f5 as r,m as u,f6 as _,f7 as p,f8 as c,a9 as x,ao as g,_ as m,f9 as v,fa as C,fb as S,fc as b,fd as y,y as w}from"./page_layout.js?v=1764830988434";import{d as h,u as $,_ as k,a as j,i as P,c as U,h as R,f as B}from"./public.js?v=1764830988434";import{h as L,i as T,s as E,e as z}from"./alarm.js?v=1764830988434";import{S as D}from"./index108.js?v=1764830988434";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang.js?v=1764830988434";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang15.js?v=1764830988434";import{k as F,P as M,r as V,e as A,x as N,R as W,V as q,W as G,a3 as J,U as K,S as O,a2 as Q,a4 as X,j as Y,N as Z,av as ee,l as ae,v as te,ab as ne,F as ie,c as le}from"./vue.js?v=1764830988434";import{dR as se,dj as oe,aC as de,au as fe,dV as re,df as ue,dT as _e,e1 as pe}from"./naive.js?v=1764830988434";import{_ as ce,C as xe,m as ge,b as me,c as ve}from"./index105.js?v=1764830988434";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1764830988434";import{_ as Se}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1764830988434";import{_ as be}from"./index97.js?v=1764830988434";import"./common.js?v=1764830988434";import"./__commonjsHelpers__.js?v=1764830988434";import"./index.vue_vue_type_script_setup_true_lang2.js?v=1764830988434";import"./index96.js?v=1764830988434";import"./index107.js?v=1764830988434";import"./ssl-lets-progress.js?v=1764830988434";import"./index.js?v=1764830988434";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1764830988434";const ye={class:"p-20px pt-28px pb-8px"},we={class:"w-300px"},he=F({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:n,emit:i}){const l=e,s=i,{t:o}=M(),d=V(null),f=A({status:!0,method:[]}),r={method:{trigger:["change"],validator:()=>0!==f.method.length||new Error(o("Config.Safe.index_7"))}},u=N([]),{loading:_,setLoading:p}=h();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(f.status=e||a[0].status,f.method=a[0].sender)})(),(async()=>{try{p(!0);const{message:e}=await T();u.value=t(e)?e:[]}finally{p(!1)}})(),n({onConfirm:async()=>{var e;await(null==(e=d.value)?void 0:e.validate()),await L((()=>{const e=u.value.filter(e=>"panel_safe_push"===e.source)[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:f.status,count:0,interval:600,project:"",help:600},sender:f.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),s("refresh")}}),(e,t)=>{const n=oe,i=se,l=I,s=H,o=a;return q(),W("div",ye,[G(o,{show:K(_)},{default:J(()=>[G(s,{ref_key:"formRef",ref:d,model:K(f),rules:r},{default:J(()=>[G(i,{label:e.$t("Config.Safe.index_5")},{default:J(()=>[G(n,{value:K(f).status,"onUpdate:value":t[0]||(t[0]=e=>K(f).status=e)},null,8,["value"])]),_:1},8,["label"]),G(i,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:J(()=>[O("div",we,[G(l,{value:K(f).method,"onUpdate:value":t[1]||(t[1]=e=>K(f).method=e)},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show"])])}}}),$e=F({__name:"index",setup(e){const{t:a}=M(),n=V(!1),i=V([]),l=async e=>{e?s(!0):(await E({task_id:i.value[0].id,status:0}),n.value=!1,i.value[0].status=!1)},s=(e=!1)=>{$({title:a("Config.Safe.index_4"),width:480,footer:!0,confirmText:a("Public.Btn.Save"),data:{open:e,taskList:i.value,onRefresh:f},component:he})},{loading:o,setLoading:d}=h(),f=async()=>{try{d(!0);const{message:e}=await z();if(t(e)){const a=e.filter(e=>"panel_safe_push"===e.keyword);a&&a.length>0?(n.value=a[0].status,i.value=a):(n.value=!1,i.value=[])}}finally{d(!1)}};return f(),(e,a)=>{const t=oe,i=de;return q(),Q(D,{label:e.$t("Config.Safe.index_2")},{content:J(()=>[G(t,{loading:K(o),value:K(n),"onUpdate:value":l},null,8,["loading","value"]),G(i,{class:"ml-12px",size:"small",onClick:a[0]||(a[0]=e=>s())},{default:J(()=>[Y(X(e.$t("Public.Btn.Set")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_3")),1)]),_:1},8,["label"])}}}),ke={class:"p-20px"},je={class:"w-280px"},Pe={class:"w-280px"},Ue={class:"text-error"},Re=F({__name:"config",setup(e){const{t:a}=M(),t=V(null),l=A({open:"True",basic_user:"",basic_pwd:""}),s={basic_user:{trigger:["blur","input"],validator:()=>"True"!==l.open||""!==l.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==l.open||""!==l.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},o=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await n(Z(l)),i()};return(e,a)=>{const n=oe,i=se,d=fe,f=de,r=H,u=k;return q(),W("div",ke,[G(r,{ref_key:"formRef",ref:t,model:K(l),rules:s},{default:J(()=>[G(i,{label:e.$t("Config.Safe.index_54")},{default:J(()=>[G(n,{value:K(l).open,"onUpdate:value":a[0]||(a[0]=e=>K(l).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])]),_:1},8,["label"]),G(i,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:J(()=>[O("div",je,[G(d,{value:K(l).basic_user,"onUpdate:value":a[1]||(a[1]=e=>K(l).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])]),_:1},8,["label"]),G(i,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:J(()=>[O("div",Pe,[G(d,{value:K(l).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>K(l).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])]),_:1},8,["label"]),G(i,{label:" ","show-feedback":!1},{default:J(()=>[G(f,{type:"primary",onClick:o},{default:J(()=>[Y(X(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),G(u,{class:"mt-20px pl-12px"},{default:J(()=>[O("li",Ue,X(e.$t("Config.Safe.index_59")),1),O("li",null,X(e.$t("Config.Safe.index_48")),1),O("li",null,X(e.$t("Config.Safe.index_49")),1),O("li",null,X(e.$t("Config.Safe.index_50")),1),O("li",null,X(e.$t("Config.Safe.index_51")),1)]),_:1})])}}}),Be={class:"p-20px"},Le={class:"text-error"},Te={class:"flex items-center justify-between"},Ee={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},ze=F({__name:"confirm",setup(e,{expose:a}){const{t:t}=M(),n=ee("riskRef");return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),$({title:t("Config.Safe.index_53"),width:500,component:Re})}}),(e,a)=>(q(),W("div",Be,[G(ce,{class:"mb-20px"},{default:J(()=>[Y(X(e.$t("Config.Safe.index_47")),1)]),_:1}),G(xe,{class:"mb-20px"},{default:J(()=>[O("li",Le,X(e.$t("Config.Safe.index_19")),1),O("li",null,X(e.$t("Config.Safe.index_48")),1),O("li",null,X(e.$t("Config.Safe.index_49")),1),O("li",null,X(e.$t("Config.Safe.index_50")),1),O("li",null,X(e.$t("Config.Safe.index_51")),1)]),_:1}),O("div",Te,[G(ge,{ref_key:"riskRef",ref:n},{default:J(()=>[Y(X(e.$t("Config.Safe.index_29")),1)]),_:1},512),O("a",Ee,X(e.$t("Config.Safe.index_52")),1)])]))}}),De={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},He=F({__name:"index",setup(e){const{t:a}=M(),{safeConfig:t}=me(),l=async e=>{e?$({title:a("Config.Safe.index_46"),width:650,footer:!0,component:ze}):(await n({open:"False",basic_user:"",basic_pwd:""}),i())};return(e,a)=>{const n=oe;return q(),Q(D,{label:e.$t("Config.Safe.index_44")},{content:J(()=>[G(n,{value:K(t).basicAuth,"onUpdate:value":l},null,8,["value"])]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_45")),1),O("a",De,X(e.$t("Public.Btn.Help")),1)]),_:1},8,["label"])}}}),Ie={class:"p-20px"},Fe={class:"mb-20px text-20px text-center text-[var(--setting-security-google-login-bind-title)]"},Me={class:"px-36px"},Ve={class:"mb-10px text-16px text-[var(--setting-security-google-login-bind-text)]"},Ae={class:"mb-20px px-24px py-16px bg-[var(--setting-security-google-login-key-bg)] rounded-4px leading-24px text-14px text-[var(--setting-security-google-login-key-text)] font-500"},Ne={class:"text-[var(--setting-security-google-login-bind-text)]"},We={class:"text-[var(--setting-security-google-login-bind-text)]"},qe={class:"mb-20px text-16px text-[var(--setting-security-google-login-bind-text)]"},Ge={class:"bt-link",href:"",target:"_blank"},Je={class:"text-error"},Ke=f(F({__name:"config",setup(e){const t=A({key:"--",username:"--"}),n=V(""),{loading:i,setLoading:f}=h();return(async()=>{const{message:e}=await s();o(e)&&(t.key=e.key,t.username=e.username)})(),(async()=>{try{f(!0);const{message:e}=await d({act:1});o(e)&&(n.value=e.result)}finally{f(!1)}})(),(e,s)=>{const o=l,d=a,f=k;return q(),W("div",Ie,[O("div",Fe,X(e.$t("Config.Safe.index_70")),1),O("div",Me,[O("div",Ve,X(e.$t("Config.Safe.index_71")),1),O("div",Ae,[O("div",null,[Y(X(e.$t("Config.Safe.index_72"))+" ",1),O("span",Ne,X(K(t).username),1)]),O("div",null,[Y(X(e.$t("Config.Safe.index_73"))+" ",1),O("span",We,X(K(t).key),1)]),O("div",null,[Y(X(e.$t("Config.Safe.index_74"))+" ",1),s[0]||(s[0]=O("span",{class:"text-[var(--setting-security-google-login-bind-text)]"},"Time based",-1))])]),O("div",qe,X(e.$t("Config.Safe.index_75")),1),G(d,{class:"flex justify-center h-150px",show:K(i)},{default:J(()=>[ae(G(o,{value:K(n),size:150,padding:0},null,8,["value"]),[[te,K(n)]])]),_:1},8,["show"]),G(f,null,{default:J(()=>[O("li",null,[Y(X(e.$t("Config.Safe.index_76"))+" ",1),O("a",Ge,X(e.$t("Config.Safe.index_77")),1)]),O("li",Je,X(e.$t("Config.Safe.index_78")),1)]),_:1})])])}}}),[["__scopeId","data-v-6dc5521d"]]),Oe={class:"p-20px"},Qe={class:"text-error"},Xe={class:"text-error"},Ye={class:"flex items-center justify-between"},Ze={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},ea=F({__name:"confirm",setup(e,{expose:a}){const{t:t}=M(),{safeConfig:n}=me(),i=ee("riskRef");return a({onConfirm:async()=>{var e;await(null==(e=i.value)?void 0:e.validate());const{message:a}=await r({act:1});n.value.dynamicPwd=!0,$({title:t("Config.Safe.index_62"),width:600,component:Ke}),o(a)&&u.success(a.result)}}),(e,a)=>(q(),W("div",Oe,[G(ce,{class:"mb-20px"},{default:J(()=>[Y(X(e.$t("Config.Safe.index_47")),1)]),_:1}),G(xe,{class:"mb-20px"},{default:J(()=>[O("li",Qe,X(e.$t("Config.Safe.index_19")),1),O("li",Xe,X(e.$t("Config.Safe.index_69")),1),O("li",null,X(e.$t("Config.Safe.index_66")),1),O("li",null,X(e.$t("Config.Safe.index_67")),1)]),_:1}),O("div",Ye,[G(ge,{ref_key:"riskRef",ref:i},{default:J(()=>[Y(X(e.$t("Config.Safe.index_68")),1)]),_:1},512),O("a",Ze,X(e.$t("Config.Safe.index_168")),1)])]))}}),aa={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},ta=F({__name:"index",setup(e){const{t:a}=M(),{safeConfig:t}=me(),n=async e=>{e?i():(await r({act:0},!0),t.value.dynamicPwd=!1)},i=()=>{t.value.dynamicPwd?$({title:a("Config.Safe.index_62"),width:600,component:Ke}):$({title:a("Config.Safe.index_63"),width:670,footer:!0,component:ea})};return(e,a)=>{const l=oe,s=de;return q(),Q(D,{label:e.$t("Config.Safe.index_60")},{content:J(()=>[G(l,{value:K(t).dynamicPwd,"onUpdate:value":n},null,8,["value"]),G(s,{class:"ml-12px",size:"small",onClick:i},{default:J(()=>[Y(X(e.$t("Public.Btn.Set")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_61")),1),O("a",aa,X(e.$t("Public.Btn.Help")),1)]),_:1},8,["label"])}}}),na={class:"text-error"},ia=F({__name:"index",setup(e){const{t:a}=M(),{safeConfig:t}=me(),n=async e=>{j({title:a("Config.Safe.index_82",[a(e?"Config.Safe.index_83":"Config.Safe.index_84")]),width:440,content:()=>e?G(ne,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>G("span",{class:"text-error"},[a("Config.Safe.index_86")])}):G(ie,null,[a("Config.Safe.index_87")]),onConfirm:async()=>{await _(),t.value.pwdComplexity=e}})};return(e,a)=>{const i=oe;return q(),Q(D,{label:e.$t("Config.Safe.index_79")},{content:J(()=>[G(i,{value:K(t).pwdComplexity,"onUpdate:value":n},null,8,["value"])]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_80")),1),O("span",na,X(e.$t("Config.Safe.index_81")),1)]),_:1},8,["label"])}}}),la={class:"w-260px"},sa={class:"text-error"},oa=F({__name:"index",setup(e){const{safeConfig:a}=me(),{saveConfig:t}=ve(),{t:n}=M(),l=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,l=a.value.limitIp.split(",").join("-").split("-"),s=!0;if(l.length)for(let a=0;a<l.length;a++)0==e.test(l[a])&&(s=!1);if(!s&&a.value.limitIp.length>0)return u.error(n("Config.Safe.index_95"));await t(),i()};return(e,t)=>{const n=fe,i=de;return q(),Q(D,{label:e.$t("Config.Safe.index_91")},{content:J(()=>[O("div",la,[G(n,{value:K(a).limitIp,"onUpdate:value":t[0]||(t[0]=e=>K(a).limitIp=e),placeholder:e.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),G(i,{class:"ml-12px",type:"primary",onClick:l},{default:J(()=>[Y(X(e.$t("Public.Btn.Save")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_93")),1),O("span",sa,X(e.$t("Config.Safe.index_94")),1)]),_:1},8,["label"])}}}),da={class:"px-20px py-24px"},fa={class:"w-200px"},ra={class:"text-error"},ua=F({__name:"set",setup(e,{expose:a}){const{t:t}=M(),{safeConfig:n}=me(),i=ee("formRef"),l=A({status_code:n.value.statusCode}),s={},o=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await p({status_code:l.status_code}),n.value.statusCode=l.status_code}}),(e,a)=>{const t=re,n=se,d=H,f=k;return q(),W("div",da,[G(d,{ref_key:"formRef",ref:i,model:K(l),rules:s},{default:J(()=>[G(n,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:J(()=>[O("div",fa,[G(t,{value:K(l).status_code,"onUpdate:value":a[0]||(a[0]=e=>K(l).status_code=e),options:o},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),G(f,null,{default:J(()=>[O("li",ra,X(e.$t("Config.Safe.index_119")),1)]),_:1})])}}}),_a={class:"w-260px"},pa=F({__name:"index",setup(e){const{t:a}=M(),{safeConfig:t}=me(),n=new Map([[403,a("Config.Safe.index_111")],[404,a("Config.Safe.index_112")],[416,a("Config.Safe.index_113")],[408,a("Config.Safe.index_114")],[400,a("Config.Safe.index_115")],[401,a("Config.Safe.index_116")]]),i=le(()=>n.get(t.value.statusCode)||"--"),l=async()=>{$({title:a("Config.Safe.index_117"),width:420,footer:!0,component:ua})};return(e,a)=>{const t=fe,n=de;return q(),Q(D,{label:e.$t("Config.Safe.index_109")},{content:J(()=>[O("div",_a,[G(t,{value:K(i),disabled:!0,placeholder:""},null,8,["value"])]),G(n,{class:"ml-12px",type:"primary",onClick:l},{default:J(()=>[Y(X(e.$t("Public.Btn.Set")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_110")),1)]),_:1},8,["label"])}}}),ca={class:"px-20px py-24px"},xa={class:"w-120px"},ga={class:"text-error"},ma=F({__name:"set",setup(e,{expose:a}){const{t:t}=M(),{safeConfig:n,getPasswordStatus:i}=me(),l=V(null),s=A({day:n.value.pwdSetDay}),o={day:{trigger:["blur","input"],validator:()=>s.day<0?new Error(t("Config.Safe.index_128")):!(!s.day&&0!==s.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=l.value)?void 0:e.validate()),await c({expire:s.day}),i()}}),(e,a)=>{const t=ue,n=se,i=H,d=k;return q(),W("div",ca,[G(i,{ref_key:"formRef",ref:l,model:K(s),rules:o},{default:J(()=>[G(n,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:J(()=>[O("div",xa,[G(t,{value:K(s).day,"onUpdate:value":a[0]||(a[0]=e=>K(s).day=e),min:0,"show-button":!1,placeholder:""},{suffix:J(()=>[Y(X(e.$t("Public.Unit.Day",K(s).day)),1)]),_:1},8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),G(d,{class:"mt-4px"},{default:J(()=>[O("li",ga,X(e.$t("Config.Safe.index_126")),1),O("li",null,X(e.$t("Config.Safe.index_127")),1)]),_:1})])}}}),va={class:"w-260px"},Ca=F({__name:"index",setup(e){const{t:a}=M(),{safeConfig:t}=me(),n=le(()=>{const{pwdSetDay:e,pwdExpireDay:n,pwdExpireTime:i}=t.value;return 0===e?a("Config.Safe.index_122"):a("Config.Safe.index_123",[x(i),n])}),i=async()=>{$({title:a("Config.Safe.index_124"),width:360,footer:!0,component:ma})};return(e,a)=>{const t=fe,l=de;return q(),Q(D,{label:e.$t("Config.Safe.index_120")},{content:J(()=>[O("div",va,[G(t,{value:K(n),disabled:!0,placeholder:""},null,8,["value"])]),G(l,{class:"ml-12px",type:"primary",onClick:i},{default:J(()=>[Y(X(e.$t("Public.Btn.Set")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_121")),1)]),_:1},8,["label"])}}}),Sa={class:"p-20px"},ba={class:"mb-12px"},ya={class:"mb-12px"},wa={class:"mb-20px"},ha=F({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{P(a.address)};return(e,a)=>{const n=be,i=de,l=k;return q(),W("div",Sa,[O("div",ba,X(e.$t("Config.Safe.index_147")),1),O("div",ya,[G(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),O("div",wa,[G(i,{type:"primary",onClick:t},{default:J(()=>[Y(X(e.$t("Public.Btn.Copy")),1)]),_:1})]),G(l,null,{default:J(()=>[O("li",null,X(e.$t("Config.Safe.index_148")),1),O("li",null,X(e.$t("Config.Safe.index_149")),1),O("li",null,X(e.$t("Config.Safe.index_150")),1)]),_:1})])}}}),$a={class:"p-20px pt-28px pb-8px"},ka={class:"flex mb-24px"},ja={class:"min-w-32px"},Pa={class:"flex-1 ml-16px"},Ua={class:"leading-24px text-error text-14px"},Ra={class:"w-160px"},Ba=F({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const n=t,{t:i}=M(),l=g(),s=V(null),d=A({type:3,day:1}),f={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},r=e=>e%1==0,_=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);$({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:ha})};return a({onConfirm:async()=>{var e;await(null==(e=s.value)?void 0:e.validate());const{message:a}=await v({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});o(a)&&(_(a.token),u.success(a.msg),n("refresh"))}}),(e,a)=>{const t=m,n=pe,i=_e,o=se,u=ue,_=H;return q(),W("div",$a,[O("div",ka,[O("div",ja,[G(t,{name:"base-warning",size:"32",color:K(l).warningColor},null,8,["color"])]),O("div",Pa,[O("div",Ua,[O("div",null,X(e.$t("Config.Safe.index_140")),1),O("div",null,X(e.$t("Config.Safe.index_141")),1)])])]),G(_,{ref_key:"formRef",ref:s,model:K(d),rules:f,"label-width":"140"},{default:J(()=>[G(o,{label:e.$t("Config.Safe.index_142")},{default:J(()=>[G(i,{value:K(d).type,"onUpdate:value":a[0]||(a[0]=e=>K(d).type=e)},{default:J(()=>[G(n,{value:3},{default:J(()=>[Y("3 "+X(e.$t("Public.Unit.Hour",3)),1)]),_:1}),G(n,{value:6},{default:J(()=>[Y("6 "+X(e.$t("Public.Unit.Hour",6)),1)]),_:1}),G(n,{value:9},{default:J(()=>[Y("9 "+X(e.$t("Public.Unit.Hour",9)),1)]),_:1}),G(n,{value:12},{default:J(()=>[Y("12 "+X(e.$t("Public.Unit.Hour",12)),1)]),_:1}),G(n,{value:0},{default:J(()=>[Y(X(e.$t("Config.Safe.index_143")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),ae(G(o,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:J(()=>[O("div",Ra,[G(u,{value:K(d).day,"onUpdate:value":a[1]||(a[1]=e=>K(d).day=e),min:1,"show-button":!1,validator:r},{suffix:J(()=>[Y(X(e.$t("Public.Unit.Day",K(d).day)),1)]),_:1},8,["value"])])]),_:1},8,["label"]),[[te,0===K(d).type]])]),_:1},8,["model"])])}}}),La={class:"p-20px h-500px"},Ta=F({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:n}=M(),{table:i,columns:l,setLoading:s}=U([{key:"type",title:n("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:n("Config.Safe.index_152"),width:140},{key:"log",title:n("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),o=async()=>{try{s(!0);const{message:e}=await C({id:a.id});i.data=t(e)?e:[]}finally{s(!1)}};return o(),(e,a)=>{const t=de,n=R,s=Ce;return q(),W("div",La,[G(s,null,{toolsLeft:J(()=>[G(t,{onClick:o},{default:J(()=>[Y(X(e.$t("Public.Btn.Refresh")),1)]),_:1})]),table:J(()=>[G(n,{"max-height":360,loading:K(i).loading,data:K(i).data,columns:K(l)},null,8,["loading","data","columns"])]),_:1})])}}}),Ea={class:"h-500px p-20px"},za=F({__name:"set",setup(e){const{t:a}=M(),n=()=>{$({title:a("Config.Safe.index_146"),width:580,footer:!0,component:Ba,data:{onRefresh:()=>{_()}}})},{table:i,columns:l,setLoading:s}=U([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?G("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):G("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):x(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>x(e.expire)},B({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{f(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{d(e)}},{label:a("Public.Btn.Del"),onClick:()=>{r(e)}}]})]),d=e=>{$({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Ta})},f=e=>{j({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await S({id:e.id}),_()}})},r=e=>{j({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await b({id:e.id}),_()}})},u=A({p:1,rows:10}),_=async()=>{try{s(!0);const{message:e}=await y(Z(u));o(e)&&(i.data=t(e.data)?e.data:[],i.total=w(e.page))}finally{s(!1)}};return _(),(e,a)=>{const t=de,s=R,o=Se,d=Ce;return q(),W("div",Ea,[G(d,null,{toolsLeft:J(()=>[G(t,{type:"primary",onClick:n},{default:J(()=>[Y(X(e.$t("Config.Safe.index_146")),1)]),_:1})]),table:J(()=>[G(s,{"max-height":340,loading:K(i).loading,data:K(i).data,columns:K(l)},null,8,["loading","data","columns"])]),pageRight:J(()=>[G(o,{page:K(u).p,"onUpdate:page":a[0]||(a[0]=e=>K(u).p=e),"page-size":K(u).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>K(u).rows=e),"item-count":K(i).total,onRefresh:_},null,8,["page","page-size","item-count"])]),_:1})])}}}),Da=F({__name:"index",setup(e){const{t:a}=M(),t=()=>{$({title:a("Config.Safe.index_139"),width:740,component:za})};return(e,a)=>{const n=de;return q(),Q(D,{label:e.$t("Config.Safe.index_137")},{content:J(()=>[G(n,{type:"primary",onClick:t},{default:J(()=>[Y(X(e.$t("Public.Btn.Set")),1)]),_:1})]),desc:J(()=>[O("span",null,X(e.$t("Config.Safe.index_138")),1)]),_:1},8,["label"])}}}),Ha=F({__name:"index",setup:a=>(a,t)=>(q(),W("div",null,[G(e,{class:"mb-16px"},{default:J(()=>[Y(X(a.$t("Config.Safe.index_1")),1)]),_:1}),G($e),G(He),G(ta),G(ia),G(oa),G(pa),G(Ca),G(Da)]))});export{Ha as default};
