System.register(["./page_layout-legacy.js?v=1763625242172","./index-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1763625242172","./public-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1763625242172","./index-legacy131.js?v=1763625242172","./hooks-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1763625242172","./index-legacy132.js?v=1763625242172","./soft-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172"],(function(e,a){"use strict";var t,n,l,s,i,d,o,c,u,p,r,_,y,g,b,m,h,k,x,f,w,v,j,D,C,R,U,$,q,B,S,P,W,z,L,A,I,K,O,H,N,V,X,E,F,G,J,M,Q,T,Y,Z,ee,ae,te;return{setters:[e=>{t=e.i,n=e.o,l=e.bn,s=e.bq,i=e.br,d=e.bu,o=e.c,c=e.x,u=e.y,p=e.bt,r=e.a,_=e.q},e=>{y=e._},e=>{g=e._},e=>{b=e._},e=>{m=e._},e=>{h=e.s,k=e.e,x=e.c,f=e.v,w=e.f,v=e.a,j=e.d,D=e.w,C=e.h},e=>{R=e._},e=>{U=e.a,$=e.b,q=e.c,B=e.u,S=e.h,P=e.d,W=e._,z=e.e,L=e.f,A=e.g},e=>{I=e.g},e=>{K=e.X,O=e.j,H=e.u,N=e.k,V=e.P,X=e.e,E=e.w,F=e.R,G=e.a2,J=e.a3,M=e.V,Q=e.N,T=e.U,Y=e.a4,Z=e.aj,ee=e._},e=>{ae=e.aC,te=e.dS},null,null,null,null,null,null],execute:function(){const{t:ne}=t.global;function le(){return{key:"password",title:ne("Database.index_14"),minWidth:150,render:e=>K(h,{value:e.password},null)}}function se(){return{key:"backup_count",title:ne("Database.index_16"),width:"12%",render:e=>{let a;return K("div",{class:"flex items-center"},[K(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{U(e)}},{default:()=>[e.backup_count>0?`${ne("Database.mongo.index_7")}(${e.backup_count})`:ne("Database.index_18")]}),K("span",{class:"mx-4px"},[O("|")]),K(n,{onClick:()=>{$(e,"pgsql")}},(t=a=ne("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!H(t)?a:{default:()=>[a]}))]);var t}}}function ie(){return{key:"sid",title:ne("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>I(e)}}const de={class:"p-16px"};e("default",N({__name:"index",setup(e){const t=ee((()=>r((()=>a.import("./index-legacy159.js?v=1763625242172")),void 0))),{t:n}=V(),h=l(),U=k(),$=()=>{U.show=!0},I=()=>{L()},H=()=>{A()},N=async()=>{await s(h.type,{ids:[]}),ye()},ne=X({p:1,limit:10,sid:-1,search:""}),{keys:oe,table:ce,columns:ue}=x([{type:"selection",width:40},{key:"name",title:n("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:n("Database.index_13"),width:"12%",minWidth:120},le(),se(),ie(),f({onBlur:async(e,a)=>{await p({id:a.id,ps:e})}}),w({width:220,options:e=>[{label:"Adminer",show:0===e.db_type,onClick:()=>{ge(e)}},{label:"Password",onClick:()=>{B(e)}},{label:n("Public.Btn.Del"),onClick:()=>{q([e])}}]})]),pe=[{key:"sync",label:n("Database.index_24"),onBatch:e=>{v({title:n("Database.index_25"),content:n("Database.index_26"),onConfirm:async({hide:a})=>{await s(h.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:n("Database.index_27"),confirm:{title:n("Database.index_28"),desc:n("Database.index_29"),api:e=>i(h.type,{id:e.id},!1),done:()=>{ye()},columns:[{key:"name",title:n("Database.index_12")}]}},{key:"delete",label:n("Database.index_30"),onBatch:e=>{q(e)}}],{loading:re,setLoading:_e}=j(),ye=async()=>{try{_e(!0);const{message:e}=await d(h.type,(()=>{const e={...Q(ne)};return-1===e.sid&&delete e.sid,e})());o(e)?(ce.data=c(e.data)?e.data:[],ce.total=u(e.page)):(ce.data=[],ce.total=0)}finally{oe.value=[],_e(!1)}};E((()=>h.isRefresh),(e=>{e&&(h.setRefresh(!1),h.delRemoteId===ne.sid&&(ne.sid=-1),ye())}));const ge=e=>{S(e?{type:"pgsql",username:e.username,password:e.password,db:e.name}:{type:"pgsql"})};return(async()=>{await h.getRemote(),h.install?ye():D()})(),(e,a)=>{const n=ae,l=_,s=R,i=C,d=m,o=b,c=g,u=y,p=te;return F(),G(M(z),null,{default:J((()=>[K(p,null,{default:J((()=>[T("div",de,[K(c,{feedback:!0},{toolsLeft:J((()=>[K(n,{type:"primary",onClick:$},{default:J((()=>[O(Y(e.$t("Database.index_1")),1)])),_:1}),K(n,{onClick:I},{default:J((()=>[O(Y(e.$t("Database.index_2")),1)])),_:1}),K(n,{onClick:a[0]||(a[0]=e=>ge())},{default:J((()=>a[8]||(a[8]=[O(" Adminer ")]))),_:1,__:[8]}),K(n,{onClick:H},{default:J((()=>[O(Y(e.$t("Database.index_4")),1)])),_:1}),K(l,{class:"mx-0!",vertical:""}),K(n,{onClick:N},{default:J((()=>[O(Y(e.$t("Database.index_5")),1)])),_:1}),K(n,{onClick:M(P)},{default:J((()=>[O(Y(e.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:J((()=>[K(M(W),{value:M(ne).sid,"onUpdate:value":a[1]||(a[1]=e=>M(ne).sid=e),"store-key":"database-pgsql-page",onChange:ye},null,8,["value"]),K(s,{value:M(ne).search,"onUpdate:value":a[2]||(a[2]=e=>M(ne).search=e),placeholder:"Database search",onSearch:ye},null,8,["value"])])),table:J((()=>[K(i,{"checked-row-keys":M(oe),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>Z(oe)?oe.value=e:null),loading:M(re),data:M(ce).data,columns:M(ue)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:J((()=>[K(d,{"checked-row-keys":M(oe),"onUpdate:checkedRowKeys":a[4]||(a[4]=e=>Z(oe)?oe.value=e:null),data:M(ce).data,options:pe},null,8,["checked-row-keys","data"])])),pageRight:J((()=>[K(o,{page:M(ne).p,"onUpdate:page":a[5]||(a[5]=e=>M(ne).p=e),"page-size":M(ne).limit,"onUpdate:pageSize":a[6]||(a[6]=e=>M(ne).limit=e),"store-key":"database-pgsql-page","item-count":M(ce).total,onRefresh:ye},null,8,["page","page-size","item-count"])])),_:1}),K(u,{show:M(U).show,"onUpdate:show":a[7]||(a[7]=e=>M(U).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:M(t)},null,8,["show","title","component"])])])),_:1})])),_:1})}}}))}}}));
