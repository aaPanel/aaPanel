System.register(["./page_layout-legacy.js?v=1752142539265","./index-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1752142539265","./public-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1752142539265","./index-legacy126.js?v=1752142539265","./hooks-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265","./index-legacy127.js?v=1752142539265","./soft-legacy.js?v=1752142539265"],(function(e,a){"use strict";var t,n,l,s,i,o,d,c,u,p,_,r,y,g,b,h,m,k,x,f,w,v,D,j,C,R,$,U,B,W,P,S,q,z,L,I,K,O,A,H,N,Q,V,X,E,F,G,J,M,T,Y,Z,ee,ae;return{setters:[e=>{t=e.i,n=e.o,l=e.b0,s=e.b3,i=e.b4,o=e.b7,d=e.d,c=e.w,u=e.x,p=e.p,_=e.a,r=e.b6},e=>{y=e._},e=>{g=e._},e=>{b=e._},e=>{h=e._},e=>{m=e.t,k=e.e,x=e.b,f=e.w,w=e.h,v=e.d,D=e.c,j=e.f,C=e.x},e=>{R=e._},e=>{$=e.u,U=e.a,B=e.b,W=e.c,P=e._,S=e.d,q=e.e,z=e.f,L=e.g},e=>{I=e.g},e=>{K=e.Q,O=e.j,A=e.u,H=e.k,N=e.P,Q=e.e,V=e.w,X=e.a1,E=e.X,F=e.a2,G=e.V,J=e.W,M=e.ah,T=e.a3,Y=e._,Z=e.N},e=>{ee=e.cA,ae=e.ay},null,null,null,null,null],execute:function(){const{t:te}=t.global;function ne(){return{key:"password",title:te("Database.index_14"),minWidth:150,render:e=>K(m,{value:e.password},null)}}function le(){return{key:"backup_count",title:te("Database.index_16"),width:"12%",render:e=>{let a;return K("div",{class:"flex items-center"},[K(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{$(e)}},{default:()=>[e.backup_count>0?`${te("Database.mongo.index_7")}(${e.backup_count})`:te("Database.index_18")]}),K("span",{class:"mx-4px"},[O("|")]),K(n,{onClick:()=>{U(e,"pgsql")}},(t=a=te("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!A(t)?a:{default:()=>[a]}))]);var t}}}function se(){return{key:"sid",title:te("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>I(e)}}const ie={class:"p-16px"};e("default",H({__name:"index",setup(e){const t=Y((()=>_((()=>a.import("./index-legacy133.js?v=1752142539265")),void 0))),{t:n}=N(),m=l(),$=k(),U=()=>{$.show=!0},I=()=>{z()},A=()=>{L()},H=async()=>{await i(m.type,{ids:[]}),re()},te=Q({p:1,limit:10,sid:-1,search:""}),{keys:oe,table:de,columns:ce}=x([{type:"selection",width:40},{key:"name",title:n("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:n("Database.index_13"),width:"12%",minWidth:120},ne(),le(),se(),f({onBlur:async(e,a)=>{await r({id:a.id,ps:e})}}),w({width:100,options:e=>[{label:"Password",onClick:()=>{B(e)}},{label:n("Public.Btn.Del"),onClick:()=>{W([e])}}]})]),ue=[{key:"sync",label:n("Database.index_24"),onBatch:e=>{v({title:n("Database.index_25"),content:n("Database.index_26"),onConfirm:async({hide:a})=>{await i(m.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:n("Database.index_27"),confirm:{title:n("Database.index_28"),desc:n("Database.index_29"),api:e=>s(m.type,{id:e.id},!1),done:()=>{re()},columns:[{key:"name",title:n("Database.index_12")}]}},{key:"delete",label:n("Database.index_30"),onBatch:e=>{W(e)}}],{loading:pe,setLoading:_e}=D(),re=async()=>{try{_e(!0);const{message:e}=await o(m.type,(()=>{const e={...Z(te)};return-1===e.sid&&delete e.sid,e})());d(e)?(de.data=c(e.data)?e.data:[],de.total=u(e.page)):(de.data=[],de.total=0)}finally{oe.value=[],_e(!1)}};return V((()=>m.isRefresh),(e=>{e&&(m.setRefresh(!1),m.delRemoteId===te.sid&&(te.sid=-1),re())})),(async()=>{await m.getRemote(),m.install?re():C()})(),(e,a)=>{const n=ae,l=p,s=R,i=j,o=h,d=b,c=g,u=y,_=ee;return E(),X(J(q),null,{default:F((()=>[K(_,null,{default:F((()=>[G("div",ie,[K(c,null,{toolsLeft:F((()=>[K(n,{type:"primary",onClick:U},{default:F((()=>[O(T(e.$t("Database.index_1")),1)])),_:1}),K(n,{onClick:I},{default:F((()=>[O(T(e.$t("Database.index_2")),1)])),_:1}),K(n,{onClick:A},{default:F((()=>[O(T(e.$t("Database.index_4")),1)])),_:1}),K(l,{class:"mx-0!",vertical:""}),K(n,{onClick:H},{default:F((()=>[O(T(e.$t("Database.index_5")),1)])),_:1}),K(n,{onClick:J(S)},{default:F((()=>[O(T(e.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:F((()=>[K(J(P),{value:J(te).sid,"onUpdate:value":a[0]||(a[0]=e=>J(te).sid=e),"store-key":"database-pgsql-page",onChange:re},null,8,["value"]),K(s,{value:J(te).search,"onUpdate:value":a[1]||(a[1]=e=>J(te).search=e),placeholder:"Database search",onSearch:re},null,8,["value"])])),table:F((()=>[K(i,{"checked-row-keys":J(oe),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>M(oe)?oe.value=e:null),loading:J(pe),data:J(de).data,columns:J(ce)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:F((()=>[K(o,{"checked-row-keys":J(oe),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>M(oe)?oe.value=e:null),data:J(de).data,options:ue},null,8,["checked-row-keys","data"])])),pageRight:F((()=>[K(d,{page:J(te).p,"onUpdate:page":a[4]||(a[4]=e=>J(te).p=e),"page-size":J(te).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>J(te).limit=e),"store-key":"database-pgsql-page","item-count":J(de).total,onRefresh:re},null,8,["page","page-size","item-count"])])),_:1}),K(u,{show:J($).show,"onUpdate:show":a[6]||(a[6]=e=>J($).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:J(t)},null,8,["show","title","component"])])])),_:1})])),_:1})}}}))}}}));
