import{k as e,ad as s,ae as a,a2 as t,V as l,H as n,a3 as o,R as i,q as r,F as d,O as c,an as u,ay as p,a7 as m,s as f,W as v,j as _,a4 as S,S as y,P as g,r as h,e as x,U as b,a0 as k,ak as w}from"./vue.js?v=1764830988434";import{dP as N,dQ as P,dc as D,da as C,dd as L,dS as j,dR as $,au as Q,aC as R}from"./naive.js?v=1764830988434";import{p as z,q as M,T as U,eJ as q,cM as I,d as A,cQ as B,eK as E}from"./page_layout.js?v=1764830988434";import{_ as H,d as O,a as T}from"./public.js?v=1764830988434";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang.js?v=1764830988434";import{f as F}from"./utils4.js?v=1764830988434";import"./__commonjsHelpers__.js?v=1764830988434";import"./common.js?v=1764830988434";import"./soft.js?v=1764830988434";import"./site.js?v=1764830988434";const J=z(e({__name:"index",props:s({data:{default:()=>[]},isEllipsis:{type:Boolean,default:!1},isIcon:{type:Boolean,default:!1},panePadding:{default:"16px"}},{value:{},valueModifiers:{}}),emits:s(["click-self"],["update:value"]),setup(e,{expose:s,emit:y}){const g=y,h=a(e,"value"),x={},b=()=>{var e,s;h.value&&(null==(s=null==(e=x[h.value])?void 0:e.init)||s.call(e))};return s({init:b}),(e,s)=>{const a=D,y=P,k=N;return l(),t(k,{value:h.value,"onUpdate:value":s[0]||(s[0]=e=>h.value=e),class:n(["bt-tabs-modal",{"is-icon":e.isIcon}]),type:"card",placement:"left","pane-style":{padding:e.panePadding}},{default:o(()=>[(l(!0),i(d,null,c(e.data,s=>(l(),i(d,null,[!1!==s.show?(l(),t(y,{key:s.key,name:s.key,tab:s.label,"display-directive":s.isLazy?"show:lazy":"if","tab-props":{onClick:e=>{s.key===h.value&&(b(),g("click-self"))}}},p({default:o(()=>[s.component?(l(),t(m(s.component),f({key:0,ref_for:!0,ref:e=>((e,s)=>{x[s]=e})(e,s.key)},{ref_for:!0},{...s.data?s.data:{}}),null,16)):u("",!0)]),_:2},[e.isEllipsis?{name:"tab",fn:o(()=>[v(a,null,{default:o(()=>[_(S(s.label),1)]),_:2},1024)]),key:"0"}:void 0]),1032,["name","tab","display-directive","tab-props"])):u("",!0)],64))),256)),r(e.$slots,"default",{},void 0,!0)]),_:3},8,["value","class","pane-style"])}}}),[["__scopeId","data-v-bde98ad3"]]),K={class:"section-box"},V={class:"card"},W={class:"kv"};const G=z({},[["render",function(e,s){const a=M,t=L,n=C,r=j,d=H;return l(),i("div",null,[v(r,{title:"Configure DNS server"},{default:o(()=>[v(a),s[6]||(s[6]=y("p",{class:"text-desc my-10px text-center"},"The current system uses PowerDNS as the domain name server.",-1)),y("div",K,[v(n,{class:"items-center flex-col! text-center"},{default:o(()=>[s[3]||(s[3]=y("div",{class:"icon-wrap"},[y("i",{class:"i-soft-dns-disk text-white text-30px"})],-1)),s[4]||(s[4]=y("h4",{class:"font-bold mt-8px"},"PowerDNS",-1)),s[5]||(s[5]=y("p",{class:"desc"}," Modular design, separating the core DNS server from backend storage. Supports multiple databases (such as MySQL, PostgreSQL, SQLite, etc.) for storing DNS records. ",-1)),v(n,{class:"mt-10px"},{default:o(()=>[v(t,{size:"small",round:""},{default:o(()=>s[0]||(s[0]=[_(" High performance ",-1)])),_:1,__:[0]}),v(t,{type:"success",size:"small",round:""},{default:o(()=>s[1]||(s[1]=[_(" Low memory ",-1)])),_:1,__:[1]}),v(t,{size:"small",round:""},{default:o(()=>s[2]||(s[2]=[_(" Easy to manage ",-1)])),_:1,__:[2]})]),_:1})]),_:1,__:[3,4,5]})])]),_:1,__:[6]}),v(r,{class:"mt-16px",title:"PowerDNS DNS server details"},{default:o(()=>[v(a),s[14]||(s[14]=y("p",{class:"text-desc my-10px text-center"},"Learn about the features and advantages of PowerDNS DNS server.",-1)),y("div",V,[v(n,{class:"items-center"},{default:o(()=>s[7]||(s[7]=[y("div",{class:"icon-wrap sm"},[y("i",{class:"i-soft-dns-disk text-white text-24px"})],-1),y("h4",{class:"font-bold"},"PowerDNS",-1)])),_:1,__:[7]}),s[11]||(s[11]=y("div",{class:"kv"},[y("h4",{class:"kv-title"},"Configuration method"),y("p",{class:"kv-desc"}," Supports multiple backends (e.g., MySQL, PostgreSQL, SQLite, etc.) for storing DNS records, or LDAP, plain text files, etc., which allows for easy management and integration. ")],-1)),s[12]||(s[12]=y("div",{class:"kv"},[y("h4",{class:"kv-title"},"High performance"),y("p",{class:"kv-desc"}," PowerDNS is designed with multi-threading and optimized C++ code, which ensures high performance even under heavy load and large-scale query scenarios. Memory usage is also lower compared to other DNS servers. ")],-1)),y("div",W,[s[9]||(s[9]=y("h4",{class:"kv-title"},"Modular design",-1)),s[10]||(s[10]=y("p",{class:"kv-desc"}," PowerDNS separates the core DNS server from backend storage, allowing for modular deployment. Users can choose to deploy the Authoritative Server (for authoritative DNS records) or the Recursor (for recursive DNS queries). ",-1)),v(d,{class:"kv-list"},{default:o(()=>s[8]||(s[8]=[y("li",null,"PowerDNS Authoritative Server：Responsible for hosting and resolving authoritative DNS records.",-1),y("li",null,"PowerDNS Recursor：Responsible for recursive DNS queries and caching acceleration.",-1)])),_:1,__:[8]})]),s[13]||(s[13]=y("div",{class:"kv"},[y("h4",{class:"kv-title"},"Easy to manage"),y("p",{class:"kv-desc"}," PowerDNS supports database backends (e.g., MySQL, PostgreSQL, SQLite, etc.) for storing DNS records, which allows for easy management and integration. Users can use graphical management tools (such as PowerAdmin) or APIs for standardized and automated operations. ")],-1))])]),_:1,__:[14]})])}],["__scopeId","data-v-ba9d66ec"]]),X=e({__name:"index",setup(e,{expose:s}){const{t:a}=g(),n=h(null),i=x({ns1domain:"",ns2domain:""}),r={ns1domain:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]},ns2domain:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}},d=async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await q(i)},{loading:c,setLoading:u}=O(),p=async()=>{try{u(!0);const{message:e}=await I();A(e)&&(i.ns1domain=e.NS1,i.ns2domain=e.NS2)}finally{u(!1)}};return p(),s({init:p}),(e,s)=>{const a=Q,u=$,p=R,m=Y,f=U;return l(),t(f,{show:b(c)},{default:o(()=>[v(m,{ref_key:"formRef",ref:n,model:b(i),rules:r},{default:o(()=>[v(u,{label:"NameServer1",path:"ns1domain"},{default:o(()=>[v(a,{class:"w-300px!",value:b(i).ns1domain,"onUpdate:value":s[0]||(s[0]=e=>b(i).ns1domain=e),placeholder:"Your Name Server,eg:ns1.aapanel.com,Option"},null,8,["value"])]),_:1}),v(u,{label:"NameServer2",path:"ns2domain"},{default:o(()=>[v(a,{class:"w-300px!",value:b(i).ns2domain,"onUpdate:value":s[1]||(s[1]=e=>b(i).ns2domain=e),placeholder:"Your Name Server,eg:ns2.aapanel.com,Option"},null,8,["value"])]),_:1}),v(u,{label:" "},{default:o(()=>[v(p,{type:"primary",onClick:d},{default:o(()=>[_(S(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),Z={key:0,class:"i-soft-dns-open text-50px"},ee={key:1,class:"i-soft-dns-close text-50px"},se={class:"font-bold"},ae={key:0,class:"i-soft-dns-stop"},te={key:1,class:"iconfont icon-start"},le=z(e({__name:"index",setup(e,{expose:s}){const{t:a}=g(),t=B(),{dnsStatus:r}=k(t),d=async(e,s)=>{if("uninstall"===s)return void(await F("uninstall",()=>{setTimeout(()=>{window.location.reload()},1e3)}));const t=a("Plugin.Mysql.index_5",[e,"DNS Manager"]);T({title:a("Node.index_65"),content:t,onConfirm:async()=>{await E({status:s}),c()}})},c=async()=>{t.getDNSStatus()};return c(),s({init:c}),(e,s)=>{const a=M,t=R,c=C;return l(),i("div",null,[s[7]||(s[7]=y("div",{class:"server-title"},"Service management",-1)),v(a),v(c,{class:"flex-col! items-center mt-30px"},{default:o(()=>[y("div",{class:n(["server-icon",{"bg-#ffc107!":!b(r)}])},[b(r)?(l(),i("i",Z)):(l(),i("i",ee))],2),y("span",se,S(b(r)?"DNS service is running normally":"DNS service is stopped"),1),v(c,{class:"mt-16px"},{default:o(()=>[v(t,{type:"primary",ghost:"",onClick:s[0]||(s[0]=s=>d(b(r)?e.$t("Public.Status.Stop"):e.$t("Public.Status.Start"),b(r)?"stop":"start"))},{default:o(()=>[b(r)?(l(),i("i",ae)):(l(),i("i",te)),_(" "+S(b(r)?e.$t("Public.Status.Stop"):e.$t("Public.Status.Start")),1)]),_:1}),v(t,{type:"primary",ghost:"",onClick:s[1]||(s[1]=s=>d(e.$t("Public.Status.Restart"),"restart"))},{default:o(()=>[s[4]||(s[4]=y("i",{class:"i-soft-dns-restart"},null,-1)),_(" "+S(e.$t("Public.Status.Restart")),1)]),_:1,__:[4]}),v(t,{type:"primary",ghost:"",onClick:s[2]||(s[2]=s=>d(e.$t("Public.Status.Reload"),"reload"))},{default:o(()=>[s[5]||(s[5]=y("i",{class:"i-soft-dns-reload"},null,-1)),_(" "+S(e.$t("Public.Status.Reload")),1)]),_:1,__:[5]}),v(t,{type:"primary",ghost:"",onClick:s[3]||(s[3]=s=>d(e.$t("Public.Btn.Uninstall"),"uninstall"))},{default:o(()=>[s[6]||(s[6]=y("i",{class:"i-soft-dns-uninstall"},null,-1)),_(" "+S(e.$t("Public.Btn.Uninstall")),1)]),_:1,__:[6]})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-12f14b33"]]),ne=e({__name:"index",setup(e){const{t:s}=g(),a=h("server"),n=[{key:"server",label:()=>v(C,{class:"items-center",size:0},{default:()=>[v("i",{class:"i-soft-dns-server text-20px"},null),v("span",null,[s("Service")])]}),component:le},{key:"default",label:()=>v(C,{class:"items-center",size:3},{default:()=>[v("i",{class:"i-soft-dns-system text-16px  ml-2px"},null),v("span",null,[s("Default DNS")])]}),component:X},{key:"introduction",label:()=>v(C,{class:"items-center",size:5},{default:()=>[v("i",{class:"i-soft-dns-menu text-12px  ml-3px"},null),v("span",null,[s("Configure DNS")])]}),component:G}];return(e,s)=>{const o=J;return l(),t(o,{value:b(a),"onUpdate:value":s[0]||(s[0]=e=>w(a)?a.value=e:null),data:n},null,8,["value"])}}});export{ne as default};
