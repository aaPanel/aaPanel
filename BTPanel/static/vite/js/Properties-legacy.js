System.register(["./index-legacy.js?v=1767769852656","./index-legacy109.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index-legacy38.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./soft-legacy2.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./file-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,t){"use strict";var i,l,a,r,s,o,n,p,d,f,u,c,m,v,y,g,w,x,h,_,b,$,j,k,z,T,C,F,P,H,O,S,U,q,M,N,R,E,I;return{setters:[e=>{i=e._},e=>{l=e._},e=>{a=e.aa,r=e.n,s=e.aE,o=e.d,n=e.m,p=e.T,d=e.q,f=e._,u=e.gr,c=e.p},e=>{m=e.f,v=e.a,y=e.i},e=>{g=e.o,w=e.F},e=>{x=e.k,h=e.P,_=e.i,b=e.r,$=e.c,j=e.W,k=e.F,z=e.aK,T=e.a2,C=e.V,F=e.a3,P=e.S,H=e.U,O=e.ak,S=e.a4,U=e.j,q=e.l,M=e.R},e=>{N=e.dQ,R=e.au,E=e.dc,I=e.dg},null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.modal-footer-btns[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:end;gap:10px;padding:10px}.single-line-ellipsis[data-v-f7957a5e]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.properties-wrapper[data-v-f7957a5e]{padding:16px}.properties-wrapper .tab-tit[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:start;gap:5px;border-bottom:1px solid #cfcfdc}.properties-wrapper .tab-tit .tab-tit-item[data-v-f7957a5e]{padding:10px;background:linear-gradient(to bottom,#f5f5f5,#dedede);border:1px solid #cfcfdc;margin-bottom:-1px;cursor:pointer}.properties-wrapper .tab-tit .tab-tit-item.active[data-v-f7957a5e]{background:#fff;border-bottom:1px solid #fff}.properties-wrapper .content[data-v-f7957a5e]{height:386px}.properties-wrapper .content .info-group .info-item[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:flex-start;min-height:26px;margin:4px 0}.properties-wrapper .content .info-group .info-item .info-item-label[data-v-f7957a5e]{width:120px;padding:0 10px}.properties-wrapper .content .info-group .info-item .info-item-value[data-v-f7957a5e]{flex:1;width:0}.properties-wrapper .content .detail-tit[data-v-f7957a5e],.properties-wrapper .content .detail-row[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;gap:10px;justify-content:flex-start;background:#f6f6f6;padding:10px}.properties-wrapper .content .detail-tit .detail-tit-properties[data-v-f7957a5e],.properties-wrapper .content .detail-row .detail-tit-properties[data-v-f7957a5e]{flex:2}.properties-wrapper .content .detail-tit .detail-tit-value[data-v-f7957a5e],.properties-wrapper .content .detail-row .detail-tit-value[data-v-f7957a5e]{flex:8}.properties-wrapper .content .detail-row[data-v-f7957a5e]{background-color:#fff}.properties-wrapper .content .history-tit[data-v-f7957a5e],.properties-wrapper .content .history-row[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;gap:10px;justify-content:flex-start;background:#f6f6f6;padding:10px}.properties-wrapper .content .history-tit .modify[data-v-f7957a5e],.properties-wrapper .content .history-row .modify[data-v-f7957a5e]{flex:3}.properties-wrapper .content .history-tit .size[data-v-f7957a5e],.properties-wrapper .content .history-row .size[data-v-f7957a5e]{flex:1}.properties-wrapper .content .history-tit .md5[data-v-f7957a5e],.properties-wrapper .content .history-row .md5[data-v-f7957a5e]{flex:4.5}.properties-wrapper .content .history-tit .opt[data-v-f7957a5e],.properties-wrapper .content .history-row .opt[data-v-f7957a5e]{flex:1.5}.properties-wrapper .content .history-row[data-v-f7957a5e]{background:#fff}.restore-history-wrapper[data-v-f7957a5e]{padding:20px}.restore-history-wrapper .content[data-v-f7957a5e]{font-size:14px;margin-bottom:10px}.restore-history-wrapper .sub-content[data-v-f7957a5e]{font-size:12px;color:#525252}\n/*$vite$:1*/',document.head.appendChild(t);const K={class:"properties-wrapper"},L={class:"content"},W={class:"info-group"},D={class:"info-item h-60px"},Q={class:"info-item-label"},V={class:"info-item-value"},A={class:"w-360px"},B={class:"my-10px"},G={class:"info-group"},J={class:"info-item"},X={class:"info-item-label"},Y={class:"info-item-value"},Z={class:"info-item"},ee={class:"info-item-label"},te={class:"info-item-value flex"},ie={class:"max-w-300px"},le={class:"info-item",style:{"margin-bottom":"0"}},ae={class:"info-item-label"},re={class:"info-item-value"},se={class:"my-10px"},oe={class:"info-group"},ne={class:"info-item"},pe={class:"info-item-label"},de={class:"info-item-value"},fe={class:"info-item"},ue={class:"info-item-label"},ce={class:"info-item-value"},me={class:"info-item",style:{"margin-bottom":"0"}},ve={class:"info-item-label"},ye={class:"info-item-value"},ge={class:"my-10px"},we={class:"info-group"},xe={class:"info-item"},he={class:"info-item-label"},_e={class:"info-item-value"},be={class:"info-item"},$e={class:"info-item-label"},je={class:"info-item-value"},ke={class:"content overflow-auto"},ze={width:"200"},Te={class:"content"};e("default",c(x({__name:"Properties",setup(e,{expose:t}){const{t:c}=h(),x=_("fileStore"),{choosedKeys:Ce,fileList:Fe,currentPath:Pe}=x,He=b(!1),Oe=b("general"),Se=b(!1),Ue=b({st_atime:0,st_mtime:0,st_ctime:0}),qe=$(()=>Ue.value.path?`${Ue.value.path}/${Ue.value.name}`:"--"),Me=b([{key:"st_mtime",title:()=>c("file.properties.modifiedTime"),width:154,render:e=>a(e.st_mtime)},{key:"st_size",title:()=>c("file.properties.size"),width:80,render:e=>r(e.st_size)},{key:"md5",title:()=>c("file.properties.md5"),ellipsis:{tooltip:!0}},m({width:110,options:e=>[{label:c("file.properties.view"),onClick:()=>{!async function(){g(0,`${Ue.value.path}/${Ue.value.name}`,Pe.value)}()}},{label:c("file.properties.restore"),onClick:()=>{!async function(e){v({title:c("file.properties.restoreHistoryFiles"),width:480,content:()=>j(k,null,[j("div",null,[c("file.properties.restoreHistoryConfirm",{time:a(e.st_mtime)})]),j("div",{class:"mt-8px text-12px text-default leading-[1.4]"},[c("file.properties.restoreHistoryWarning")])]),onConfirm:async()=>{await async function(e,t){const i=n.loading(c("file.properties.restoring"));try{const{status:i}=await s.post("/files?action=re_history",{filename:e,history:t},{requestOptions:{errorMessage:!1}});0===i?n.success(c("file.properties.restoreSuccess")):n.error(c("file.properties.restoreFailed"))}finally{i.close()}}(`${Ue.value.path}/${Ue.value.name}`,e.st_mtime)}})}(e)}}]})]),Ne=()=>{y(qe.value)};return t({open(){He.value=!0,async function(e){Se.value=!0;try{const{message:t}=await s.post("/files?action=get_file_attribute",{filename:e},{requestOptions:{isOriginalResult:!0}});o(t)&&(Ue.value=t)}finally{Se.value=!1}}(Fe.value.find(e=>e.nm==Ce.value[0]).path)},close(){He.value=!1}}),(e,t)=>{const s=R,o=d,n=E,c=f,m=N,v=u,y=I,g=l,x=p,h=i,_=z("table");return C(),T(h,{show:H(He),"onUpdate:show":t[1]||(t[1]=e=>O(He)?He.value=e:null),width:580,title:`[${H(Ue).name}] - ${e.$t("file.properties.fileProperties")}`},{default:F(()=>[P("div",K,[j(x,{show:H(Se)},{default:F(()=>[j(g,{value:H(Oe),"onUpdate:value":t[0]||(t[0]=e=>O(Oe)?Oe.value=e:null)},{default:F(()=>[j(m,{name:"general",tab:e.$t("file.properties.general")},{default:F(()=>[P("div",L,[P("div",W,[P("div",D,[P("div",Q,[j(w,{ext:`${H(Ue).st_type}`,size:"large"},null,8,["ext"])]),P("div",V,[P("div",A,[j(s,{value:H(Ue).name,readonly:""},null,8,["value"])])])])]),P("div",B,[j(o)]),P("div",G,[P("div",J,[P("div",X,S(e.$t("file.properties.type"))+":",1),P("div",Y,S(H(Ue).st_type),1)]),P("div",Z,[P("div",ee,S(e.$t("file.properties.location"))+":",1),P("div",te,[P("div",ie,[j(n,null,{default:F(()=>[U(S(H(qe)),1)]),_:1})]),j(c,{class:"ml-10px cursor-pointer",name:"common-copy",size:"14",onClick:Ne})])]),P("div",le,[P("div",ae,S(e.$t("file.properties.size"))+":",1),P("div",re,S(H(r)(H(Ue).st_size)),1)])]),P("div",se,[j(o)]),P("div",oe,[P("div",ne,[P("div",pe,S(e.$t("file.properties.permissions"))+":",1),P("div",de,S(H(Ue).mode),1)]),P("div",fe,[P("div",ue,S(e.$t("file.properties.group"))+":",1),P("div",ce,S(H(Ue).group),1)]),P("div",me,[P("div",ve,S(e.$t("file.properties.user"))+":",1),P("div",ye,S(H(Ue).user),1)])]),P("div",ge,[j(o)]),P("div",we,[P("div",xe,[P("div",he,S(e.$t("file.properties.visitTime"))+":",1),P("div",_e,S(H(a)(H(Ue).st_atime)),1)]),P("div",be,[P("div",$e,S(e.$t("file.properties.modifiedTime"))+":",1),P("div",je,S(H(a)(H(Ue).st_mtime)),1)])])])]),_:1},8,["tab"]),j(m,{name:"details",tab:e.$t("file.properties.details")},{default:F(()=>[q((C(),M("div",ke,[j(v,null,{default:F(()=>[P("thead",null,[P("tr",null,[P("th",ze,S(e.$t("file.properties.name")),1),P("th",null,S(e.$t("file.properties.value")),1)])]),P("tbody",null,[P("tr",null,[P("td",null,S(e.$t("file.properties.name")),1),P("td",null,S(H(Ue).name),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.type")),1),P("td",null,S(H(Ue).st_type),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.location")),1),P("td",null,S(H(Ue).path),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.size")),1),P("td",null,S(H(r)(H(Ue).st_size)),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.visitTime")),1),P("td",null,S(H(a)(H(Ue).st_atime)),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.modifiedTime")),1),P("td",null,S(H(a)(H(Ue).st_mtime)),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.metadataModificationTime")),1),P("td",null,S(H(a)(H(Ue).st_mtime)),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.md5")),1),P("td",null,S(H(Ue).md5),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.sha1")),1),P("td",null,S(H(Ue).sha1),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.user")),1),P("td",null,S(H(Ue).user),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.group")),1),P("td",null,S(H(Ue).group),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.permissions")),1),P("td",null,S(H(Ue).mode),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.uid")),1),P("td",null,S(H(Ue).st_uid),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.gid")),1),P("td",null,S(H(Ue).st_gid),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.numOfInodeLinks")),1),P("td",null,S(Number(H(Ue).is_link)),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.inodeNodeNum")),1),P("td",null,S(H(Ue).st_ino),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.inodeProtectionMode")),1),P("td",null,S(H(Ue).st_mode),1)]),P("tr",null,[P("td",null,S(e.$t("file.properties.inodeResidentDevice")),1),P("td",null,S(H(Ue).st_dev),1)])])]),_:1})])),[[_]])]),_:1},8,["tab"]),j(m,{name:"history",tab:e.$t("file.properties.history")},{default:F(()=>[P("div",Te,[j(y,{"max-height":"386px",columns:H(Me),data:H(Ue).history||[]},null,8,["columns","data"])])]),_:1},8,["tab"])]),_:1},8,["value"])]),_:1},8,["show"])])]),_:1},8,["show","title"])}}}),[["__scopeId","data-v-f7957a5e"]]))}}});
