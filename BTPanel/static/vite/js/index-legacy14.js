System.register(["./index-legacy106.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./page_layout-legacy.js?v=1763625242172","./public-legacy.js?v=1763625242172","./file-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172"],(function(e,a){"use strict";var n,o,i,t,l,s,g,c,_,u,m,p,r,d,f,v,b,C,U,I,y,h,x,w,k,S,B,$,j,D,O,R,z,q,A,M,F,P,E,L;return{setters:[e=>{n=e._,o=e.a},e=>{i=e.P,t=e.a0,l=e.N,s=e.k,g=e.ad,c=e.ae,_=e.c,u=e.r,m=e.R,p=e.S,r=e.U,d=e.a2,f=e.V,v=e.a4,b=e.q,C=e.X,U=e.a3,I=e.aj,y=e.j,h=e.F,x=e.an},e=>{w=e.i,k=e.A,S=e.bf,B=e.c,$=e.m,j=e.bg,D=e.bh,O=e.p,R=e.bi,z=e.q},e=>{q=e.a},e=>{A=e.u},e=>{M=e.bJ,F=e.aC,P=e.df,E=e.dj,L=e.dS},null,null],execute:function(){var a=document.createElement("style");a.textContent=".logo-preview[data-v-e25a8112]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;margin-bottom:10px;padding:8px;border:1px dashed var(--color-border);overflow:hidden;text-align:center}.logo-tips[data-v-e25a8112]{margin-bottom:10px;font-size:12px;color:#999}.upload-action[data-v-e25a8112]{display:flex;align-items:center;gap:10px}\n",document.head.appendChild(a);const{t:T}=w.global,H={favicon:"/static/favicon.ico",show_login_logo:!0,show_login_bg_images:!1,login_logo:"/static/icons/logo-green.svg",login_bg_images:"",login_bg_images_opacity:100,show_main_bg_images:!0,main_bg_images:"/static/icons/main_bg.png",main_bg_images_dark:"/static/icons/main_bg_dark.png",main_bg_images_opacity:100,main_content_opacity:100,main_shadow_color:"#000000",main_shadow_opacity:5,menu_logo:"/static/icons/menu_logo.png",menu_bg_opacity:100,theme_color:"#3c444d",theme_name:"default",home_state_font_size:24},J=new Map([["menu_logo",T("Config.UI.logo")],["favicon",T("Config.UI.websiteIcon")],["login_bg_images",T("Config.UI.loginBackgroundImage")],["login_logo",T("Config.UI.loginLogoImage")],["main_bg_images",T("Config.UI.mainBackgroundImage")],["theme_color",T("Config.UI.sidebarColor")],["theme_name",T("Config.UI.colorTheme")],["menu_bg_opacity",T("Config.UI.sidebarBackgroundOpacity")],["main_content_opacity",T("Config.UI.contentOpacity")],["main_bg_images_opacity",T("Config.UI.mainBackgroundImageOpacity")],["login_bg_images_opacity",T("Config.UI.loginBackgroundOpacity")],["main_shadow_color",T("Config.UI.mainShadowColor")],["main_shadow_opacity",T("Config.UI.mainShadowOpacity")]]),N=()=>{const{t:e}=i(),a=k(),{pageConfig:n}=t(a),o=async()=>{const{message:e}=await S.post("/config?action=get_panel_asset");B(e)&&(n.value=e)},s=async(a={})=>{await S.post("/config?action=set_panel_asset",l({...n.value,...a}),{requestOptions:{loading:e("Config.UI.savingInterfaceSettings"),successMessage:!0}}),o()},g=e=>J.get(e)||e;return{pageConfig:n,fetchConfig:o,saveConfig:s,resetConfig:a=>{q({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestore",{name:g(a)}),onConfirm:async()=>{await s({[a]:H[a]})}})},uploadImage:async(a,i)=>{if(i.file){const t=$.loading(e("Config.UI.uploadingImage"));try{const e=((e,a)=>{const n=(e=>{const a=e.lastIndexOf(".");return-1!==a?e.substring(a+1):"png"})(a);return`${e}_${Date.now()}.${n}`})(a,i.name),t=new FormData;t.append("f_path","/www/server/panel/BTPanel/static/temp"),t.append("f_name",e),t.append("f_start","0"),t.append("blob",i.file),t.append("f_size",i.file.size.toString()),await A(t),await S.post("/config?action=set_panel_asset",l({...n.value,[a]:`/static/temp/${e}`}),{requestOptions:{successMessage:!0}}),"favicon"===a&&(e=>{const a=document.querySelector("link[rel*='icon']");a&&(a.href=j(e))})(`/static/temp/${e}`),o()}finally{t.close()}}},resetAllConfig:()=>{q({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestoreAll"),onConfirm:async()=>{await s(H)}})}}},V={class:"logo-preview"},X={key:1,class:"text-font3"},G={class:"logo-tips"},K={class:"upload-action"},Q=s({__name:"upload",props:g({onUpload:Function},{value:{default:""},valueModifiers:{}}),emits:g(["reset"],["update:value"]),setup(e,{emit:a}){const{t:n}=i(),o=a,t=c(e,"value"),l=_((()=>j(t.value))),s=u([]),g=({file:e})=>{if(e.file){if(!e.file.type.includes("image"))return $.error(n("Config.UI.imageFileOnlyError")),!1;if(e.file.size>5242880)return $.error(n("Config.UI.imageSizeError")),!1}return!0},h=async({file:a})=>{await(e.onUpload?.(a)),s.value=[]},x=()=>{o("reset")};return(e,a)=>{const n=M,o=F,i=D;return m(),p("div",null,[r("div",V,[t.value?(m(),d(n,{key:0,width:"100%",height:"100%",src:f(l),"preview-disabled":!0},null,8,["src"])):(m(),p("span",X,v(e.$t("Config.UI.uploadImagePlaceholder")),1))]),r("div",G,[b(e.$slots,"desc",{},void 0,!0)]),r("div",K,[C(i,{"file-list":f(s),"onUpdate:fileList":a[0]||(a[0]=e=>I(s)?s.value=e:null),class:"w-auto",action:"",multiple:!1,"show-file-list":!1,"custom-request":h,onBeforeUpload:g},{default:U((()=>[C(o,{size:"small"},{default:U((()=>[b(e.$slots,"upload",{},void 0,!0)])),_:3})])),_:3},8,["file-list"]),C(o,{onClick:x},{default:U((()=>[y(v(e.$t("Config.UI.resetDefault")),1)])),_:1})])])}}}),W=O(Q,[["__scopeId","data-v-e25a8112"]]),Y=s({__name:"index",setup(e){const{t:a}=i(),{pageConfig:o,uploadImage:t,resetConfig:l}=N();return(e,i)=>{const s=n;return m(),p(h,null,[C(s,{label:f(a)("Config.UI.logo")},{content:U((()=>[C(W,{value:f(o).menu_logo,"onUpdate:value":i[0]||(i[0]=e=>f(o).menu_logo=e),onUpload:i[1]||(i[1]=e=>f(t)("menu_logo",e)),onReset:i[2]||(i[2]=()=>f(l)("menu_logo"))},{desc:U((()=>[y(v(f(a)("Config.UI.logoDescription")),1)])),upload:U((()=>[y(v(f(a)("Config.UI.uploadLogo")),1)])),_:1},8,["value"])])),_:1},8,["label"]),C(s,{label:f(a)("Config.UI.websiteIcon")},{content:U((()=>[C(W,{value:f(o).favicon,"onUpdate:value":i[3]||(i[3]=e=>f(o).favicon=e),onUpload:i[4]||(i[4]=e=>f(t)("favicon",e)),onReset:i[5]||(i[5]=()=>f(l)("favicon"))},{desc:U((()=>[y(v(f(a)("Config.UI.iconDescription")),1)])),upload:U((()=>[y(v(f(a)("Config.UI.uploadIcon")),1)])),_:1},8,["value"])])),_:1},8,["label"])],64)}}}),Z={class:"flex items-center"},ee={class:"w-120px mr-24px"},ae={class:"text-font3"},ne={class:"flex items-center gap-10px mt-10px"},oe=s({__name:"slider",props:{value:{default:0},valueModifiers:{}},emits:g(["save","reset"],["update:value"]),setup(e,{emit:a}){const{t:n}=i(),o=c(e,"value"),t=a,l=()=>{t("save")},s=()=>{t("reset")};return(e,a)=>{const i=R,t=P,g=F;return m(),p("div",null,[r("div",Z,[r("div",ee,[C(i,{value:o.value,"onUpdate:value":a[0]||(a[0]=e=>o.value=e),step:10},null,8,["value"])]),C(t,{value:o.value,"onUpdate:value":a[1]||(a[1]=e=>o.value=e),class:"w-150px",min:0,max:100,size:"small"},null,8,["value"])]),r("div",ae,v(f(n)("Config.UI.transparencyTip")),1),r("div",ne,[C(g,{size:"small",onClick:l},{default:U((()=>[y(v(e.$t("Public.Btn.Save")),1)])),_:1}),C(g,{size:"small",onClick:s},{default:U((()=>[y(v(f(n)("Config.UI.resetDefault")),1)])),_:1})])])}}}),ie=s({__name:"index",setup(e){const{t:a}=i(),{pageConfig:o,saveConfig:t,resetConfig:l}=N();return(e,i)=>{const s=n;return m(),d(s,{label:f(a)("Config.UI.sidebarBackgroundOpacity")},{content:U((()=>[C(oe,{value:f(o).menu_bg_opacity,"onUpdate:value":i[0]||(i[0]=e=>f(o).menu_bg_opacity=e),onSave:i[1]||(i[1]=()=>f(t)()),onReset:i[2]||(i[2]=()=>f(l)("menu_bg_opacity"))},null,8,["value"])])),_:1},8,["label"])}}}),te={class:"flex-1"},le={class:"flex items-center h-32px"},se=s({__name:"index",setup(e){const{t:a}=i();t(k());const{pageConfig:o,saveConfig:l,resetConfig:s,uploadImage:g}=N();return(e,i)=>{const t=E,c=n;return m(),p(h,null,[C(c,{label:f(a)("Config.UI.mainBackgroundImage")},{content:U((()=>[r("div",te,[r("div",le,[C(t,{value:f(o).show_main_bg_images,"onUpdate:value":[i[0]||(i[0]=e=>f(o).show_main_bg_images=e),f(l)]},{checked:U((()=>[y(v(f(a)("Config.UI.show")),1)])),unchecked:U((()=>[y(v(f(a)("Config.UI.hide")),1)])),_:1},8,["value","onUpdate:value"])]),f(o).show_main_bg_images?(m(),d(W,{key:0,value:f(o).main_bg_images,"onUpdate:value":i[1]||(i[1]=e=>f(o).main_bg_images=e),class:"mt-10px",onUpload:i[2]||(i[2]=e=>f(g)("main_bg_images",e)),onReset:i[3]||(i[3]=()=>f(s)("main_bg_images"))},{desc:U((()=>[y(v(f(a)("Config.UI.mainBackgroundDescription")),1)])),upload:U((()=>[y(v(f(a)("Config.UI.uploadImage")),1)])),_:1},8,["value"])):x("",!0)])])),_:1},8,["label"]),f(o).show_main_bg_images?(m(),d(c,{key:0,label:f(a)("Config.UI.mainBackgroundImageDark")},{content:U((()=>[C(W,{value:f(o).main_bg_images_dark,"onUpdate:value":i[4]||(i[4]=e=>f(o).main_bg_images_dark=e),class:"mt-10px",onUpload:i[5]||(i[5]=e=>f(g)("main_bg_images_dark",e)),onReset:i[6]||(i[6]=()=>f(s)("main_bg_images_dark"))},{desc:U((()=>[y(v(f(a)("Config.UI.mainBackgroundDescription")),1)])),upload:U((()=>[y(v(f(a)("Config.UI.uploadImage")),1)])),_:1},8,["value"])])),_:1},8,["label"])):x("",!0),C(c,{label:f(a)("Config.UI.backgroundOpacity")},{content:U((()=>[C(oe,{value:f(o).main_bg_images_opacity,"onUpdate:value":i[7]||(i[7]=e=>f(o).main_bg_images_opacity=e),onSave:i[8]||(i[8]=()=>f(l)()),onReset:i[9]||(i[9]=()=>f(s)("main_bg_images_opacity"))},null,8,["value"])])),_:1},8,["label"]),C(c,{label:f(a)("Config.UI.contentOpacity")},{content:U((()=>[C(oe,{value:f(o).main_content_opacity,"onUpdate:value":i[10]||(i[10]=e=>f(o).main_content_opacity=e),onSave:i[11]||(i[11]=()=>f(l)()),onReset:i[12]||(i[12]=()=>f(s)("main_content_opacity"))},null,8,["value"])])),_:1},8,["label"])],64)}}}),ge={class:"flex-1"},ce={class:"flex items-center h-32px"},_e=s({__name:"index",setup(e){const{pageConfig:a,saveConfig:o,resetConfig:i,uploadImage:t}=N();return(e,l)=>{const s=E,g=n;return m(),p(h,null,[C(g,{label:e.$t("Config.UI.loginBackgroundImage")},{content:U((()=>[r("div",ge,[r("div",ce,[C(s,{value:f(a).show_login_bg_images,"onUpdate:value":[l[0]||(l[0]=e=>f(a).show_login_bg_images=e),f(o)]},{checked:U((()=>[y(v(e.$t("Config.UI.show")),1)])),unchecked:U((()=>[y(v(e.$t("Config.UI.hide")),1)])),_:1},8,["value","onUpdate:value"])]),f(a).show_login_bg_images?(m(),d(W,{key:0,value:f(a).login_bg_images,"onUpdate:value":l[1]||(l[1]=e=>f(a).login_bg_images=e),class:"mt-10px",onUpload:l[2]||(l[2]=e=>f(t)("login_bg_images",e)),onReset:l[3]||(l[3]=()=>f(i)("login_bg_images"))},{desc:U((()=>[y(v(e.$t("Config.UI.backgroundDescription")),1)])),upload:U((()=>[y(v(e.$t("Config.UI.uploadImage")),1)])),_:1},8,["value"])):x("",!0)])])),_:1},8,["label"]),f(a).show_login_bg_images?(m(),d(g,{key:0,label:e.$t("Config.UI.loginBackgroundOpacity")},{content:U((()=>[C(oe,{value:f(a).login_bg_images_opacity,"onUpdate:value":l[4]||(l[4]=e=>f(a).login_bg_images_opacity=e),onSave:l[5]||(l[5]=()=>f(o)()),onReset:l[6]||(l[6]=()=>f(i)("login_bg_images_opacity"))},null,8,["value"])])),_:1},8,["label"])):x("",!0)],64)}}}),ue={class:"py-16px"},me={class:"my-16px"};e("default",s({__name:"index",setup(e){const{t:a}=i(),{fetchConfig:n,resetAllConfig:t}=N();return n(),(e,n)=>{const i=o,l=z,s=F,g=L;return m(),d(g,{class:"p-16px"},{default:U((()=>[C(i,null,{default:U((()=>[y(v(f(a)("Config.UI.logoSettings")),1)])),_:1}),C(Y),C(i,{class:"mt-12px"},{default:U((()=>[y(v(f(a)("Config.UI.sidebarSettings")),1)])),_:1}),C(ie),C(i,{class:"mt-12px"},{default:U((()=>[y(v(f(a)("Config.UI.mainBackgroundSettings")),1)])),_:1}),C(se),C(i,{class:"mt-12px"},{default:U((()=>[y(v(f(a)("Config.UI.loginInterfaceSettings")),1)])),_:1}),C(_e),r("div",ue,[r("div",me,[C(l)]),C(s,{onClick:n[0]||(n[0]=()=>f(t)())},{default:U((()=>[y(v(f(a)("Config.UI.resetAllDefaults")),1)])),_:1})])])),_:1})}}}))}}}));
