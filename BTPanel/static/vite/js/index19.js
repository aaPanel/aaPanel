const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index114.js?v=1764233927359","js/index.vue_vue_type_script_setup_true_lang5.js?v=1764233927359","js/index.vue_vue_type_script_setup_true_lang6.js?v=1764233927359","js/page_layout.js?v=1764233927359","js/vue.js?v=1764233927359","js/__commonjsHelpers__.js?v=1764233927359","js/naive.js?v=1764233927359","js/common.js?v=1764233927359","js/public.js?v=1764233927359","css/public.css?v=1764233927359","css/page_layout.css?v=1764233927359","css/index15.css?v=1764233927359","js/index.vue_vue_type_script_setup_true_lang7.js?v=1764233927359","js/planned.js?v=1764233927359","js/soft.js?v=1764233927359","js/site.js?v=1764233927359","js/set2.js?v=1764233927359","js/index.js?v=1764233927359","css/index110.css?v=1764233927359","js/index.vue_vue_type_script_setup_true_lang.js?v=1764233927359","js/index115.js?v=1764233927359","js/index104.js?v=1764233927359","css/index19.css?v=1764233927359","css/index74.css?v=1764233927359","js/batch.js?v=1764233927359"])))=>i.map(i=>d[i]);
import{o as e,i as a,a as l,x as t,p as n,bl as o,T as d,bm as s,m as i}from"./page_layout.js?v=1764233927359";import{_ as u}from"./index.js?v=1764233927359";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1764233927359";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1764233927359";import{r as c,u as _,a as b,d as v,e as m,_ as y,c as h,f as x,h as w}from"./public.js?v=1764233927359";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1764233927359";import{s as C,g as k,e as g,a as P,b as U,d as $,c as S,f as T}from"./planned.js?v=1764233927359";import{W as N,j,_ as L,r as B,k as E,P as V,ah as I,R as A,V as R,a3 as q,a4 as O,U as D,ak as H,ae as W,a2 as z,an as J,S as K,e as F,w as M,N as Z}from"./vue.js?v=1764233927359";import{da as G,_ as Q,aC as X,dV as Y,dR as ee,av as ae,df as le,dZ as te,au as ne,dk as oe,dS as de}from"./naive.js?v=1764233927359";import{_ as se}from"./index.vue_vue_type_script_setup_true_lang.js?v=1764233927359";import{_ as ie}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1764233927359";import{_ as ue}from"./index99.js?v=1764233927359";import{t as re,w as pe,u as ce,r as _e,a as be,b as ve,c as me,d as ye,e as he,m as xe,s as we,f as fe,g as Ce,h as ke,p as ge,i as Pe,o as Ue,j as $e,k as Se,l as Te,n as Ne,q as je,v as Le}from"./utils2.js?v=1764233927359";import"./common.js?v=1764233927359";import"./__commonjsHelpers__.js?v=1764233927359";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1764233927359";import"./index98.js?v=1764233927359";import"./compiler.js?v=1764233927359";const{t:Be}=a.global,Ee=e=>N(c,{onClick:a=>{const l=B(!1);b({title:Be("Crontab.Planned.index_7"),content:()=>N("div",null,[1==e.row.status?N("div",null,[N("span",null,[Be("Crontab.Planned.index_79")]),N(G,{class:"items-center mt-8px"},{default:()=>[N(Q,{checked:l.value,"on-update:checked":e=>{l.value=e}},null),Be("Crontab.Planned.index_80")]})]):"",0==e.row.status?N("div",null,[Be("Crontab.Planned.index_81")]):""]),onConfirm:async()=>{await C({id:e.row.id,if_stop:l.value}),e.row.status=a}})},value:e.row.status.toString()},null),Ve=a=>{const{row:t}=a;return N("div",null,["logs"==t.sType?N("span",null,[t.save]):"","logs"!==t.sType?N("div",null,[t.save?"":N("span",null,[j("--")]),t.save>0?N(e,{type:t.save>0?"primary":"warning",onClick:()=>{_({title:"".concat(Be("Crontab.Script.index_35")," [").concat(t.name,"]"),width:800,minHeight:200,data:{row:t},component:L(()=>l(()=>import("./index114.js?v=1764233927359"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])))})}},{default:()=>[t.save]}):""]):""])},Ie={class:"w-160px"},Ae=E({__name:"index",props:{value:{default:null}},setup(e){const{t:a}=V(),n=L(()=>l(()=>import("./set2.js?v=1764233927359"),__vite__mapDeps([16,17,4,5,7,8,3,6,10,9,18,19,13]))),o=I(e,"value"),{loading:d,setLoading:s}=v(),i=B([]),r=m(a("Crontab.Planned.index_29"),{setOptions:(e,a)=>{a===o.value&&(o.value="-1"),i.value=e.map(e=>({label:e.name,value:e.id})),c()}}),p=()=>{r.show=!0},c=()=>{i.value.unshift({label:a("Site.PHP.index_45"),value:""},{label:a("Crontab.Planned.index_82"),value:"-1"},{label:a("Crontab.Planned.index_83"),value:"0"})};return c(),(async()=>{try{s(!0);const{message:e}=await k();t(e)?i.value=e.map(e=>({label:e.name,value:e.id})):i.value=[],c()}finally{s(!1)}})(),(e,a)=>{const l=X,t=Y,s=u;return R(),A("div",Ie,[N(t,{value:D(o),"onUpdate:value":a[0]||(a[0]=e=>H(o)?o.value=e:null),loading:D(d),options:D(i)},{action:q(()=>[N(l,{block:"",onClick:p},{default:q(()=>[j(O(e.$t("Site.PHP.index_43")),1)]),_:1})]),_:1},8,["value","loading","options"]),N(s,{show:D(r).show,"onUpdate:show":a[1]||(a[1]=e=>D(r).show=e),width:350,title:D(r).title,data:D(r).data,component:D(n)},null,8,["show","title","data","component"])])}}}),{t:Re}=a.global,qe={name:{required:!0,trigger:["blur","input"],message:Re("Crontab.Planned.index_49")},sName:{required:!0,trigger:["blur","input"],message:Re("Security.Conf.Index_28")},day:{trigger:["blur","input"],validator:(e,a)=>!(a>=32||a<1||""==a)||new Error("".concat(Re("Site.Placeholder.Index_10")," 1-31"))},hour:{trigger:["blur","input"],validator:(e,a)=>!(a>=24||a<0||null==a)||new Error("".concat(Re("Site.Placeholder.Index_10")," 0-23"))},second:{required:!0,trigger:["blur","input"],validator:(e,a)=>!(a>=60||a<1||""==a)||new Error("".concat(Re("Site.Placeholder.Index_10")," 1-59"))},sBody:{required:!0,trigger:["blur","input"],message:Re("Crontab.Planned.index_50")},save:{trigger:["blur","input"],validator:(e,a)=>!(a<=0||""==a)||new Error(Re("Crontab.Planned.index_51"))},url:{required:!0,trigger:["blur","input"],message:Re("Crontab.Planned.index_53")},splitValue:{trigger:["blur","input"],required:!0,type:"number",message:Re("Site.Placeholder.Index_10")}},Oe={class:"mt-8px"},De=n(E({__name:"time-select",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=W(e,"modelValue");return(e,l)=>{const t=Y,n=ee,o=le,d=te,s=ae,i=G;return R(),z(i,null,{default:q(()=>[N(n,{label:e.$t("Crontab.Planned.index_9")},{default:q(()=>[N(t,{class:"w-105px!",value:a.value.time,"onUpdate:value":l[0]||(l[0]=e=>a.value.time=e),options:D(re)},null,8,["value","options"])]),_:1},8,["label"]),"day-n"==a.value.time||"month"==a.value.time?(R(),z(n,{key:0,path:"day"},{default:q(()=>[N(s,{class:"w-100px!"},{default:q(()=>[N(o,{value:a.value.day,"onUpdate:value":l[1]||(l[1]=e=>a.value.day=e),"show-button":!1,placeholder:""},null,8,["value"]),N(d,null,{default:q(()=>[j(O(e.$t("Crontab.arrange.index_41")),1)]),_:1})]),_:1})]),_:1})):J("",!0),"week"==a.value.time?(R(),z(n,{key:1,path:"week"},{default:q(()=>[N(t,{class:"w-100px!",value:a.value.week,"onUpdate:value":l[2]||(l[2]=e=>a.value.week=e),options:D(pe)},null,8,["value","options"])]),_:1})):J("",!0),"hour"!==a.value.time&&"minute-n"!==a.value.time&&"second-n"!==a.value.time?(R(),z(n,{key:2,path:"hour"},{default:q(()=>[N(s,null,{default:q(()=>[N(o,{value:a.value.hour,"onUpdate:value":l[3]||(l[3]=e=>a.value.hour=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"hour"}},null,8,["value"]),N(d,null,{default:q(()=>[j(O(e.$t("Crontab.arrange.index_43")),1)]),_:1})]),_:1})]),_:1})):J("",!0),"second-n"!==a.value.time?(R(),z(n,{key:3,path:"minute",class:"second"},{default:q(()=>[N(s,null,{default:q(()=>[N(o,{value:a.value.minute,"onUpdate:value":l[4]||(l[4]=e=>a.value.minute=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"minute"}},null,8,["value"]),N(d,null,{default:q(()=>[j(O(e.$t("Crontab.arrange.index_44")),1)]),_:1})]),_:1})]),_:1})):J("",!0),"second-n"==a.value.time?(R(),z(n,{key:4,path:"second"},{default:q(()=>[N(s,null,{default:q(()=>[N(o,{value:a.value.second,"onUpdate:value":l[5]||(l[5]=e=>a.value.second=e),class:"w-50px","show-button":!1,placeholder:"","input-props":{name:"second"}},null,8,["value"]),N(d,null,{default:q(()=>[j(O(e.$t("Waf.Setting.config_53")),1)]),_:1})]),_:1})]),_:1})):J("",!0),K("span",Oe,O(D(ce)(a.value)),1)]),_:1})}}}),[["__scopeId","data-v-d96e3c07"]]),He={class:"p-20px"},We={class:"w-250px"},ze={class:"w-350px"},Je={class:"w-250px"},Ke={class:"w-550px"},Fe={key:2},Me={key:0,class:"ml-126px mb-8px mt--10px"},Ze={key:0},Ge={class:"mr-10px"},Qe={class:"mr-10px text-nowrap"},Xe={key:1},Ye={class:"ml-8px color-#ef0808"},ea=E({__name:"index",props:{data:{}},setup(e,{expose:a}){const l=e,{getList:t,isEdit:n,row:s}=l.data,{t:i}=V(),u=B(null),r=F({type:"toShell",name:"",get newName(){return"".concat(p.value).concat(p.value?c.value?c.value:"[ALL]":"").concat("database"!=this.type||n?"":"--".concat(this.databaseType))},time:"day",day:1,week:"1",hour:1,minute:30,second:5,user:"root",sBody:"",reminder:"0",message:"ALL",sName:"ALL",backupTo:"localhost",save:3,databaseType:"mysql",zip:"",url:"http://",agent:"",dbBackupPath:"/www/backup",id:0,region:"Asia",splitType:"",splitValue:3,backup:!0}),p=B(""),c=B(""),_=(e,a)=>{c.value="[".concat(a.label,"]")},b=e=>{c.value="[".concat(e,"]")},m=e=>{c.value="[".concat(e,"]")},h=e=>{r.region=Se(e),r.sName=e,c.value="[".concat(Se(e)," / ").concat(e,"]")},x={...qe,minute:{required:!0,trigger:["blur","input"],validator:(e,a)=>a>=60||a<0||null==a?new Error("".concat(i("Site.Placeholder.Index_10")," 0-59")):"hour-n"!=r.time||0!=a||0!=r.hour||new Error(i("Crontab.Script.index_60"))}},w=async()=>{await Te(r.databaseType),r.sName="ALL",c.value=""},f=e=>{var a;null==(a=u.value)||a.restoreValidation(),r.sName="sync_time"===e?"Aqtau":"path"===e?"/www/wwwroot":"ALL",r.url="webshell"===e?"ALL":"http://",r.save="logs"===e?180:3,r.time="day",w(),Ne(e);const l=be.find(a=>a.value===e);p.value=l&&"toShell"!==r.type?l.label:"";c.value={path:"[/www/wwwroot]",toUrl:"[http://]",sync_time:"[Asia / Aqtau]",rememory:" "}[r.type]||""};M(()=>r.newName,e=>r.name=e);a({onConfirm:async({hide:e})=>{var a;await(null==(a=u.value)?void 0:a.validate()),n?await g(Z(je(r))):await P(Z(je(r))),null==t||t(),e()}});const{loading:C,setLoading:k}=v();return(async()=>{try{k(!0),await Ne(n?s.sType:"toShell"),n&&s&&(r.type=s.sType,r.name=s.name,r.time=s.type,r.day=Number(s.where1),r.week=s.where1,r.hour=s.where_hour,r.minute=s.where_minute?s.where_minute:Number(s.where1),r.second=Number(s.second),r.user=s.user,r.sBody=s.sBody,r.reminder=s.notice.toString(),r.message=s.notice_channel,r.sName=s.sName,r.backupTo=Le(s.backupTo),r.databaseType=s.db_type,r.save=Number(s.save),r.url=s.urladdress,r.agent=s.user_agent,r.dbBackupPath=s.db_backup_path,r.id=s.id,r.splitType=s.split_type,r.splitValue=Number(s.split_value),r.backup=!!s.save_local)}finally{k(!1)}})(),(e,a)=>{const l=Y,t=ee,s=ne,i=ue,p=G,c=ie,v=le,k=te,g=ae,P=Q,U=o,$=X,S=se,T=d,L=oe,B=y;return R(),A("div",He,[N(T,{show:D(C)},{default:q(()=>[N(S,{ref_key:"formRef",ref:u,model:D(r),rules:x},{default:q(()=>[N(t,{label:e.$t("Crontab.Planned.index_60")},{default:q(()=>[K("div",We,[N(l,{value:D(r).type,"onUpdate:value":[a[0]||(a[0]=e=>D(r).type=e),f],options:D(be),disabled:D(n),"render-label":D(_e)},null,8,["value","options","disabled","render-label"])])]),_:1},8,["label"]),N(t,{label:e.$t("Crontab.Planned.index_61"),path:"name"},{default:q(()=>[K("div",ze,[N(s,{value:D(r).name,"onUpdate:value":a[1]||(a[1]=e=>D(r).name=e),"input-props":{name:"name"},disabled:D(ve)(D(r).type),placeholder:e.$t("Crontab.Planned.index_49")},null,8,["value","disabled","placeholder"])])]),_:1},8,["label"]),N(De,{modelValue:D(r),"onUpdate:modelValue":a[2]||(a[2]=e=>H(r)?r.value=e:null)},null,8,["modelValue"]),"toShell"==D(r).type?(R(),z(t,{key:0,label:e.$t("Crontab.Planned.index_62")},{default:q(()=>[K("div",Je,[N(l,{value:D(r).user,"onUpdate:value":a[3]||(a[3]=e=>D(r).user=e),options:D(me)},null,8,["value","options"])])]),_:1},8,["label"])):J("",!0),"toShell"==D(r).type?(R(),z(t,{key:1,label:e.$t("Crontab.Planned.index_63"),path:"sBody"},{default:q(()=>[K("div",Ke,[N(i,{value:D(r).sBody,"onUpdate:value":a[4]||(a[4]=e=>D(r).sBody=e),rows:8,name:"sBody",placeholder:e.$t("Crontab.Planned.index_50")},null,8,["value","placeholder"])])]),_:1},8,["label"])):J("",!0),"site"==D(r).type||"database"==D(r).type||"enterpriseBackup"==D(r).type||"path"==D(r).type?(R(),A("div",Fe,[N(p,null,{default:q(()=>[N(t,{label:e.$t("Crontab.Planned.index_64")},{default:q(()=>[N(l,{class:"w-200px!",value:D(r).reminder,"onUpdate:value":a[5]||(a[5]=e=>D(r).reminder=e),options:D(ye)},null,8,["value","options"])]),_:1},8,["label"]),"1"==D(r).reminder?(R(),z(t,{key:0,label:e.$t("Crontab.Planned.index_65")},{default:q(()=>[N(l,{class:"w-200px!",value:D(r).message,"onUpdate:value":a[6]||(a[6]=e=>D(r).message=e),options:D(xe),"render-label":D(he)},null,8,["value","options","render-label"])]),_:1},8,["label"])):J("",!0)]),_:1}),"1"==D(r).reminder?(R(),A("div",Me,O(e.$t("Crontab.Planned.index_66")),1)):J("",!0),N(p,null,{default:q(()=>["path"==D(r).type?(R(),z(t,{key:0,label:e.$t("Crontab.Planned.index_67"),path:"sName"},{default:q(()=>[N(c,{value:D(r).sName,"onUpdate:value":a[7]||(a[7]=e=>D(r).sName=e),disabled:D(n),onChange:b},null,8,["value","disabled"])]),_:1},8,["label"])):J("",!0),"path"!==D(r).type?(R(),z(t,{key:1,label:"site"==D(r).type?e.$t("Crontab.Planned.index_68"):e.$t("Crontab.Planned.index_69")},{default:q(()=>[N(p,null,{default:q(()=>["site"==D(r).type?(R(),z(l,{key:0,class:"w-200px!",value:D(r).sName,"onUpdate:value":[a[8]||(a[8]=e=>D(r).sName=e),_],disabled:D(n),filterable:"",options:D(we)},null,8,["value","disabled","options"])):J("",!0),"database"==D(r).type?(R(),z(l,{key:1,class:"w-120px!",value:D(r).databaseType,"onUpdate:value":[a[9]||(a[9]=e=>D(r).databaseType=e),w],disabled:D(n),options:D(fe)},null,8,["value","disabled","options"])):J("",!0),"database"==D(r).type||"enterpriseBackup"==D(r).type?(R(),z(p,{key:2,class:"items-center"},{default:q(()=>["database"==D(r).type?(R(),A("div",Ze,O(e.$t("Site.PHP.add_site_16")),1)):J("",!0),N(l,{class:"w-140px!",value:D(r).sName,"onUpdate:value":[a[10]||(a[10]=e=>D(r).sName=e),_],filterable:"",options:D(Ce),disabled:D(n)},null,8,["value","options","disabled"])]),_:1})):J("",!0)]),_:1})]),_:1},8,["label"])):J("",!0),N(t,null,{default:q(()=>[K("span",Ge,O(e.$t("Crontab.Planned.index_11")),1),N(l,{class:"w-150px!",value:D(r).backupTo,"onUpdate:value":a[11]||(a[11]=e=>D(r).backupTo=e),options:D(ke)},null,8,["value","options"])]),_:1}),N(t,{path:"save"},{default:q(()=>[K("span",Qe,O(e.$t("Docker.Container.log.index_18")),1),N(g,null,{default:q(()=>[N(v,{class:"w-50px!",value:D(r).save,"onUpdate:value":a[12]||(a[12]=e=>D(r).save=e),"show-button":!1,placeholder:""},null,8,["value"]),N(k,null,{default:q(()=>[j(O(e.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1}),"localhost"!==D(r).backupTo?(R(),A("div",Xe,[N(t,{label:e.$t("Crontab.Script.index_55")},{default:q(()=>[N(P,{checked:D(r).backup,"onUpdate:checked":a[13]||(a[13]=e=>D(r).backup=e)},{default:q(()=>[j(O(e.$t("Crontab.Script.index_56")),1)]),_:1},8,["checked"])]),_:1},8,["label"])])):J("",!0)])):J("",!0),"site"==D(r).type||"path"==D(r).type?(R(),z(t,{key:3,label:e.$t("Crontab.Planned.index_70"),path:"rules"},{default:q(()=>[N(s,{class:"w-550px!",autosize:{minRows:8},value:D(r).sBody,"onUpdate:value":a[14]||(a[14]=e=>D(r).sBody=e),type:"textarea",placeholder:D(ge)},null,8,["value","placeholder"])]),_:1},8,["label"])):J("",!0),"enterpriseBackup"==D(r).type?(R(),z(t,{key:4,label:e.$t("Crontab.Planned.index_71")},{default:q(()=>[N(s,{class:"w-250px!",value:D(r).zip,"onUpdate:value":a[15]||(a[15]=e=>D(r).zip=e),type:"text",placeholder:e.$t("Crontab.Planned.index_72")},null,8,["value","placeholder"]),K("span",Ye," *"+O(e.$t("Crontab.Planned.index_73")),1)]),_:1},8,["label"])):J("",!0),"logs"==D(r).type?(R(),z(p,{key:5},{default:q(()=>[N(t,{label:e.$t("Crontab.Planned.index_74")},{default:q(()=>[N(l,{class:"w-150px!",value:D(r).sName,"onUpdate:value":[a[16]||(a[16]=e=>D(r).sName=e),_],options:D(we),disabled:D(n)},null,8,["value","options","disabled"])]),_:1},8,["label"]),N(t,{path:"save"},{default:q(()=>[N(g,null,{default:q(()=>[N(v,{class:"w-50px!",value:D(r).save,"onUpdate:value":a[17]||(a[17]=e=>D(r).save=e),"show-button":!1,placeholder:""},null,8,["value"]),N(k,null,{default:q(()=>[j(O(e.$t("Crontab.Planned.index_94")),1)]),_:1})]),_:1})]),_:1})]),_:1})):J("",!0),"webshell"==D(r).type?(R(),z(t,{key:6,label:e.$t("Home.index_68")},{default:q(()=>[N(l,{class:"w-150px!",value:D(r).sName,"onUpdate:value":[a[18]||(a[18]=e=>D(r).sName=e),_],options:D(we),disabled:D(n)},null,8,["value","options","disabled"])]),_:1},8,["label"])):J("",!0),"webshell"==D(r).type?(R(),z(t,{key:7,label:e.$t("Crontab.Planned.index_65")},{default:q(()=>[N(l,{class:"w-200px!",value:D(r).url,"onUpdate:value":a[19]||(a[19]=e=>D(r).url=e),options:D(xe),"render-label":D(he)},null,8,["value","options","render-label"])]),_:1},8,["label"])):J("",!0),"sync_time"==D(r).type?(R(),z(t,{key:8,label:e.$t("Crontab.Planned.index_75")},{default:q(()=>[N(U,{class:"w-300px!",value:D(r).sName,"onUpdate:value":a[20]||(a[20]=e=>D(r).sName=e),options:D(Pe),"on-update:value":h,"check-strategy":"child"},null,8,["value","options"])]),_:1},8,["label"])):J("",!0),"toUrl"==D(r).type?(R(),z(p,{key:9},{default:q(()=>[N(t,{label:e.$t("Site.Proxy.index_11"),path:"url"},{default:q(()=>[N(s,{class:"w-350px!",value:D(r).url,"onUpdate:value":a[21]||(a[21]=e=>D(r).url=e),placeholder:"",onInput:m},null,8,["value"])]),_:1},8,["label"]),N(t,{path:"url"},{default:q(()=>[N($,{onClick:a[22]||(a[22]=e=>D(Ue)(D(r).url))},{default:q(()=>[j(O(e.$t("Crontab.Planned.index_84")),1)]),_:1})]),_:1})]),_:1})):J("",!0),"toUrl"==D(r).type?(R(),z(t,{key:10,label:e.$t("Crontab.Planned.index_76")},{default:q(()=>[N(s,{class:"w-350px!",type:"textarea",value:D(r).agent,"onUpdate:value":a[23]||(a[23]=e=>D(r).agent=e),placeholder:e.$t("Crontab.Planned.index_77")},null,8,["value","placeholder"])]),_:1},8,["label"])):J("",!0)]),_:1},8,["model"])]),_:1},8,["show"]),"second-n"==D(r).time?(R(),z(L,{key:0,type:"warning"},{default:q(()=>a[24]||(a[24]=[K("span",null,"To maintain service stability and ensure smooth performance, please refrain from frequently running high-load scripts and avoid adding too many such tasks",-1)])),_:1,__:[24]})):J("",!0),D($e)(D(r).type)?(R(),z(B,{key:1},{default:q(()=>[K("li",null,O(D($e)(D(r).type)),1)]),_:1})):J("",!0)])}}}),aa=E({__name:"index",setup(e){const a=s(),n=L(()=>l(()=>import("./index115.js?v=1764233927359"),__vite__mapDeps([20,21,3,4,5,6,7,8,9,10,22,19,13,23]))),{t:o}=V(),d=()=>{A.title=o("Crontab.Planned.index_4"),A.data.isEdit=!1,A.show=!0},c=e=>{W.title=o("Crontab.Planned.index_6",[e.name]),W.data.id=e.id,W.show=!0},{keys:y,table:C,columns:k}=h([{type:"selection",width:40},{key:"name",title:o("Site.TableRow.index_2"),minWidth:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"status",title:o("Public.Table.Status"),minWidth:90,render:e=>N(Ee,{row:e},null)},{key:"cycle",title:o("Crontab.Planned.index_9")},{key:"save",title:o("Crontab.Planned.index_10"),align:"center",minWidth:80,render:e=>N(Ve,{row:e},null)},{key:"backupTo",title:o("Crontab.Planned.index_11"),align:"center",render:e=>e.backupTo?e.backupTo:"--"},{key:"addtime",title:o("Crontab.Planned.index_12")},x({title:o("Public.Table.Operation"),width:240,options:e=>[{label:o("Docker.LocalImage.pull.index_12"),class:"execute-btn",onClick:()=>{b({title:o("Crontab.Planned.index_13"),content:o("Crontab.Planned.index_14",[e.name]),onConfirm:async()=>{await U({id:e.id}),I(),c(e)}})}},{label:o("Public.Btn.Edit"),class:"edit-btn",onClick:()=>{A.title=o("Crontab.arrange.index_37"),A.data.isEdit=!0,A.data.row=e,A.show=!0}},{label:o("Ftp.Table.index_15"),class:"logs-btn",onClick:()=>{c(e)}},{label:o("Public.Btn.Del"),class:"delete-btn",onClick:()=>{b({title:o("Crontab.arrange.index_3",[e.name]),content:o("Crontab.Planned.index_78",[e.name]),onConfirm:async()=>{await $({id:e.id}),I()}})}}]})]),g=[{key:"execute",type:"confirm",label:o("Crontab.Planned.index_20"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_20")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_20")]),columns:[k.value[1]],api:e=>U({id:e.id},!1),done:()=>{I()}}},{key:"start",label:o("Crontab.Planned.index_15"),onBatch:()=>{b({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_15")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_15")]),onConfirm:async({hide:e})=>{try{await S({id_list:JSON.stringify(y.value),type:"start",if_stop:!1}),i.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}I(),e()}})}},{key:"stop",label:o("Crontab.Planned.index_18"),onBatch:()=>{b({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_18")]),content:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_18")]),onConfirm:async({hide:e})=>{try{await S({id_list:JSON.stringify(y.value),type:"stop",if_stop:!1}),i.success(o("Security.Compiler.Index_4"))}catch(a){console.error(a)}I(),e()}})}},{key:"category",label:o("Crontab.Planned.index_19"),onBatch:e=>{_({title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_19")]),width:350,minHeight:72,footer:!0,data:{rows:e},component:L(()=>l(()=>import("./batch.js?v=1764233927359"),__vite__mapDeps([24,19,4,5,6,7,3,8,9,10,13])))})}},{key:"delete",type:"confirm",label:o("Crontab.Planned.index_22"),confirm:{title:o("Crontab.Planned.index_16",[o("Crontab.Planned.index_22")]),desc:o("Crontab.Planned.index_17",[o("Crontab.Planned.index_22")]),columns:[k.value[1]],api:e=>$({id:e.id},!1),done:()=>{I()}}}],P=F({search:"",type_id:"",order_param:""}),{loading:B,setLoading:E}=v(!0),I=async()=>{try{E(!0);const{message:e}=await T(Z({...P}));t(e)?C.data=e:(C.data=[],C.total=0)}finally{y.value=[],E(!1)}};I(),M(()=>a.isRefresh,e=>{e&&(a.setRefresh(!1),I())});const A=m(o("Crontab.Planned.index_4"),{getList:I}),W=m("",{getList:I});return(e,a)=>{const l=X,t=f,s=w,i=p,c=r,_=u,b=de;return R(),z(b,null,{default:q(()=>[N(c,{class:"p-16px",feedback:!0},{toolsLeft:q(()=>[N(l,{class:"add-task-btn",type:"primary",onClick:d},{default:q(()=>[j(O(D(o)("Crontab.Planned.index_4")),1)]),_:1})]),toolsRight:q(()=>[N(Ae,{value:D(P).type_id,"onUpdate:value":[a[0]||(a[0]=e=>D(P).type_id=e),I]},null,8,["value"]),N(t,{value:D(P).search,"onUpdate:value":a[1]||(a[1]=e=>D(P).search=e),placeholder:e.$t("Crontab.Planned.index_5"),onSearch:I},null,8,["value","placeholder"])]),table:q(()=>[N(s,{"checked-row-keys":D(y),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>H(y)?y.value=e:null),loading:D(B),data:D(C).data,columns:D(k)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:q(()=>[N(i,{"checked-row-keys":D(y),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>H(y)?y.value=e:null),data:D(C).data,options:g},null,8,["checked-row-keys","data"])]),_:1}),N(_,{show:D(A).show,"onUpdate:show":a[4]||(a[4]=e=>D(A).show=e),title:D(A).title,data:D(A).data,width:950,footer:!0,component:ea},null,8,["show","title","data"]),N(_,{show:D(W).show,"onUpdate:show":a[5]||(a[5]=e=>D(W).show=e),title:D(W).title,data:D(W).data,width:800,"min-height":550,footer:!1,component:D(n)},null,8,["show","title","data","component"])]),_:1})}}});export{aa as default};
