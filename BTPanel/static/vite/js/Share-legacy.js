System.register(["./index-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./page_layout-legacy.js?v=1763625242172","./index-legacy199.js?v=1763625242172","./index-legacy39.js?v=1763625242172","./ShareDetail.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./public-legacy.js?v=1763625242172","./soft-legacy2.js?v=1763625242172","./soft-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./file-legacy2.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763625242172"],(function(e,l){"use strict";var a,s,t,u,n,o,i,r,c,d,f,p,_,v,y,g,h,m,j,x,w,M,b,S,k,U,D,C,F;return{setters:[e=>{a=e._},e=>{s=e._},e=>{t=e.i,u=e.bf,n=e.c},e=>{o=e.g},e=>{i=e.g},e=>{r=e._},e=>{c=e.au,d=e.dP,f=e.dU,p=e.dT,_=e.aC},e=>{v=e.k,y=e.i,g=e.av,h=e.r,m=e.c,j=e.R,x=e.S,w=e.X,M=e.a3,b=e.U,S=e.V,k=e.j,U=e.a4,D=e.aj,C=e.F,F=e.N},null,null,null,null,null,null,null,null],execute:function(){const l={class:"p-20px"};e("default",v({__name:"Share",setup(e,{expose:v}){const{t:R}=t.global,L=y("fileStore"),{choosedKeys:N,fileList:q}=L,H=g("shareDetailRef"),K=h(!1),O=m((()=>"dir"==P.value.type?R("file.shareModal.setShareFolder",{name:P.value.nm}):R("file.shareModal.setShareFile",{name:P.value.nm}))),P=h({}),T=h({filename:"",ps:"",password:"",expire:24});async function V(){const{message:e}=await u.post("/files?action=create_download_url",F(T.value),{requestOptions:{loading:R("file.shareModal.creatingShareLink")}});n(e)&&(K.value=!1,H.value?.open(e),i(L))}function W(){T.value.password=o(8)}return v({open:function(){K.value=!0;const e=q.value.find((e=>N.value[0]==e.nm));P.value=e,T.value.ps=P.value.nm,T.value.filename=P.value.path},close:function(){K.value=!1}}),(e,t)=>{const u=c,n=d,o=f,i=p,v=_,y=s,g=a;return j(),x(C,null,[w(g,{show:S(K),"onUpdate:show":t[3]||(t[3]=e=>D(K)?K.value=e:null),title:S(O),width:560,footer:!0,"confirm-text":S(R)("file.shareModal.create"),onConfirm:V},{default:M((()=>[b("div",l,[w(y,null,{default:M((()=>[w(n,{label:S(R)("file.shareModal.shareName")},{default:M((()=>[w(u,{value:S(T).ps,"onUpdate:value":t[0]||(t[0]=e=>S(T).ps=e)},null,8,["value"])])),_:1},8,["label"]),w(n,{label:S(R)("file.shareModal.expirationDate")},{default:M((()=>[w(i,{value:S(T).expire,"onUpdate:value":t[1]||(t[1]=e=>S(T).expire=e)},{default:M((()=>[w(o,{value:24},{default:M((()=>[k(U(S(R)("file.shareModal.aDay")),1)])),_:1}),w(o,{value:168},{default:M((()=>[k(U(S(R)("file.shareModal.aWeek")),1)])),_:1}),w(o,{value:1130800},{default:M((()=>[k(U(S(R)("file.shareModal.permanent")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),w(n,{label:S(R)("file.shareModal.extractionCode"),"show-feedback":!1},{default:M((()=>[w(u,{value:S(T).password,"onUpdate:value":t[2]||(t[2]=e=>S(T).password=e)},null,8,["value"]),w(v,{class:"ml-10px",type:"primary",onClick:W},{default:M((()=>[k(U(S(R)("file.shareModal.random")),1)])),_:1})])),_:1},8,["label"])])),_:1})])])),_:1},8,["show","title","confirm-text"]),w(r,{ref_key:"shareDetailRef",ref:H},null,512)],64)}}}))}}}));
