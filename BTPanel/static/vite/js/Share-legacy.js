System.register(["./index-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./index-legacy209.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./ShareDetail.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./soft-legacy2.js?v=1769066082311","./soft-legacy.js?v=1769066082311","./site-legacy.js?v=1769066082311"],function(e,a){"use strict";var l,t,s,u,n,o,r,i,c,d,f,p,_,v,h,y,g,m,j,x,w,M,S,b,k,U,C,D,F;return{setters:[e=>{l=e._},e=>{t=e._},e=>{s=e.i,u=e.aE,n=e.d},e=>{o=e.g},e=>{r=e.w},e=>{i=e._},e=>{c=e.dS,d=e.au,f=e.dU,p=e.dV,_=e.aC},e=>{v=e.k,h=e.i,y=e.av,g=e.r,m=e.c,j=e.R,x=e.V,w=e.W,M=e.a3,S=e.S,b=e.U,k=e.j,U=e.a4,C=e.ak,D=e.F,F=e.N},null,null,null,null,null,null],execute:function(){const a={class:"p-20px"};e("default",v({__name:"Share",setup(e,{expose:v}){const{t:R}=s.global,L=h("fileStore"),{choosedKeys:N,fileList:V}=L,W=y("shareDetailRef"),q=g(!1),z=m(()=>"dir"==E.value.type?R("file.shareModal.setShareFolder",{name:E.value.nm}):R("file.shareModal.setShareFile",{name:E.value.nm})),E=g({}),H=g({filename:"",ps:"",password:"",expire:24});async function K(){const{message:e}=await u.post("/files?action=create_download_url",F(H.value),{requestOptions:{loading:R("file.shareModal.creatingShareLink")}});n(e)&&(q.value=!1,W.value?.open(e),r(L))}function O(){H.value.password=o(8)}return v({open:function(){q.value=!0;const e=V.value.find(e=>N.value[0]==e.nm);E.value=e,H.value.ps=E.value.nm,H.value.filename=E.value.path},close:function(){q.value=!1}}),(e,s)=>{const u=d,n=c,o=p,r=f,v=_,h=t,y=l;return x(),j(D,null,[w(y,{show:b(q),"onUpdate:show":s[3]||(s[3]=e=>C(q)?q.value=e:null),title:b(z),width:560,footer:!0,"confirm-text":b(R)("file.shareModal.create"),onConfirm:K},{default:M(()=>[S("div",a,[w(h,null,{default:M(()=>[w(n,{label:b(R)("file.shareModal.shareName")},{default:M(()=>[w(u,{value:b(H).ps,"onUpdate:value":s[0]||(s[0]=e=>b(H).ps=e)},null,8,["value"])]),_:1},8,["label"]),w(n,{label:b(R)("file.shareModal.expirationDate")},{default:M(()=>[w(r,{value:b(H).expire,"onUpdate:value":s[1]||(s[1]=e=>b(H).expire=e)},{default:M(()=>[w(o,{value:24},{default:M(()=>[k(U(b(R)("file.shareModal.aDay")),1)]),_:1}),w(o,{value:168},{default:M(()=>[k(U(b(R)("file.shareModal.aWeek")),1)]),_:1}),w(o,{value:1130800},{default:M(()=>[k(U(b(R)("file.shareModal.permanent")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),w(n,{label:b(R)("file.shareModal.extractionCode"),"show-feedback":!1},{default:M(()=>[w(u,{value:b(H).password,"onUpdate:value":s[2]||(s[2]=e=>b(H).password=e)},null,8,["value"]),w(v,{class:"ml-10px",type:"primary",onClick:O},{default:M(()=>[k(U(b(R)("file.shareModal.random")),1)]),_:1})]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title","confirm-text"]),w(i,{ref_key:"shareDetailRef",ref:W},null,512)],64)}}}))}}});
