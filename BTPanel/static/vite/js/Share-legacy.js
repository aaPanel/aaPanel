System.register(["./index-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1756367574781","./page_layout-legacy.js?v=1756367574781","./index-legacy199.js?v=1756367574781","./index-legacy39.js?v=1756367574781","./ShareDetail.vue_vue_type_script_setup_true_lang-legacy.js?v=1756367574781","./naive-legacy.js?v=1756367574781","./vue-legacy.js?v=1756367574781","./common-legacy.js?v=1756367574781","./__commonjsHelpers__-legacy.js?v=1756367574781","./public-legacy.js?v=1756367574781","./soft-legacy2.js?v=1756367574781","./soft-legacy.js?v=1756367574781","./file-legacy2.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1756367574781"],function(e,a){"use strict";var l,t,s,u,n,o,i,r,d,c,f,p,_,v,y,g,h,m,j,x,w,M,b,S,k,U,D,C,R;return{setters:[e=>{l=e._},e=>{t=e._},e=>{s=e.i,u=e.t,n=e.d},e=>{o=e.g},e=>{i=e.g},e=>{r=e._},e=>{d=e.dR,c=e.au,f=e.dT,p=e.dU,_=e.aC},e=>{v=e.k,y=e.i,g=e.aw,h=e.r,m=e.c,j=e.R,x=e.V,w=e.W,M=e.a3,b=e.S,S=e.U,k=e.j,U=e.a4,D=e.ak,C=e.F,R=e.N},null,null,null,null,null,null,null],execute:function(){const a={class:"p-20px"};e("default",v({__name:"Share",setup(e,{expose:v}){const{t:F}=s.global,L=y("fileStore"),{choosedKeys:N,fileList:W}=L,q=g("shareDetailRef"),H=h(!1),K=m(()=>"dir"==O.value.type?F("file.shareModal.setShareFolder",{name:O.value.nm}):F("file.shareModal.setShareFile",{name:O.value.nm})),O=h({}),T=h({filename:"",ps:"",password:"",expire:24});async function V(){const{message:e}=await u.post("/files?action=create_download_url",R(T.value),{requestOptions:{loading:F("file.shareModal.creatingShareLink")}});n(e)&&(H.value=!1,q.value?.open(e),i(L))}function z(){T.value.password=o(8)}return v({open:function(){H.value=!0;const e=W.value.find(e=>N.value[0]==e.nm);O.value=e,T.value.ps=O.value.nm,T.value.filename=O.value.path},close:function(){H.value=!1}}),(e,s)=>{const u=c,n=d,o=p,i=f,v=_,y=t,g=l;return x(),j(C,null,[w(g,{show:S(H),"onUpdate:show":s[3]||(s[3]=e=>D(H)?H.value=e:null),title:S(K),width:560,footer:!0,"confirm-text":S(F)("file.shareModal.create"),onConfirm:V},{default:M(()=>[b("div",a,[w(y,null,{default:M(()=>[w(n,{label:S(F)("file.shareModal.shareName")},{default:M(()=>[w(u,{value:S(T).ps,"onUpdate:value":s[0]||(s[0]=e=>S(T).ps=e)},null,8,["value"])]),_:1},8,["label"]),w(n,{label:S(F)("file.shareModal.expirationDate")},{default:M(()=>[w(i,{value:S(T).expire,"onUpdate:value":s[1]||(s[1]=e=>S(T).expire=e)},{default:M(()=>[w(o,{value:24},{default:M(()=>[k(U(S(F)("file.shareModal.aDay")),1)]),_:1}),w(o,{value:168},{default:M(()=>[k(U(S(F)("file.shareModal.aWeek")),1)]),_:1}),w(o,{value:1130800},{default:M(()=>[k(U(S(F)("file.shareModal.permanent")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),w(n,{label:S(F)("file.shareModal.extractionCode"),"show-feedback":!1},{default:M(()=>[w(u,{value:S(T).password,"onUpdate:value":s[2]||(s[2]=e=>S(T).password=e)},null,8,["value"]),w(v,{class:"ml-10px",type:"primary",onClick:z},{default:M(()=>[k(U(S(F)("file.shareModal.random")),1)]),_:1})]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title","confirm-text"]),w(r,{ref_key:"shareDetailRef",ref:q},null,512)],64)}}}))}}});
