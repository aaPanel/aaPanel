System.register(["./index-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index-legacy204.js?v=1767769852656","./index-legacy38.js?v=1767769852656","./ShareDetail.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./soft-legacy2.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./file-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,a){"use strict";var l,s,t,u,n,o,i,r,d,c,f,p,_,v,y,g,h,m,j,x,w,M,b,S,k,U,D,C,R;return{setters:[e=>{l=e._},e=>{s=e._},e=>{t=e.i,u=e.aE,n=e.d},e=>{o=e.g},e=>{i=e.g},e=>{r=e._},e=>{d=e.dR,c=e.au,f=e.dT,p=e.dU,_=e.aC},e=>{v=e.k,y=e.i,g=e.av,h=e.r,m=e.c,j=e.R,x=e.V,w=e.W,M=e.a3,b=e.S,S=e.U,k=e.j,U=e.a4,D=e.ak,C=e.F,R=e.N},null,null,null,null,null,null,null,null],execute:function(){const a={class:"p-20px"};e("default",v({__name:"Share",setup(e,{expose:v}){const{t:F}=t.global,L=y("fileStore"),{choosedKeys:N,fileList:W}=L,q=g("shareDetailRef"),E=h(!1),H=m(()=>"dir"==K.value.type?F("file.shareModal.setShareFolder",{name:K.value.nm}):F("file.shareModal.setShareFile",{name:K.value.nm})),K=h({}),O=h({filename:"",ps:"",password:"",expire:24});async function T(){const{message:e}=await u.post("/files?action=create_download_url",R(O.value),{requestOptions:{loading:F("file.shareModal.creatingShareLink")}});n(e)&&(E.value=!1,q.value?.open(e),i(L))}function V(){O.value.password=o(8)}return v({open:function(){E.value=!0;const e=W.value.find(e=>N.value[0]==e.nm);K.value=e,O.value.ps=K.value.nm,O.value.filename=K.value.path},close:function(){E.value=!1}}),(e,t)=>{const u=c,n=d,o=p,i=f,v=_,y=s,g=l;return x(),j(C,null,[w(g,{show:S(E),"onUpdate:show":t[3]||(t[3]=e=>D(E)?E.value=e:null),title:S(H),width:560,footer:!0,"confirm-text":S(F)("file.shareModal.create"),onConfirm:T},{default:M(()=>[b("div",a,[w(y,null,{default:M(()=>[w(n,{label:S(F)("file.shareModal.shareName")},{default:M(()=>[w(u,{value:S(O).ps,"onUpdate:value":t[0]||(t[0]=e=>S(O).ps=e)},null,8,["value"])]),_:1},8,["label"]),w(n,{label:S(F)("file.shareModal.expirationDate")},{default:M(()=>[w(i,{value:S(O).expire,"onUpdate:value":t[1]||(t[1]=e=>S(O).expire=e)},{default:M(()=>[w(o,{value:24},{default:M(()=>[k(U(S(F)("file.shareModal.aDay")),1)]),_:1}),w(o,{value:168},{default:M(()=>[k(U(S(F)("file.shareModal.aWeek")),1)]),_:1}),w(o,{value:1130800},{default:M(()=>[k(U(S(F)("file.shareModal.permanent")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),w(n,{label:S(F)("file.shareModal.extractionCode"),"show-feedback":!1},{default:M(()=>[w(u,{value:S(O).password,"onUpdate:value":t[2]||(t[2]=e=>S(O).password=e)},null,8,["value"]),w(v,{class:"ml-10px",type:"primary",onClick:V},{default:M(()=>[k(U(S(F)("file.shareModal.random")),1)]),_:1})]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title","confirm-text"]),w(r,{ref_key:"shareDetailRef",ref:q},null,512)],64)}}}))}}});
