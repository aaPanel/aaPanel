System.register(["./public-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656"],function(e,a){"use strict";var l,s,i,n,t,u,r,o,p,d,_,m,c,v,h,y,g,f,k,S,b,w,D,x,P,L,j,I,A;return{setters:[e=>{l=e.d,s=e._},e=>{i=e.o,n=e.T,t=e.cQ,u=e.gX,r=e.gY,o=e.x},e=>{p=e._},e=>{d=e.k,_=e.P,m=e.r,c=e.c,v=e.e,h=e.a2,y=e.V,g=e.a3,f=e.W,k=e.an,S=e.U,b=e.l,w=e.S,D=e.v,x=e.j,P=e.a4},e=>{L=e.dR,j=e.dj,I=e.dV,A=e.au},null,null],execute:function(){const a={class:"w-300px"},$={class:"w-300px"},C={class:"w-300px"};e("default",d({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:d,emit:U}){const F=e,N=U,{isEdit:T,row:B}=F,{t:E}=_(),q=m(null),K=m([]),V=c(()=>"CloudFlareDns"===G.name),W=c(()=>"NameSiloDns"!==G.name&&"global"===G.permission),R=c(()=>"PorkBunDns"===G.name||"GodaddyDns"===G.name),G=v({name:"",api_user:"",api_key:"",alias:"",permission:"global",status:1}),H={api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==G.name&&!a)||new Error(E("SSL.Domain.index_1"))},api_key:{required:!0,trigger:"blur",message:E("SSL.Domain.index_2")},alias:{required:!0,trigger:"blur",message:E("SSL.Domain.index_6")}},Q=e=>{"CloudFlareDns"!==e&&"limit"===G.permission&&(G.permission="global"),q.value?.restoreValidation()},X=m(""),Y=m(!0),z=()=>{Y.value&&(G.api_user="")},J=()=>{!G.api_user&&Y.value?G.api_user=X.value:G.api_user&&(Y.value=!1)},M=()=>({id:T&&B?B.id:null,name:T&&B&&G.name===B.name?null:G.name,api_user:T&&B&&G.api_user===B.api_user?null:W.value?G.api_user:"",api_key:T&&B&&G.api_key===B.api_key?null:G.api_key,permission:T&&B&&G.permission===B.permission?null:"CloudFlareDns"===G.name?G.permission:"",status:T&&B&&G.status===B.status?null:G.status,alias:T&&B&&G.alias===B.alias?null:G.alias}),{loading:O,setLoading:Z}=l();return(async()=>{try{Z(!0);const{message:e}=await r();o(e)&&e.length>0&&(G.name=e[0],K.value=e.map(e=>({label:e,value:e})))}finally{(()=>{const{row:e,isEdit:a}=F;a&&e&&(G.name=e.name,G.api_user=e.api_user,X.value=e.api_user,G.api_key=e.api_key,G.permission=e.permission,G.status=e.status,G.alias=e.alias)})(),Z(!1)}})(),d({onConfirm:async()=>{await(q.value?.validate()),T&&B?await t(M()):await u(M()),N("refresh")}}),(e,l)=>{const t=j,u=L,r=I,o=A,d=p,_=i,m=s,c=n;return y(),h(c,{class:"p-20px",show:S(O)},{default:g(()=>[f(d,{ref_key:"formRef",ref:q,model:S(G),rules:H},{default:g(()=>[f(u,{label:e.$t("Public.Table.Status"),path:"status"},{default:g(()=>[f(t,{value:S(G).status,"onUpdate:value":l[0]||(l[0]=e=>S(G).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),f(u,{label:e.$t("Config.Alarm.index_43"),path:"name"},{default:g(()=>[f(r,{class:"w-300px",value:S(G).name,"onUpdate:value":[l[1]||(l[1]=e=>S(G).name=e),Q],options:S(K),disabled:S(T)},null,8,["value","options","disabled"])]),_:1},8,["label"]),S(W)?(y(),h(u,{key:0,label:S(R)?"Secret Key":"API User",path:"api_user"},{default:g(()=>[w("div",a,[f(o,{value:S(G).api_user,"onUpdate:value":l[2]||(l[2]=e=>S(G).api_user=e),placeholder:S(R)?"Please enter Secret Key":e.$t("SSL.Domain.index_1"),onFocus:z,onBlur:J},null,8,["value","placeholder"])])]),_:1},8,["label"])):k("",!0),f(u,{label:"API Key",path:"api_key"},{default:g(()=>[w("div",$,[f(o,{value:S(G).api_key,"onUpdate:value":l[3]||(l[3]=e=>S(G).api_key=e),placeholder:e.$t("SSL.Domain.index_2")},null,8,["value","placeholder"])])]),_:1}),f(u,{label:e.$t("Config.Panel.index_36"),path:"alias"},{default:g(()=>[w("div",C,[f(o,{value:S(G).alias,"onUpdate:value":l[4]||(l[4]=e=>S(G).alias=e),placeholder:e.$t("SSL.Domain.index_6")},null,8,["value","placeholder"])])]),_:1},8,["label"]),b(f(u,{label:"API-Limit",path:"permission"},{default:g(()=>[f(t,{value:S(G).permission,"onUpdate:value":l[5]||(l[5]=e=>S(G).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])]),_:1},512),[[D,S(V)]])]),_:1},8,["model"]),S(V)?(y(),h(m,{key:0},{default:g(()=>[w("li",null,[f(_,{target:"_blank",href:"https://www.aapanel.com/docs/Function/Tutorial/DNS_API_Tutorial.html"},{default:g(()=>[x(P(e.$t("SSL.Domain.index_3")),1)]),_:1})])]),_:1})):k("",!0),"NameCheapDns"===S(G).name?(y(),h(m,{key:1},{default:g(()=>[l[6]||(l[6]=w("li",null," Namecheap API needs added in Whitelisted IPs (only IPv4): Profile > Tools menu > Namecheap API Access > Whitelisted IPs, please check: ",-1)),w("li",null,[f(_,{target:"_blank",href:"https://www.namecheap.com/support/api/intro/"},{default:g(()=>[x(P(e.$t("SSL.Domain.index_3")),1)]),_:1})])]),_:1,__:[6]})):k("",!0),"NameSiloDns"===S(G).name||"PorkBunDns"===S(G).name?(y(),h(m,{key:2},{default:g(()=>[w("li",null,[f(_,{target:"_blank",href:"https://www.aapanel.com/docs/Function/Tutorial/DNS_API_Tutorial.html"},{default:g(()=>[x(P(e.$t("SSL.Domain.index_3")),1)]),_:1})])]),_:1})):k("",!0)]),_:1},8,["show"])}}}))}}});
