const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index91.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang13.js?v=1752142539265","js/page_layout.js?v=1752142539265","js/vue.js?v=1752142539265","js/__commonjsHelpers__.js?v=1752142539265","js/naive.js?v=1752142539265","js/common.js?v=1752142539265","css/page_layout.css?v=1752142539265","js/submit.js?v=1752142539265","js/index100.js?v=1752142539265","css/index17.css?v=1752142539265","js/like.js?v=1752142539265","css/submit.css?v=1752142539265","js/index92.js?v=1752142539265","js/index.js?v=1752142539265","css/index96.css?v=1752142539265","js/soft.js?v=1752142539265","js/soft2.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang18.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265","css/index16.css?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265","js/theme-chrome.js?v=1752142539265","js/file.js?v=1752142539265","css/index58.css?v=1752142539265","js/app-install-third.js?v=1752142539265","css/app-install-third.css?v=1752142539265","js/app-update.js?v=1752142539265","css/app-update.css?v=1752142539265","js/index93.js?v=1752142539265","css/index59.css?v=1752142539265","js/index94.js?v=1752142539265","js/paypal-js.js?v=1752142539265","js/open.js?v=1752142539265","js/configStore.js?v=1752142539265","css/configStore.css?v=1752142539265","css/open.css?v=1752142539265","css/index57.css?v=1752142539265","js/quota-config.js?v=1752142539265","js/config3.js?v=1752142539265","js/index95.js?v=1752142539265","css/index62.css?v=1752142539265"])))=>i.map(i=>d[i]);
import{g as e,m as a,_ as t,a as s,i as n,b as l,c as i,d as o,u as c,e as u,l as r,f as d,s as p,h as m,j as g,k as _,n as h,o as f,p as v,q as b,r as y,t as x,v as w,w as k,x as C}from"./page_layout.js?v=1752142539265";import{bo as P,bZ as j,aq as S,bR as M,bS as O,b_ as q,b$ as L,by as T,bX as V,Z as B,c0 as W,c1 as A,bV as E,c2 as D,c3 as z,ay as R}from"./naive.js?v=1752142539265";import{r as I,k as N,P as H,Q as F,j as $,o as U,n as Q,aa as K,e as J,_ as X,U as G,X as Y,q as Z,ab as ee,ac as ae,ad as te,c as se,ae as ne,w as le,a1 as ie,a2 as oe,s as ce,W as ue,N as re,a3 as de,V as pe,af as me,l as ge,ag as _e,ah as he,H as fe,F as ve,u as be,ai as ye,aj as xe,ak as we,b as ke,$ as Ce,al as Pe,y as je,G as Se,am as Me,an as Oe,m as qe}from"./vue.js?v=1752142539265";import"./common.js?v=1752142539265";const Le={dynamicModals:I([]),modalInstRefs:{}},Te=()=>Le;const Ve=N({name:"BtModal",props:{data:{type:Object}},setup(e){const{t:t}=H(),s=I(0),n=I(0),l=I(null),i=I(null);return i.value=null,s.value=Math.round(9*Math.random()+1),n.value=Math.round(9*Math.random()+1),U((()=>{Q((()=>{l.value&&l.value.focus()}))})),{sum:i,addend1:s,addend2:n,inputRef:l,onConfirm:async l=>{var o,c;return i.value===s.value+n.value?(await(null==(c=null==(o=e.data)?void 0:o.onConfirm)?void 0:c.call(o,l)),l.hide()):a.error(t("Component.Confirm.index_5")),!1}}},render(){var e;const{t:a}=H();return F("div",{class:"p-20px"},[F("div",{class:"flex items-center"},[F("div",{class:"flex-1 text-12px leading-20px"},[P(null==(e=this.data)?void 0:e.content)])]),F("div",{class:"confirm-calc-box flex items-center h-48px mt-12px px-12px bg-#f0f0f0"},[F("div",null,[a("Component.Confirm.index_4")]),F("div",{class:"confirm-calc-num mx-10px"},[this.addend1,$(" + "),this.addend2]),F("div",{class:"mr-10px"},[$("=")]),F("div",{class:"w-90px"},[F(j,{ref:"inputRef",size:"small",placeholder:"",inputProps:{name:"sum"},value:this.sum,showButton:!1,onUpdateValue:e=>{this.sum=e}},null)])])])}}),Be=N({name:"BtModal",props:{data:{type:Object}},setup(e){var t;const{t:s}=H(),n=I(null),l=I(""),i=I((null==(t=e.data)?void 0:t.text)||"");return U((()=>{Q((()=>{n.value&&n.value.focus()}))})),{text:i,result:l,inputRef:n,onConfirm:async t=>{var n,o;return l.value===i.value?(await(null==(o=null==(n=e.data)?void 0:n.onConfirm)?void 0:o.call(n,t)),t.hide()):a.error(s("Component.Confirm.index_2")),!1}}},render(){var e;return F("div",{class:"p-20px"},[F("div",{class:"flex items-center"},[F(t,{name:"base-warning",size:"30",color:"#f0a020"},null),F("div",{class:"flex-1  ml-12px text-13px leading-20px"},[P(null==(e=this.data)?void 0:e.content)])]),F("div",{class:"mt-16px p-12px bg-#e6e6e6"},[F(K,{tag:"div",keypath:"Component.Confirm.index_1",scope:"global"},{text_:F("span",{class:"text-error"},[this.text])}),F(S,{ref:"inputRef",size:"small",class:"mt-8px",placeholder:"",inputProps:{name:"confirm_text"},value:this.result,onUpdateValue:e=>{this.result=e}},null)])])}}),We=function(a){const t=e(),s=Te();return s.dynamicModals.value.push({...a,key:t,destroy:()=>{s.modalInstRefs["modal-".concat(t)].hide()}}),{hide:()=>{s.modalInstRefs["modal-".concat(t)].hide()}}},Ae=({title:e,content:a,width:s=350,onConfirm:n=()=>{},onPublicClose:l=()=>{}})=>We({title:e,width:s,footer:!0,onConfirm:n,onPublicClose:l,content:()=>F("div",{class:"flex p-20px"},[F(t,{name:"base-warning",size:"30",color:"#f0a020"},null),F("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[P(a)])])}),Ee=({title:e,content:a,width:t=350,onConfirm:s=()=>{}})=>{We({title:e,width:t,footer:!0,data:{content:a,onConfirm:s},component:Ve})},De=({text:e,title:a,content:t,width:s=470,onConfirm:n=()=>{}})=>{We({title:a,width:s,footer:!0,data:{text:e,content:t,onConfirm:n},component:Be})},ze=({title:e="",desc:a="",data:t=[],columns:n=[],api:l,done:i})=>{We({title:e,width:440,footer:!0,data:{title:e,desc:a,data:t,columns:n,api:l,done:i},component:X((()=>s((()=>import("./index91.js?v=1752142539265")),__vite__mapDeps([0,1,2,3,4,5,6,7]))))})};function Re(e="",a={}){return J({show:!1,title:e,data:a})}const{t:Ie}=n.global,Ne=e=>"0.00"!==e.price&&(-1==e.endtime||-2==e.endtime),He=e=>{switch(e.task){case"-1":return Ie("Soft.index_40");case"0":return Ie("Soft.index_41");case"-2":return Ie("Soft.index_42");case"1":return Ie("Public.Btn.Install");default:return"unknown"}},Fe=e=>e.versions.map((e=>"".concat(e.m_version,".").concat(e.version))).some((a=>5===e.type?Ue(e.version,a):Qe(e.version,a)))&&e.setup&&!Ne(e),$e=e=>e.versions.map((e=>"".concat(e.m_version,".").concat(e.version))).findIndex((a=>5===e.type?Ue(e.version,a):Qe(e.version,a))),Ue=(e,a)=>{const t=e.split(".").map(Number),s=a.split(".").map(Number),n=t[0],l=t[1],i=t[2]||0,o=s[0],c=s[1],u=s[2]||0;return n===o&&l===c&&(!(0===l&&c>0)&&(i<u?"".concat(n,".").concat(l,".").concat(u+1):!(""!==e||!a)&&a))},Qe=(e,a)=>{const t=e.split(".").map(Number),s=a.split(".").map(Number),n=t[0],l=t[1],i=t[2],o=s[0],c=s[1],u=s[2];if(o>n||o===n&&c>(void 0!==l?l:-1)||o===n&&c===(void 0!==l?l:-1)&&u>(void 0!==i?i:-1)){return[o,void 0!==c?c:"",void 0!==u?u:""].filter(Boolean).join(".")}return!1},Ke=()=>{We({width:574,minHeight:400,component:X((()=>s((()=>import("./submit.js?v=1752142539265")),__vite__mapDeps([8,9,3,4,2,5,6,7,10,11,12]))))})},Je=(e,a)=>{const t=We({width:620,minHeight:200,data:{name:e,callback:a,hide:()=>t.hide()},component:X((()=>s((()=>import("./index92.js?v=1752142539265")),__vite__mapDeps([13,14,3,4,6,2,5,7,15,16,17,18,19,20,21,22,23,24,25,26]))))})},Xe=(e,a)=>{We({title:Ie("Soft.index_25"),width:500,data:{data:e,callback:a},footer:!0,confirmText:Ie("Public.Btn.Install"),component:X((()=>s((()=>import("./app-install-third.js?v=1752142539265")),__vite__mapDeps([27,2,3,4,5,6,7,16,28]))))})},Ge=(e,a)=>{const t=We({width:620,minHeight:200,data:{row:e,callback:a,hide:()=>t.hide()},component:X((()=>s((()=>import("./app-update.js?v=1752142539265")),__vite__mapDeps([29,14,3,4,6,2,5,7,15,16,17,18,19,20,21,22,23,24,25,30]))))})};function Ye(e=!1){We({width:950,hideClose:e,component:X((()=>s((()=>import("./index93.js?v=1752142539265")),__vite__mapDeps([31,2,3,4,5,6,7,22,32]))))})}async function Ze(){if(!localStorage.getItem("loginActivityShown"))try{await l()}catch(e){Ye()}}function ea(e){return new Promise(((a,t)=>{if(c().isFree)return ta(e),void t(!1);a(!0)}))}async function aa(e){const{message:a}=await i({sName:e});if(o(a)&&!a.status)return Je(e),Promise.reject(!1)}async function ta(e){try{const a=c();let t="";if(a.aaPanelPro&&a.isFree)t=a.username;else{const{message:e}=await l();t=M(e,"data.username","")}We({width:1e3,height:720,hideClose:a.aaPanelPro&&a.isFree,data:{username:t,...e},component:X((()=>s((()=>import("./index94.js?v=1752142539265")),__vite__mapDeps([33,3,4,2,5,6,7,34,35,36,37,9,10,38,39]))))})}catch(a){Ye()}}function sa(e=!1){const a=I(e);return{loading:a,setLoading:(e,t=!0)=>{t&&(a.value=e)}}}function na(e){const a=I([]),t=J({data:[],total:0,loading:!1}),s=I(e);return{keys:a,table:t,columns:s,setLoading:(e,a=!0)=>{a&&(t.loading=e)}}}const la={class:"bt-tips-ul flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"};const ia=u({},[["render",function(e,a){return Y(),G("ul",la,[Z(e.$slots,"default")])}]]);async function oa(){await r("/static/vite/oldjs/jquery-2.2.4.min.js?v=1752142539265"),await r("/static/layer/layer.js?v=1752142539265"),await r("/static/vite/oldjs/jsencrypt.min.js?v=1752142539265"),await r("/static/language/English/lan.js?v=1752142539265")}async function ca(){await Promise.all([r("/static/codemirror/lib/codemirror.js?v=1752142539265"),r("/static/laydate/laydate.js?v=1752142539265"),r("/static/vite/oldjs/clipboard.min.js?v=1752142539265"),r("/static/vite/oldjs/soft.js?v=1752142539265"),r("/static/vite/oldjs/public.js?v=1752142539265"),r("/static/vite/oldjs/public_backup.js?v=1752142539265"),r("/static/vite/oldjs/tools.js?v=1752142539265")])}const ua=N({__name:"index",props:ee({data:{default:()=>[]},rowKey:{default:"id"},loading:{type:Boolean,default:!1},loadingNum:{default:10},isPage:{type:Boolean,default:!1},maxHeight:{},columns:{default:()=>[]},rowProps:{},storeKey:{}},{page:{default:()=>({page:1,pageSize:10})},pageModifiers:{}}),emits:["update:page"],setup(e){const a=e,t=ae(e,"page"),{t:s}=H(),{columns:n,data:l}=te(a),i=()=>O(re(n.value)),o=I(i()),c=i(),u=se((()=>{const{rowKey:e}=a;return d(e)?a=>a[e]:e})),r=se((()=>{const{storeKey:e}=a;return e?"".concat(e,"-page"):""})),h=I([]),f=ne(),v=J({style:{width:"100%"},showSizePicker:!0,showQuickJumper:!0,pageSizes:[10,20,50,100],prefix:()=>{var e;return null==(e=f.pagePrefix)?void 0:e.call(f)},suffix:e=>F("span",{class:"text-13px text-default"},[s("Public.Table.Page.index_4",[e.itemCount])]),onChange:e=>{t.value.page=e},onUpdatePageSize:e=>{t.value.page=1,t.value.pageSize=e,r.value&&p(r.value,String(e))}});(()=>{if(r.value){const e=m(r.value);e&&(t.value.pageSize=g(e))}})();const b=se((()=>({...v,page:t.value.page,pageSize:t.value.pageSize})));return le((()=>l.value),(e=>{a.loading||(h.value=e)}),{deep:!0}),le((()=>a.loading),(e=>{if(e){if(o.value.forEach((e=>{"selection"!==e.type&&(e.ellipsis&&delete e.ellipsis,e.render=()=>F(_,null,null))})),0===l.value.length)for(let t=0;t<a.loadingNum;t++){const e={},{rowKey:s}=a;e[d(s)?s:"id"]=t,h.value.push(e)}}else h.value=[],Q((()=>{o.value.forEach(((e,a)=>{if("selection"===e.type)return;const t=c[a];t.ellipsis&&(e.ellipsis=t.ellipsis),e.render=t.render})),h.value=l.value}))}),{immediate:!0}),le((()=>a.columns),(()=>{o.value=i(),c.splice(0,c.length),c.push(...i())}),{deep:!0}),(e,a)=>{const t=q;return Y(),ie(t,ce(e.$attrs,{data:ue(h),"max-height":e.maxHeight,"row-key":ue(u),columns:ue(o),pagination:!!e.isPage&&ue(b),"row-props":e.rowProps}),{empty:oe((()=>[Z(e.$slots,"empty")])),default:oe((()=>[Z(e.$slots,"pagePrefix")])),_:3},16,["data","max-height","row-key","columns","pagination","row-props"])}}}),ra={class:"leading-20px"},da=N({__name:"index",props:{type:{default:"site"},data:{},callback:{}},setup(e){const{t:a}=H(),t=e,n=se((()=>{const{data:e}=t,{quota:a}=e;return!a.size})),l=se((()=>{if(n.value)return 0;const{data:e}=t,a=M(e,"quota.used",0);let s=M(e,"quota.size",0);return s=1024*s*1024,0===s?0:a/s*100})),i=se((()=>{const{data:e}=t,a=M(e,"quota.used",0);return h(a)})),o=se((()=>{const{data:e}=t,a=M(e,"quota.size",0);return"".concat(a.toFixed(2)," MB")})),c=se((()=>l.value<90?"success":"error")),u=new Map([["site","Site"],["ftp","FTP"],["database","Database"]]),r=()=>{We({title:"".concat(a("Component.Quota.index_5",[t.data.name,u.get(t.type)||"--"])),width:480,minHeight:222,footer:!0,data:{type:t.type,info:t.data,callback:t.callback},component:X((()=>s((()=>import("./quota-config.js?v=1752142539265")),__vite__mapDeps([40,22,5,3,4,6,2,7,41]))))})};return(e,a)=>{const t=f,s=T,u=L;return ue(n)?(Y(),ie(t,{key:0,onClick:r},{default:oe((()=>[$(de(e.$t("Component.Quota.index_2")),1)])),_:1})):(Y(),G("div",{key:1,class:"cursor-pointer",onClick:r},[F(u,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:oe((()=>[F(s,{type:"line",status:ue(c),percentage:ue(l),height:12,"border-radius":2,"show-indicator":!1},null,8,["status","percentage"])])),default:oe((()=>[pe("div",ra,[pe("p",null,de(e.$t("Component.Quota.index_3",[ue(i)])),1),pe("p",null,de(e.$t("Component.Quota.index_12",[ue(o)])),1),pe("p",null,de(e.$t("Component.Quota.index_4")),1)])])),_:1})]))}}}),pa=u(N({__name:"index",props:{value:{default:""},onUpdateValue:{},onBlur:{}},setup(e){const a=e,t=me(a,"value"),s=e=>{var t;const s=e.target;null==(t=null==a?void 0:a.onBlur)||t.call(a,s.value||"",e)};return(e,a)=>ge((Y(),G("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>he(t)?t.value=e:null),class:"bt-table-input",onBlur:s},null,544)),[[_e,ue(t)]])}}),[["__scopeId","data-v-04feea87"]]),ma=N({__name:"index",props:{value:{type:[Number,String,Boolean,null],default:"1"},checkedValue:{type:[Number,String,Boolean],default:"1"},uncheckedValue:{type:[Number,String,Boolean],default:"0"},checkedLabel:{default:""},uncheckedLabel:{default:""},onClick:{default:void 0}},setup(e){const a=e,t=()=>{const{value:e,checkedValue:t,uncheckedValue:s,onClick:n}=a;n&&B(n,e===t?s:t)};return(e,a)=>{const s=V;return Y(),ie(s,{class:fe(["items-center cursor-pointer",e.value===e.checkedValue?"text-primary":"text-error"]),size:0,inline:!0,onClick:t},{default:oe((()=>[pe("span",null,de(e.value===e.checkedValue?e.checkedLabel||e.$t("Public.Status.Running"):e.uncheckedLabel||e.$t("Public.Status.Stopped")),1),pe("span",{class:fe(["iconfont mt-1px","icon-".concat(e.value===e.checkedValue?"start":"stop")])},null,2)])),_:1},8,["class"])}}});const ga=N({name:"BtLinkGroup",props:{options:{type:Array,default:()=>[]}},render(){let e;return F(V,{class:"items-center",justify:"end",inline:!0,size:0},"function"==typeof(a=e=this.options.filter((e=>void 0===e.show||e.show)).map(((e,a)=>{const s=e.linkType||"default";return F(ve,null,[0!==a?F(v,{class:"mx-4px!",vertical:!0},null):"","default"===s?F(f,{disabled:e.disabled||!1,class:e.class,type:e.type,width:e.width||"auto",onClick:()=>{var a;null==(a=e.onClick)||a.call(e)}},{default:()=>[e.label]}):"","dropdown"===s?F(W,e.dropdown||{},{default:()=>[F(f,{disabled:e.disabled||!1,onClick:()=>{var a;null==(a=e.onClick)||a.call(e)}},{default:()=>[e.label,F(t,{name:"base-arrow-bottom",size:"13"},null)]})]}):""])})))||"[object Object]"===Object.prototype.toString.call(a)&&!be(a)?e:{default:()=>[e]});var a}}),_a=N({__name:"index",props:{disabled:{type:Boolean,default:!1},tips:{},value:{type:[Boolean,String,Number],default:!1},onClick:{}},setup(e){let a=I(!0);const t=e;"string"==typeof t.value||"number"==typeof t.value?a.value=!!t.value:a.value=t.value;const s=()=>{const{onClick:e}=t;e&&B(e,a.value)};return(e,t)=>{const n=A,l=E;return Y(),ie(l,{trigger:"hover",disabled:!(e.disabled&&ue(a))},{trigger:oe((()=>[F(n,{size:"small",value:ue(a),"onUpdate:value":[t[0]||(t[0]=e=>he(a)?a.value=e:a=e),s],disabled:e.disabled&&ue(a)},null,8,["value","disabled"])])),default:oe((()=>[$(" "+de(e.tips),1)])),_:1},8,["disabled"])}}}),ha=async e=>{const{copy:t,isSupported:s}=ye({legacy:!0});s.value?(t(e),a.success(n.global.t("Utils.Copy.index_1"))):a.error(n.global.t("Utils.Copy.index_2"))},fa={class:"flex"},va={class:"w-0 flex-1 flex items-center"},ba={class:"min-w-0"},ya=N({__name:"index",props:{value:{default:""}},setup(e){const a=e,s=I(!1),n=se((()=>s.value?a.value:"**********")),l=se((()=>s.value?"icon-eye-close":"icon-browse")),i=()=>{s.value=!s.value},o=async()=>{ha("".concat(a.value))};return(e,a)=>{const s=D,c=t;return Y(),G("div",fa,[pe("div",va,[pe("div",ba,[F(s,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:oe((()=>[$(de(ue(n)),1)])),_:1})]),pe("div",{class:"ml-6px text-15px cursor-pointer",title:"Show",onClick:i},[pe("i",{class:fe(["iconfont",ue(l)])},null,2)]),pe("button",{class:"reset ml-6px text-15px cursor-pointer text-#333",title:"Copy",onClick:o},[F(c,{name:"common-copy"})])])])}}});function xa(e={}){return{key:e.key||"quota",title:e.title||n.global.t("Component.Quota.index_1"),width:e.width||"8%",minWidth:e.minWidth||100,maxWidth:e.maxWidth||120,render:a=>F(da,{type:e.type||"",data:a,callback:e.callback},null)}}function wa(e={}){const a=xe(),t=e.key||"path";return{key:t,title:e.title||n.global.t("Public.Table.Path"),width:e.width,minWidth:e.minWidth||120,ellipsis:{tooltip:!0},render:e=>F("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;",onClick:()=>{b("Path",e[t]),a.push("/files")}},[e[t]])}}function ka(e){const{key:a="status"}=e;return{key:e.key||"status",title:e.title||n.global.t("Public.Table.Status"),width:e.width,minWidth:70,render:t=>F(ma,{value:t[a],"checked-title":e.checkedLabel||n.global.t("Public.Status.Running"),"unchecked-title":e.uncheckedLabel||n.global.t("Public.Status.Stop"),checkedValue:e.checkedValue,uncheckedValue:e.uncheckedValue,onClick:a=>{e.confirm&&Ae(e.confirm(a,t))}},null)}}function Ca(e){const{key:a="status"}=e;return{key:e.key||"Caching(nginx)",title:e.title||"Caching(nginx)",width:e.width,minWidth:70,render:t=>F(_a,{disabled:!!e.disabled&&e.disabled(t),tips:e.tips,value:t[a],onClick:a=>{e.onClick(a,t)}},null)}}function Pa(e){const{key:a="status"}=e;return{key:a,title:e.title||n.global.t("Public.Table.Status"),width:e.width||"8%",minWidth:e.minWidth||80,render:t=>{const s=e.status(t);return F(ma,{value:t[a],"checked-label":s.checkedLabel,"checked-value":s.checkedValue,"unchecked-label":s.uncheckedLabel,"unchecked-value":s.uncheckedValue,onClick:e=>{var a;null==(a=s.onClick)||a.call(s,e)}},null)}}}function ja(e){const{key:a="ps"}=e;return{key:a,title:e.title||n.global.t("Public.Table.Note"),width:e.width,minWidth:e.minWidth||120,render:t=>F(pa,{value:t[a],onBlur:async(s,n)=>{const l=t[a];if(l!==s)try{await e.onBlur(s,t),t[a]=s}catch(i){n.target.value=l,console.error(i)}}},null)}}function Sa(e){return{key:e.key||"action",title:e.title||n.global.t("Public.Table.Action"),align:e.align||"right",width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:(a,t)=>{var s;return F(ga,{options:(null==(s=e.options)?void 0:s.call(e,a,t))||[]},null)}}}function Ma(e={}){const a=e.key||"password";return{key:a,title:e.title||n.global.t("Public.Table.Password"),width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:e=>{const t=e[a];return F(ya,{value:d(t)?t:""},null)}}}function Oa(e={}){const a=e.key||"progress",t=e.placement||"inside";e.loading;return{key:a,title:e.title||n.global.t("Mail.Unsubscribe.index_26"),width:e.width||"10%",minWidth:100,maxWidth:e.maxWidth,render:s=>F(T,{type:"line","indicator-placement":t,percentage:s[a],processing:100!==s[a],height:e.height,status:e.status,color:e.color},null)}}function qa(e,a={}){const t={},s=we(function(){const{host:a,protocol:t}=window.location;return("http:"===t?"ws://":"wss://")+a+"/v2"+e}(),{autoReconnect:{retries:0,delay:500},immediate:a.immediate,onConnected:()=>{!function(){var e;const t={};t["x-http-token"]=null==(e=document.getElementById("request_token_head"))?void 0:e.getAttribute("token"),a.verifyData&&Object.assign(t,a.verifyData);n(t)}(),l()},onMessage:(e,s)=>{var n;if(x(s.data)){const a=JSON.parse(s.data),n=a.callback||a.ws_callback||a.def_name;n&&t[n]&&t[n].callback(e,s)}null==(n=a.onMessage)||n.call(a,e,s)},onDisconnected:a.onDisconnected});const n=e=>{(e=>s.status.value===e)("OPEN")&&s.send(o(e)?JSON.stringify(e):e)},l=()=>{Object.entries(t).forEach((([,e])=>{n(e.data)}))};return{...s,send:(e,a)=>{if(a)t[a.action]={data:e,callback:a.callback};else{const a=y(10);t[a]={data:e,callback:()=>{}}}n(e)},close:()=>{Object.keys(t).forEach((e=>{delete t[e]})),s.close()}}}function La(){We({title:n.global.t("Home.index_8"),width:350,minHeight:110,component:X((()=>s((()=>import("./index95.js?v=1752142539265")),__vite__mapDeps([42,14,3,4,6,2,5,7,15,43]))))})}const Ta=e=>w.post("/ssl_domain?action=list_dns_api",e),Va=e=>w.post("/ssl_domain?action=create_dns_api",e,{requestOptions:{loading:n.global.t("WP.api.tamper_2"),successMessage:!0}}),Ba=e=>w.post("/ssl_domain?action=edit_dns_api",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Wa=e=>w.post("/ssl_domain?action=delete_dns_api",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),Aa=()=>w.post("/ssl_domain?action=get_dns_support"),Ea=e=>w.post("/ssl_domain?action=list_dns_record",e),Da=e=>w.post("/ssl_domain?action=create_dns_record",e,{requestOptions:{loading:n.global.t("WP.api.tamper_2"),successMessage:!0}}),za=e=>w.post("/ssl_domain?action=edit_dns_record",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Ra=e=>w.post("/ssl_domain?action=delete_dns_record",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),Ia=e=>w.post("/ssl_domain?action=list_domain_details",e),Na=e=>w.post("/ssl_domain?action=switch_ssl_alarm",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Ha=e=>w.post("/ssl_domain?action=sync_dns_info",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),Fa=e=>w.post("/ssl_domain?action=list_ssl_info",e),$a=e=>w.post("/ssl_domain?action=download_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Ua=e=>w.post("/ssl_domain?action=renew_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),Qa=(e,a=!0)=>w.post("/ssl_domain?action=apply_new_ssl",e,{requestOptions:{loading:a?n.global.t("Login.index_22"):"",successMessage:!1}}),Ka=e=>w.post("/ssl_domain?action=upload_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Ja=e=>w.post("/ssl_domain?action=switch_auto_renew",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),Xa=e=>w.post("/ssl_domain?action=cert_domain_list",e),Ga=e=>w.post("/ssl_domain?action=cert_deploy_sites",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Ya=e=>w.post("/ssl_domain?action=cert_deploy_mails",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Za=e=>w.post("/ssl_domain?action=cert_deploy_panel",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),et=e=>w.post("/ssl_domain?action=remove_cert",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),at=e=>w.post("/ssl_domain?action=check_domain_automatic",e),tt=e=>w.post("/files?action=GetFileBody",e,{requestOptions:{errorMessage:!1}}),st=()=>w.post("/ssl_domain?action=ssl_tasks_status"),nt=e=>w.post("/plugin?action=a&name=mail_sys&s=get_auto_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),errorMessage:!1}}),lt=e=>w.post("/plugin?action=a&name=mail_sys&s=auto_deploy_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),it=()=>w.post("/business_ssl?action=get_product_list"),ot=e=>w.post("/business_ssl?action=apply_cert_order_pay",e),ct=()=>w.post("/business_ssl?action=get_cert_admin"),ut=e=>w.post("/business_ssl?action=list_business_ssl",e),rt=e=>w.post("/data?action=getData",e),dt=e=>w.post("/business_ssl?action=apply_order_ca",e,{requestOptions:{loading:n.global.t("Account.Account.accountState-721844-19"),successMessage:!0}}),pt=e=>w.post("/business_ssl?action=get_verify_result",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),mt=e=>w.post("/business_ssl?action=check_domain_suitable",e),gt=()=>w.post("/ssl_domain?action=get_sites"),_t=e=>w.post("/ssl_domain?action=manual_apply_check",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}});function ht(e,a=3){let t=null,s=!1,n=0;const l=()=>{s||n>=3?i():t=window.setTimeout((async()=>{try{await e(),n=0}catch(a){n++}finally{l()}}),1e3*a)},i=()=>{t&&(clearTimeout(t),t=null)};return ke((()=>{s=!0,i()})),{loop:l,clearTimer:i}}function ft(e){const a=I("auto"),t=c(),{mainHeight:s}=Ce(t),{top:n,bottom:l}=Pe(e);return je((()=>{if(0===s.value)return;const e=document.querySelector("#layout-main"),t=null==e?void 0:e.children[0],i=null==t?void 0:t.getBoundingClientRect(),o=((null==i?void 0:i.bottom)||0)-l.value;a.value="".concat(s.value-n.value-o,"px")})),{height:a}}function vt(e){const a=c(),{mainHeight:t}=Ce(a),{top:s,bottom:n}=Pe(e);return{height:se((()=>{if(0===t.value)return"auto";const e=document.querySelector("#layout-main"),a=null==e?void 0:e.children[0],l=null==a?void 0:a.getBoundingClientRect(),i=((null==l?void 0:l.bottom)||0)-n.value;return"".concat(t.value-s.value-i,"px")}))}}function bt(e=100){const a=I(0);let t=null;return function s(){t=requestAnimationFrame((()=>{a.value++,a.value>=e||s()}))}(),Se((()=>{t&&cancelAnimationFrame(t)})),{defer:function(e){return a.value>=e}}}function yt(){U((()=>{setTimeout((()=>{oa()}),1e3)}))}const xt=e=>{const{fetchFn:a,params:t,immediate:s=!0,rowKey:n=e=>e.id,useParams:l}=e,i=J({loading:s}),c=I([]),u=I(0),r=I(t),d=Me((async(e=!1,t=!0)=>{e&&(r.value.p=1),t&&(i.loading=!0);try{const e=l?l(r.value):r.value,{message:t}=await a(e);o(t)&&(c.value=k(t.data)?t.data:[],u.value=C(t.page))}finally{t&&(i.loading=!1)}}),300),p=(e=!1,a=!0)=>d(e,a),m=se((()=>c.value.length>0));return U((()=>{s&&p()})),{loading:se((()=>i.loading)),hasData:m,tableParams:r,tableData:c,fetchTable:p,resetTable:(e=!0)=>p(!0,e),setLoading:e=>{i.loading=e},changeSort:(e,a)=>{r.value.sort_field=e,r.value.sort_order=a,p(!0)},changeFilter:e=>{Object.assign(r.value,e),p(!0)},tableConfig:se((()=>({rowKey:n,data:c.value,loading:i.loading}))),pageConfig:se((()=>({page:r.value.p,pageSize:r.value.limit,itemCount:u.value,onUpdatePage:e=>{r.value.p=e},onUpdatePageSize:e=>{r.value.limit=e}})))}},wt=["innerHTML"],kt=N({__name:"apply-progress",setup(e){const a=I("Applying for a certificate..."),t=async()=>{const{message:e}=await tt({path:"/www/server/panel/logs/letsencrypt.log"});o(e)&&(a.value=e.data?e.data:"None")};t();let s=null;return U((()=>{s=setInterval((()=>{t()}),1e3)})),Se((()=>{s&&clearInterval(s)})),(e,t)=>(Y(),G("pre",{innerHTML:ue(a),class:"h-full overflow-auto bg-black text-white p-10px whitespace-pre-wrap"},null,8,wt))}}),Ct={class:"p-16px"},Pt={class:"flex items-center"},jt=N({__name:"manual-parse",props:{manualParse:{},site_id:{},domains:{},callback:{type:Function},tips:{type:Boolean}},emits:["close"],setup(e,{emit:a}){const{t:s}=H(),n=e,l=a,{table:i,columns:o}=na([{key:"domain",title:s("Mail.Domain.index_3")},{key:"auth_value",title:s("Mail.Domain.index_38")},{key:"type",title:s("Ftp.Table.index_3"),width:80},{key:"must",title:"Essential",width:100}]),{loading:c,setLoading:u}=sa(),r=async()=>{const e=We({width:500,height:300,hideClose:!0,component:kt});try{await(a={site_id:n.site_id,domains:n.domains.join(",")},w.post("/ssl_domain?action=manual_apply_vaild",a,{requestOptions:{loading:"",successMessage:!0,errorMessage:!1}}))}catch(t){Mt(M(t,"message",""))}finally{e.hide(),l("close"),n.callback()}var a};return(()=>{try{u(!0),n.manualParse.length&&(i.data=n.manualParse.map((e=>({...e.data}))).flatMap((e=>Object.values(e))))}finally{u(!1)}})(),(e,a)=>{const s=z,l=t,u=ua,d=R,p=V,m=ia;return Y(),G("div",Ct,[n.tips?(Y(),ie(s,{key:0,type:"warning",class:"mb-10px"},{default:oe((()=>a[0]||(a[0]=[pe("span",null,"You have unfinished application tasks, please complete them first.",-1)]))),_:1,__:[0]})):Oe("",!0),F(s,{"show-icon":!1,class:"mb-10px"},{default:oe((()=>[pe("div",Pt,[F(l,{name:"base-info",size:"17",class:"mr-8px"}),a[1]||(a[1]=pe("span",{class:"leading-17px"},"Please do TXT analysis according to the following list",-1))])])),_:1}),F(u,{loading:ue(c),"loading-num":2,columns:ue(o),data:ue(i).data,"max-height":"450px"},null,8,["loading","columns","data"]),F(p,{justify:"end",class:"my-10px"},{default:oe((()=>[F(d,{type:"primary",onClick:r},{default:oe((()=>[$(de(e.$t("SSL.Business.index_54")),1)])),_:1})])),_:1}),F(m,null,{default:oe((()=>[a[2]||(a[2]=pe("li",{class:"text-error"},"It takes some time to resolve the domain name to take effect. After completing all the resolution operations, please wait 1 minute before clicking the verification button",-1)),pe("li",null,"You can manually verify whether the domain name resolution is effective through CMD commands: nslookup -q=txt "+de(ue(i).data[0].domain),1),a[3]||(a[3]=pe("li",null,"If you are using Pagoda Cloud Resolution Plugin, Alibaba Cloud DNS, DnsPod as DNS, you can use the DNS interface to automatically resolve",-1))])),_:1,__:[2,3]})])}}});function St(e,a,t,s,n){We({title:"Manually parse TXT records",width:700,minHeight:400,data:{manualParse:e,site_id:a,domains:t,callback:s,tips:n},component:jt})}function Mt(e){We({title:n.global.t("SSL.index_31"),content:()=>qe("pre",{style:{padding:"10px",color:"#fff",maxHeight:"300px",overflow:"auto",backgroundColor:"#000",whiteSpace:"pre-wrap",wordBreak:"break-word"}},JSON.stringify(e,null,2)),width:480})}export{Ia as $,ze as A,ca as B,vt as C,ka as D,ea as E,bt as F,ga as G,yt as H,Oa as I,Ma as J,Ca as K,Fe as L,Ne as M,He as N,$e as O,Ge as P,Ke as Q,_a as R,Xe as S,Wa as T,Ta as U,Ba as V,Ra as W,Ea as X,za as Y,Ha as Z,ia as _,ta as a,pt as a0,et as a1,ut as a2,Ja as a3,Na as a4,Fa as a5,Ua as a6,it as a7,ot as a8,pa as a9,st as aa,xt as ab,Ka as ac,Ga as ad,_t as ae,St as af,kt as ag,Qa as ah,Mt as ai,Ze as aj,tt as ak,De as al,lt as am,nt as an,Va as ao,Aa as ap,Da as aq,rt as ar,dt as as,ct as at,mt as au,Xa as av,Za as aw,Ya as ax,gt as ay,$a as az,na as b,sa as c,Ae as d,Re as e,ua as f,Te as g,Sa as h,ha as i,at as j,La as k,ht as l,Je as m,Ye as n,Pa as o,wa as p,Ee as q,aa as r,ma as s,ya as t,We as u,xa as v,ja as w,oa as x,ft as y,qa as z};
