System.register(["./vue-legacy.js?v=1764233927359","./page_layout-legacy.js?v=1764233927359","./public-legacy.js?v=1764233927359","./index-legacy107.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1764233927359","./terminal-legacy2.js?v=1764233927359","./naive-legacy.js?v=1764233927359","./index-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1764233927359","./__commonjsHelpers__-legacy.js?v=1764233927359","./common-legacy.js?v=1764233927359","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1764233927359","./xterm-legacy.js?v=1764233927359","./xterm-addon-canvas-legacy.js?v=1764233927359"],function(e,t){"use strict";var a,l,n,i,o,r,d,c,s,u,p,v,m,h,g,b,x,y,_,f,k,w,C,T,j,E,I,L,S,U,F,R,$,P,z,D,B,q,A,H,K,O,Y,V,W,X,G,J,M,N,Q,Z,ee,te,ae,le,ne,ie;return{setters:[e=>{a=e.k,l=e.P,n=e.W,i=e.w,o=e.R,r=e.V,d=e.a3,c=e.U,s=e.ak,u=e.j,p=e.a4,v=e.r,m=e.e,h=e.a0,g=e.a2,b=e.S,x=e.an,y=e.F,_=e.O,f=e.au,k=e.H,w=e.I,C=e.a6,T=e.l,j=e.v,E=e.o,I=e.b},e=>{L=e.dF,S=e.x,U=e._,F=e.p},e=>{R=e.c,$=e.f,P=e.a,z=e.h,D=e.i,B=e.d,q=e.e},e=>{A=e._},e=>{H=e._},e=>{K=e.o,O=e.d,Y=e.g,V=e.s,W=e.l,X=e.e,G=e.a,J=e.b,M=e.c,N=e.u,Q=e.T},e=>{Z=e.aC,ee=e.dR,te=e.au,ae=e.da,le=e.dS},e=>{ne=e._},e=>{ie=e._},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.head[data-v-48cd70b1]{background:var(--terminal-head-bg);position:relative;height:40px;align-items:center}.head .item[data-v-48cd70b1]{width:160px;height:100%;display:flex;cursor:pointer;align-items:center;justify-content:space-between;padding-left:8px;padding-right:8px;border-right:1px solid rgb(231,225,225)}.head .item .close-terminal[data-v-48cd70b1]{--un-text-opacity:1;color:rgb(239 8 8 / var(--un-text-opacity))}.head .item .close-terminal[data-v-48cd70b1]:hover{background:var(--terminal-head-item-close-hover)}.head .item .text[data-v-48cd70b1]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.head .item .icon[data-v-48cd70b1]{margin-right:5px;width:10px;height:10px;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity));display:inline-block;border-radius:50%}.head .item .icon-active[data-v-48cd70b1]{--un-bg-opacity:1;background-color:rgb(247 11 60 / var(--un-bg-opacity))}.head .item[data-v-48cd70b1]:hover{background:var(--terminal-head-item-hover)}.head .item-active[data-v-48cd70b1]{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity));background:#424242!important}.head .add-terminal[data-v-48cd70b1]{width:40px;height:40px;text-align:center;line-height:50px}.head .add-terminal[data-v-48cd70b1]:hover{--un-bg-opacity:1;background-color:rgb(204 204 204 / var(--un-bg-opacity))}.context-menu[data-v-48cd70b1]{position:fixed;z-index:9999;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity));border-radius:5px;box-shadow:0 2px 12px rgba(0,0,0,.1)}.context-menu ul[data-v-48cd70b1]{width:150px;padding-top:5px;padding-bottom:5px;list-style:none}.context-menu ul li[data-v-48cd70b1]{cursor:pointer;padding:8px 10px}.context-menu ul li[data-v-48cd70b1]:hover{--un-bg-opacity:1;background-color:rgb(231 245 233 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(29 149 52 / var(--un-text-opacity))}.terminal[data-v-d780d510]{position:relative;height:100%}.terminal-contract-tool[data-v-d780d510]{position:absolute;right:0;top:50%;z-index:50;height:4rem;width:2rem;display:flex;cursor:pointer;align-items:center;justify-content:center;border-bottom-left-radius:9999px;border-top-left-radius:9999px;--un-bg-opacity:1;background-color:rgb(55 65 81 / var(--un-bg-opacity));background-color:#555;transform:translateY(-50%)}.terminal-contract-tool[data-v-d780d510]:after{content:"";--un-border-opacity:1;border-color:rgb(255 255 255 / var(--un-border-opacity));border:2px solid rgb(255,255,255);transform:rotate(45deg);border-left-width:0;border-bottom-width:0;height:1rem;width:1rem}.terminal-contract-tool[data-v-d780d510]:hover{--un-bg-opacity:1;background-color:rgb(107 114 128 / var(--un-bg-opacity))}.active[data-v-d780d510]:after{transform:rotate(-135deg)!important}.box[data-v-57762b9d]{height:calc(100vh - 52px)}\n/*$vite$:1*/',document.head.appendChild(t);const oe=a({__name:"index",setup(e,{expose:t}){const{t:a}=l(),v=L(),{keys:m,columns:h}=R([{key:"host",title:a("Term.index_8"),ellipsis:{tooltip:{width:"trigger"}},render:e=>n("span",{class:"cursor-pointer w-100%",onClick:()=>b(e)},[e.host])},$({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{const t={title:a("Term.index_22"),data:{isEdit:!0,row:e}};K(t)}},{label:a("Public.Btn.Del"),onClick:()=>{P({title:a("Term.index_6"),content:a("Term.index_7",[e.host]),onConfirm:async({hide:t})=>{await O({host:e.host}),x(),t()}})}}]})]),g=()=>{const e={title:a("Term.index_19"),data:{isEdit:!1}};K(e)},b=e=>{v.server={...e,time:new Date}},x=async()=>{await Y()};return i(()=>v.isRefresh,e=>{e&&(v.setRefresh(!1),x())}),t({init:x}),(e,t)=>{const a=Z,l=z,i=H;return r(),o("div",null,[n(i,null,{toolsLeft:d(()=>[n(a,{type:"primary",onClick:g},{default:d(()=>[u(p(e.$t("Term.index_19")),1)]),_:1})]),table:d(()=>[n(l,{"checked-row-keys":c(m),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>s(m)?m.value=e:null),loading:c(W),"max-height":"calc(100vh - 250px)",data:c(V),columns:c(h)},null,8,["checked-row-keys","loading","data","columns"])]),_:1})])}}}),re={class:"p-20px"},de=a({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=l(),i=e,{isEdit:s,row:u,getList:p}=i.data,h=v(null),g=m({name:"",content:""}),b={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]},content:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return s&&u&&(g.name=u.title,g.content=u.shell),t({onConfirm:async({hide:e})=>{await(h.value?.validate()),s?await X({shell:g.content,title:u?u.title:"",new_title:g.name}):await G({shell:g.content,title:g.name}),p?.(),e()}}),(e,t)=>{const a=te,l=ee,i=ie;return r(),o("div",re,[n(i,{ref_key:"formRef",ref:h,model:c(g),rules:b},{default:d(()=>[n(l,{label:e.$t("Docker.Compose.form.index_3"),path:"name"},{default:d(()=>[n(a,{class:"w-280px!",value:c(g).name,"onUpdate:value":t[0]||(t[0]=e=>c(g).name=e),placeholder:e.$t("Term.idnex_1")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(l,{label:e.$t("Docker.LocalImage.build_5"),path:"content"},{default:d(()=>[n(a,{class:"w-280px!",type:"textarea",rows:6,value:c(g).content,"onUpdate:value":t[1]||(t[1]=e=>c(g).content=e),placeholder:e.$t("Term.index_2")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),ce=a({__name:"index",setup(e,{expose:t}){const{t:a}=l(),{keys:i,table:v,columns:m}=R([{key:"title",title:a("Term.index_4"),ellipsis:{tooltip:{width:"trigger"}},render:e=>n("span",{class:"cursor-pointer w-100%",onClick:()=>{h(e.shell)}},[e.title])},$({width:130,options:e=>[{label:a("Public.Btn.Copy"),onClick:()=>{h(e.shell)}},{label:a("Public.Btn.Edit"),onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{P({title:a("Term.index_20"),content:a("Term.index_21",[e.title]),onConfirm:async({hide:t})=>{await J({title:e.title}),x(),t()}})}}]})]),h=e=>{D(e)},{loading:g,setLoading:b}=B(),x=async()=>{try{b(!0);const{message:e}=await M();S(e)&&(v.data=e)}finally{i.value=[],b(!1)}},y=q(a("Term.index_3"),{isEdit:!1,getList:x}),_=()=>{y.data.isEdit=!1,y.title=a("Term.index_3"),y.show=!0},f=e=>{y.data.row=e,y.data.isEdit=!0,y.title=a("Term.index_5"),y.show=!0};return x(),t({init:x}),(e,t)=>{const a=Z,l=z,h=H,b=ne;return r(),o("div",null,[n(h,null,{toolsLeft:d(()=>[n(a,{type:"primary",onClick:_},{default:d(()=>[u(p(e.$t("Term.index_3")),1)]),_:1})]),table:d(()=>[n(l,{"checked-row-keys":c(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>s(i)?i.value=e:null),loading:c(g),"max-height":"calc(100vh - 250px)",data:c(v).data,columns:c(m)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),n(b,{show:c(y).show,"onUpdate:show":t[1]||(t[1]=e=>c(y).show=e),title:c(y).title,data:c(y).data,width:480,footer:!0,component:de},null,8,["show","title","data"])])}}}),se=a({__name:"index",setup(e){const{t:t}=l(),a=v("server"),i=[{key:"server",label:t("Term.index_23"),component:oe},{key:"command",label:t("Term.index_24"),component:ce}];return(e,t)=>{const l=A;return r(),o("div",null,[n(l,{class:"w-300px!",value:c(a),"onUpdate:value":t[0]||(t[0]=e=>s(a)?a.value=e:null),options:i},null,8,["value"])])}}}),ue=["onClick","onContextmenu"],pe=["title"],ve=["onClick"],me=a({__name:"menu",setup(e){const t=L(),{isFull:a}=h(t),{activeTerminalId:i,terminals:s,setActiveTerminal:m,onServerList:C}=N(),{t:T}=l(),j=v(0),E=v(0),I=v({id:"",host:"",port:0,ps:"",state:!1}),S=v(!1),F=["Copy session","Close session","Close to right","Close other"],R=()=>{const e={title:T("Term.index_19"),data:{isEdit:!1}};K(e)},$=e=>{const t=i.value===e,a=s.value.findIndex(t=>t.id===e);if(s.value=s.value.filter(t=>t.id!==e),t&&s.value.length>0){const e=a>0?a-1:0;i.value=s.value[e]?.id||"aaaaaaaaa"}else 0===s.value.length&&(i.value="aaaaaaaaa")};return document.addEventListener("click",()=>{S.value=!1}),(e,t)=>{const l=U,v=ae;return r(),g(v,{class:"head gap-0! xterm-head"},{default:d(()=>[(r(!0),o(y,null,_(c(s),e=>(r(),o("div",{key:e.id,class:k(["item",{"item-active":c(i)===e.id}]),onClick:t=>c(m)(e.id),onContextmenu:f(t=>{return a=t,l=e,I.value=l,j.value=a.clientX,E.value=a.clientY,void(S.value=!0);var a,l},["prevent"])},[b("div",{class:"text",title:e.ps},[b("span",{class:k(["icon",{"icon-active":!e.state}])},null,2),u(p(e.ps?e.ps:e.host),1)],8,pe),n(l,{name:"base-close",class:"close-terminal",size:16,onClick:f(t=>$(e.id),["stop"])},null,8,["onClick"])],42,ue))),128)),b("div",{class:"add-terminal",onClick:R},[n(l,{name:"base-add",size:24})]),b("div",{class:"absolute right-0px add-terminal",onClick:t[0]||(t[0]=e=>a.value=!c(a))},[n(l,{name:"base-full",size:24})]),c(S)?(r(),o("div",{key:0,class:"context-menu",style:w({top:c(E)+"px",left:c(j)+"px"})},[b("ul",null,[(r(),o(y,null,_(F,(e,t)=>b("li",{key:t,onClick:t=>(e=>{if(!I.value)return;let t;switch(e){case"Copy session":C(I.value);break;case"Close session":$(I.value.id);break;case"Close to right":t=s.value.findIndex(e=>e.id===I.value.id),-1!==t&&(s.value.splice(t+1),setTimeout(()=>{m(s.value[t]?.id||"aaaaaaaaa")},20));break;case"Close other":s.value=s.value.filter(e=>e.id===I.value.id),setTimeout(()=>{m(I.value.id)},20)}S.value=!1})(e)},p(e),9,ve)),64))])],4)):x("",!0)]),_:1})}}}),he=F(me,[["__scopeId","data-v-48cd70b1"]]),ge={class:"terminal bg-#333333"},be=F(a({__name:"index",setup(e){const t=L(),{server:a,isShow:l}=h(t),{activeTerminalId:s,terminals:u,setActiveTerminal:p,onServerList:v}=N(),m=(e,t)=>{u.value=u.value.map(a=>a.id===e?{...a,state:t}:a)};return i(()=>a.value,e=>{null!==e&&v(e)},{deep:!0}),(e,t)=>{const a=ae;return r(),g(a,{vertical:"",class:"gap-0!"},{default:d(()=>[n(he),b("div",ge,[(r(),g(C,null,[(r(!0),o(y,null,_(c(u),e=>T((r(),g(Q,{key:e.id,data:e,active:c(s)===e.id,onUpdateFull:c(p),onUpdateState:m},null,8,["data","active","onUpdateFull"])),[[j,e.id===c(s)]])),128))],1024)),b("div",{class:k(["terminal-contract-tool",{active:!c(l)}]),onClick:t[0]||(t[0]=e=>l.value=!c(l))},null,2)])]),_:1})}}}),[["__scopeId","data-v-d780d510"]]),xe={class:"p-16px box"};e("default",F(a({__name:"index",setup(e){const t=L(),{isShow:a,isFull:l}=h(t),s=v(null);i(()=>l.value,e=>{e?(a.value=!1,s.value?.requestFullscreen()):document.exitFullscreen().catch(e=>{console.log(e.message)})});const u=()=>{document.fullscreenElement?l.value=!0:l.value=!1};return E(()=>{document.addEventListener("fullscreenchange",u)}),I(()=>{document.removeEventListener("fullscreenchange",u)}),(e,t)=>{const l=ae,i=le;return r(),o("div",xe,[n(i,{class:"p-16px h-100%"},{default:d(()=>[b("div",{class:"h-100%",ref_key:"contentRef",ref:s},[n(l,{class:"flex-nowrap! h-100%"},{default:d(()=>[n(be,{class:"flex-1 overflow-hidden"}),T(n(se,null,null,512),[[j,c(a)]])]),_:1})],512)]),_:1})])}}}),[["__scopeId","data-v-57762b9d"]]))}}});
