const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index204.js?v=1753954525509","js/index.js?v=1753954525509","js/vue.js?v=1753954525509","js/__commonjsHelpers__.js?v=1753954525509","js/common.js?v=1753954525509","js/public.js?v=1753954525509","js/page_layout.js?v=1753954525509","js/naive.js?v=1753954525509","css/page_layout.css?v=1753954525509","css/public.css?v=1753954525509","css/index99.css?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang6.js?v=1753954525509","css/index84.css?v=1753954525509","js/index205.js?v=1753954525509","js/index237.js?v=1753954525509","css/index54.css?v=1753954525509","css/index85.css?v=1753954525509","js/domain-verification.js?v=1753954525509","js/index206.js?v=1753954525509","js/site.js?v=1753954525509","js/index207.js?v=1753954525509","js/index100.js?v=1753954525509","css/index17.css?v=1753954525509","css/index86.css?v=1753954525509","js/index208.js?v=1753954525509","js/ssl-log.js?v=1753954525509","js/index101.js?v=1753954525509","css/index18.css?v=1753954525509"])))=>i.map(i=>d[i]);
import{_ as e}from"./index102.js?v=1753954525509";import{k as a,$ as t,P as n,e as s,Q as o,j as i,U as l,a1 as r,a2 as d,X as _,W as u,a3 as c,_ as p,r as h,b as m,V as w,u as S,ah as f}from"./vue.js?v=1753954525509";import{u as y,X as x,c as g,a as L,_ as v,o as k}from"./page_layout.js?v=1753954525509";import{_ as b}from"./index127.js?v=1753954525509";import{_ as E}from"./index.js?v=1753954525509";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1753954525509";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1753954525509";import{e as D,b as I,a0 as R,a1 as P,h as U,a2 as B,d as T,a3 as V,a4 as O,n as A,_ as N,f as M,a5 as z,a6 as F}from"./public.js?v=1753954525509";import{u as q,i as X,r as G}from"./utils3.js?v=1753954525509";import{A as H}from"./index209.js?v=1753954525509";import{c5 as $,ay as Q,c3 as W,cD as J}from"./naive.js?v=1753954525509";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1753954525509";import{T as Y}from"./transition.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";import"./common.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import"./paypal-js.js?v=1753954525509";const Z=a({__name:"index",setup(e){const a=p((()=>L((()=>import("./index204.js?v=1753954525509")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])))),h=p((()=>L((()=>import("./index205.js?v=1753954525509")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),m=p((()=>L((()=>import("./domain-verification.js?v=1753954525509")),__vite__mapDeps([18,6,2,3,7,4,5,9,8,11])))),w=y(),{userInfo:S}=t(w),{t:f}=n(),z=s({p:1,limit:10}),F=D(f("SSL.Business.index_41"),{onRefresh:(e,a)=>{K.data.request=!0,K.data.uc_id=a,K.data.verify=e,K.show=!0,ae()}}),G=D(f("SSL.index_44")),J=D(f("SSL.index_49"),{onRefresh:()=>{ae()}}),K=D(f("SSL.Business.index_42"),{onRefresh:()=>{ae()}}),{table:Y,columns:Z}=I([{key:"provider",title:f("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:f("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:f("Site.Cert.index_44"),render:e=>e.order_info.title},q({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>void 0!==e.auto_renew?o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await R({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null):o("span",null,[i("--")])},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await P({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null):o("span",null,[i("--")])},{key:"create_time",title:f("Docker.Container.index_9"),render:e=>x(e.order_info.create_time)},X(((e,a)=>{J.data.row=e,J.show=!0,J.data.menu=a})),{key:"order_status",title:f("SSL.Business.index_43"),render:e=>{const a=e.order_info;return a.certId||a.domains.length?!a.certId&&a.domains.length?o("span",{class:"color-warning"},[f("SSL.Business.index_45")]):"PENDING"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_46")]):"COMPLETE"===a.order_status&&1===a.status?o("span",{class:"color-#20a53a"},[f("SSL.Business.index_47")]):"CANCELLED"===a.order_status&&1===a.status||-1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_48")]):"FAILED"===a.order_status&&1===a.status?o("span",{class:"color-error"},[f("SSL.Business.index_49")]):"EXPIRED"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_50")]):1!==a.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(a.order_status)?0===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_52")]):void 0:o("span",{class:"color-warning"},[f("SSL.Business.index_51")]):o("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[f("SSL.Business.index_44")])}},U({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:f("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.Business.index_54"),onClick:async()=>{const{message:a}=await B({uc_id:e.order_info.uc_id});g(a)&&(K.data.uc_id=e.order_info.uc_id,K.data.verify=a.data,K.data.paths=a.paths,K.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.index_58"),onClick:async()=>{J.data.row=e,J.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("Ftp.Label.index_11"),onClick:async()=>{const a=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(a)}},{show:!1,label:f("Public.Btn.Del"),onClick:()=>{T({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await V({hash:e.hash}),ae()}})}}]})]),ee=e=>{F.data.row=e,F.show=!0},ae=async()=>{try{Y.loading=!0;const{message:e}=await O(z);g(e)&&(Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}};return S.value.status&&ae(),(e,t)=>{const n=Q,s=v,p=k,w=N,y=W,x=M,g=C,L=j,D=E,I=b;return l(),r(I,{install:_(S).status},{desc:d((()=>[t[7]||(t[7]=u("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),o(n,{type:"primary",onClick:_(A)},{default:d((()=>[i(c(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:d((()=>[o(L,{feedback:!0},{toolsLeft:d((()=>[o(n,{type:"primary",onClick:t[0]||(t[0]=e=>_(G).show=!0)},{default:d((()=>[i(c(_(f)("SSL.index_44")),1)])),_:1}),o(y,{trigger:"hover"},{trigger:d((()=>[o(s,{name:"base-info",size:18,color:"#999"})])),default:d((()=>[o(w,null,{default:d((()=>[t[9]||(t[9]=u("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=u("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=u("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),u("li",null,[t[8]||(t[8]=i("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ")),o(p,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:d((()=>[i(c(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1,__:[9,10,11]})])),_:1})])),table:d((()=>[o(x,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])])),pageRight:d((()=>[o(g,{page:_(z).p,"onUpdate:page":t[1]||(t[1]=e=>_(z).p=e),"page-size":_(z).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>_(z).limit=e),"item-count":_(Y).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),o(D,{show:_(G).show,"onUpdate:show":t[3]||(t[3]=e=>_(G).show=e),title:_(G).title,data:_(G).data,"min-height":250,component:H},null,8,["show","title","data"]),o(D,{show:_(F).show,"onUpdate:show":t[4]||(t[4]=e=>_(F).show=e),title:_(F).title,data:_(F).data,width:650,"min-height":450,component:_(a)},null,8,["show","title","data","component"]),o(D,{show:_(J).show,"onUpdate:show":t[5]||(t[5]=e=>_(J).show=e),title:_(J).title,data:_(J).data,width:720,height:530,component:_(h)},null,8,["show","title","data","component"]),o(D,{show:_(K).show,"onUpdate:show":t[6]||(t[6]=e=>_(K).show=e),title:_(K).title,data:_(K).data,width:650,"min-height":450,component:_(m)},null,8,["show","title","data","component"])])),_:1},8,["install"])}}});const ee=a({__name:"index",setup(e){const a=p((()=>L((()=>import("./index206.js?v=1753954525509")),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20])))),t=p((()=>L((()=>import("./index207.js?v=1753954525509")),__vite__mapDeps([21,11,7,2,3,4,22,6,5,9,8,23,24])))),r=p((()=>L((()=>import("./index208.js?v=1753954525509")),__vite__mapDeps([25,6,2,3,7,4,5,9,8,1,10,22,23])))),u=p((()=>L((()=>import("./index205.js?v=1753954525509")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),f=p((()=>L((()=>import("./ssl-log.js?v=1753954525509")),__vite__mapDeps([26,27,2,3,6,7,4,5,9,8,28])))),{t:y}=n(),x=D(y("SSL.index_48"),{onRefresh:()=>{ae()}}),v=D(y("SSL.index_44"),{onRefresh:()=>{ae()},onOpenLog:e=>{Y(e)}}),b=D(y("SSL.index_45"),{onRefresh:()=>{ae()}}),B=D(y("SSL.index_49"),{onRefresh:()=>{ae()}}),O=D(y("SSL.index_50")),A=s({p:1,limit:10,is_order:0,search:""}),N=()=>{A.p=1,ae()},H=()=>{T({title:y("SSL.index_51"),content:y("SSL.index_52"),onConfirm:async()=>{await F(),ae()}})},{table:W,columns:J}=I([G((e=>{Y(e)})),{key:"ssl_type",title:y("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},q({title:y("SSL.index_54")}),{key:"proxy",title:y("SSL.index_55"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await R({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:y("SSL.Domain.index_26"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await P({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null)},X(((e,a)=>{B.data.row=e,B.show=!0,B.data.menu=a})),{key:"last_apply_time",title:y("SSL.index_56")},{key:"last_apply_log",title:y("SSL.index_57"),align:"center",render:e=>{let a;return e.log?o(k,{onClick:()=>{Y(e.log)}},"function"==typeof(t=a=y("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(t)&&!S(t)?a:{default:()=>[a]}):"--";var t}},U({width:250,options:e=>[{label:y("SSL.index_58"),onClick:async()=>{B.data.row=e,B.show=!0}},{label:y("Mail.Mass.index_61"),onClick:()=>{x.data.row=e,x.show=!0}},{label:y("Public.Btn.Del"),onClick:()=>{T({title:y("SSL.index_59"),content:y("SSL.index_60"),onConfirm:async()=>{await V({hash:e.hash}),ae()}})}}]})]),Y=e=>{O.data.path=e,O.show=!0};let Z=null;const ee=h(!1),ae=async()=>{try{ee.value||(W.loading=!0);const{message:e}=await z(A);g(e)&&(ee.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),ee.value?te():Z&&clearTimeout(Z),W.data=e.data,W.total=e.total)}finally{W.loading=!1}},te=async()=>{Z=window.setTimeout((()=>{ae()}),5e3)};return ae(),m((()=>{Z&&clearTimeout(Z)})),(e,n)=>{const s=Q,p=K,h=M,m=C,S=j,g=E;return l(),w("div",null,[o(S,{feedback:!0},{toolsLeft:d((()=>[o(s,{type:"primary",onClick:n[0]||(n[0]=e=>_(v).show=!0)},{default:d((()=>[i(c(_(y)("SSL.index_44")),1)])),_:1}),o(s,{onClick:n[1]||(n[1]=e=>_(b).show=!0)},{default:d((()=>[i(c(_(y)("SSL.index_45")),1)])),_:1}),o(s,{onClick:H},{default:d((()=>[i(c(_(y)("SSL.index_46")),1)])),_:1})])),toolsRight:d((()=>[o(p,{value:_(A).search,"onUpdate:value":n[2]||(n[2]=e=>_(A).search=e),onSearch:N},null,8,["value"])])),table:d((()=>[o(h,{loading:_(W).loading,data:_(W).data,columns:_(J)},null,8,["loading","data","columns"])])),pageRight:d((()=>[o(m,{page:_(A).p,"onUpdate:page":n[3]||(n[3]=e=>_(A).p=e),"page-size":_(A).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>_(A).limit=e),"item-count":_(W).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),o(g,{show:_(v).show,"onUpdate:show":n[5]||(n[5]=e=>_(v).show=e),title:_(v).title,data:_(v).data,width:550,"min-height":250,footer:!0,component:_(a),"confirm-text":_(y)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),o(g,{show:_(x).show,"onUpdate:show":n[6]||(n[6]=e=>_(x).show=e),title:_(x).title,data:_(x).data,width:650,footer:!1,component:_(r)},null,8,["show","title","data","component"]),o(g,{show:_(b).show,"onUpdate:show":n[7]||(n[7]=e=>_(b).show=e),title:_(b).title,data:_(b).data,width:800,"min-height":500,footer:!0,component:_(t)},null,8,["show","title","data","component"]),o(g,{show:_(O).show,"onUpdate:show":n[8]||(n[8]=e=>_(O).show=e),title:_(O).title,data:_(O).data,width:650,"min-height":450,component:_(f)},null,8,["show","title","data","component"]),o(g,{show:_(B).show,"onUpdate:show":n[9]||(n[9]=e=>_(B).show=e),title:_(B).title,data:_(B).data,width:720,height:530,component:_(u)},null,8,["show","title","data","component"])])}}}),ae=a({__name:"index",setup(a){const{t:s}=n(),i=y(),{userInfo:u}=t(i),c=h("business"),p=[{key:"business",label:s("SSL.index_9"),component:Z},{key:"let-encrypt",label:"Let's Encrypt",component:ee}];return(a,t)=>{const n=e,s=J;return _(u).status?(l(),r(s,{key:0,class:"p-16px"},{default:d((()=>[o(n,{value:_(c),"onUpdate:value":t[0]||(t[0]=e=>f(c)?c.value=e:null),options:p},null,8,["value"])])),_:1})):(l(),r(Y,{key:1}))}}});export{ae as default};
