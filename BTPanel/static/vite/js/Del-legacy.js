System.register(["./CalcVerify-legacy.js?v=1767769852656","./page_layout-legacy.js?v=1767769852656","./index-legacy38.js?v=1767769852656","./naive-legacy.js?v=1767769852656","./vue-legacy.js?v=1767769852656","./common-legacy.js?v=1767769852656","./__commonjsHelpers__-legacy.js?v=1767769852656","./public-legacy.js?v=1767769852656","./index-legacy.js?v=1767769852656","./soft-legacy2.js?v=1767769852656","./soft-legacy.js?v=1767769852656","./site-legacy.js?v=1767769852656","./file-legacy2.js?v=1767769852656","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1767769852656"],function(e,l){"use strict";var a,t,s,n,i,c,o,u,r,d,f,p,v,y,g,m,_,h,w,j;return{setters:[e=>{a=e.C},e=>{t=e.m,s=e.aE,n=e.p},e=>{i=e.g},e=>{c=e.aC,o=e.dl},e=>{u=e.k,r=e.i,d=e.r,f=e.a2,p=e.V,v=e.a3,y=e.R,g=e.U,m=e.S,_=e.W,h=e.j,w=e.a4,j=e.ak},null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".del-modal-wrapper[data-v-9d32222b]{padding:20px;font-size:14px}.header-tit[data-v-9d32222b]{width:280px}\n/*$vite$:1*/",document.head.appendChild(l);const x={class:"header-tit single-line-ellipsis"},b={key:0,class:"del-modal-wrapper"},k={key:1,class:"del-modal-wrapper"},C={class:"text-[#f0a020]"},D={class:"modal-footer-btns"};e("default",n(u({__name:"Del",setup(e,{expose:l}){const n=r("fileStore"),{choosedKeys:u,fileList:R,fileRecycle:S,currentPath:F}=n,O=d(!1),$=d({}),P=d([]),V=d("Delete file"),q=d();async function E(){if(1==u.value.length){const e=R.value.find(e=>e.nm==u.value[0]);await async function(e){const l=t.loading("Files are being deleted. Please wait");try{O.value=!1,0==(await s.post("/files?action=DeleteFile",{path:e},{requestOptions:{isOriginalResult:!0}})).message.status?t.success("Files deleted successfully"):t.error("Files failed to delete")}catch(a){console.warn(a)}finally{l.close()}}(e.path)}u.value.length>1&&await async function(e,l){await s.post("/files?action=SetBatchData",{data:JSON.stringify(e),type:4,path:l},{requestOptions:{loading:"正在批量删除中，请稍候...",successMessage:!0}}),O.value=!1}(u.value,F.value)}async function U(){S.value||q.value.validate()?(await E(),i(n)):t.warning("Please enter the correct verification number")}return l({open(){if(O.value=!0,1==u.value.length){const e=R.value.find(e=>e.nm==u.value[0]);$.value=e,V.value=`Delete file [${$.value.nm}]`}else P.value=R.value.filter(e=>u.value.includes(e.nm))},close(){O.value=!1}}),(e,l)=>{const t=c,s=o;return p(),f(s,{preset:"card",draggable:"","close-on-esc":!1,"mask-closable":!1,class:"w-170",segmented:"",show:g(O),"onUpdate:show":l[1]||(l[1]=e=>j(O)?O.value=e:null)},{header:v(()=>[m("div",x,w(g(V)),1)]),footer:v(()=>[m("div",D,[_(t,{onClick:l[0]||(l[0]=e=>O.value=!1)},{default:v(()=>l[5]||(l[5]=[h("cancel",-1)])),_:1,__:[5]}),_(t,{type:"primary",onClick:U},{default:v(()=>l[6]||(l[6]=[h("confirm",-1)])),_:1,__:[6]})])]),default:v(()=>[g(S)?(p(),y("div",k,[l[3]||(l[3]=h(" Confirm delete folder ",-1)),m("span",C,w(g($).path?`[${g($).path}]`:""),1),l[4]||(l[4]=h(" ,it will move to recycle bin after delete, continue? ",-1))])):(p(),y("div",b,[l[2]||(l[2]=m("div",{class:"text-red-5 mb-15px text-14px"}," Recycle bin is not currently open, delete file cannot be restored after, continue? ",-1)),_(a,{ref_key:"calcVertifyRef",ref:q},null,512)]))]),_:1},8,["show"])}}}),[["__scopeId","data-v-9d32222b"]]))}}});
