System.register(["./CalcVerify-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./CalcSize.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./vue-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./soft-legacy2.js?v=1769066082311","./soft-legacy.js?v=1769066082311","./site-legacy.js?v=1769066082311"],function(e,a){"use strict";var l,t,s,n,i,c,o,u,r,d,f,p,v,y,g,m,_,h,w,b;return{setters:[e=>{l=e.C},e=>{t=e.m,s=e.aE,n=e.p},e=>{i=e.w},e=>{c=e.aC,o=e.dm},e=>{u=e.k,r=e.i,d=e.r,f=e.a2,p=e.V,v=e.a3,y=e.R,g=e.U,m=e.S,_=e.W,h=e.j,w=e.a4,b=e.ak},null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".del-modal-wrapper[data-v-9d32222b]{padding:20px;font-size:14px}.header-tit[data-v-9d32222b]{width:280px}\n/*$vite$:1*/",document.head.appendChild(a);const j={class:"header-tit single-line-ellipsis"},x={key:0,class:"del-modal-wrapper"},C={key:1,class:"del-modal-wrapper"},k={class:"text-[#f0a020]"},S={class:"modal-footer-btns"};e("default",n(u({__name:"Del",setup(e,{expose:a}){const n=r("fileStore"),{choosedKeys:u,fileList:D,fileRecycle:R,currentPath:F}=n,O=d(!1),$=d({}),P=d([]),V=d("Delete file"),q=d();async function z(){if(1==u.value.length){const e=D.value.find(e=>e.nm==u.value[0]);await async function(e){const a=t.loading("Files are being deleted. Please wait");try{O.value=!1,0==(await s.post("/files?action=DeleteFile",{path:e},{requestOptions:{isOriginalResult:!0}})).message.status?t.success("Files deleted successfully"):t.error("Files failed to delete")}catch(l){console.warn(l)}finally{a.close()}}(e.path)}u.value.length>1&&await async function(e,a){await s.post("/files?action=SetBatchData",{data:JSON.stringify(e),type:4,path:a},{requestOptions:{loading:"正在批量删除中，请稍候...",successMessage:!0}}),O.value=!1}(u.value,F.value)}async function E(){R.value||q.value.validate()?(await z(),i(n)):t.warning("Please enter the correct verification number")}return a({open(){if(O.value=!0,1==u.value.length){const e=D.value.find(e=>e.nm==u.value[0]);$.value=e,V.value=`Delete file [${$.value.nm}]`}else P.value=D.value.filter(e=>u.value.includes(e.nm))},close(){O.value=!1}}),(e,a)=>{const t=c,s=o;return p(),f(s,{preset:"card",draggable:"","close-on-esc":!1,"mask-closable":!1,class:"w-170",segmented:"",show:g(O),"onUpdate:show":a[1]||(a[1]=e=>b(O)?O.value=e:null)},{header:v(()=>[m("div",j,w(g(V)),1)]),footer:v(()=>[m("div",S,[_(t,{onClick:a[0]||(a[0]=e=>O.value=!1)},{default:v(()=>a[5]||(a[5]=[h("cancel",-1)])),_:1,__:[5]}),_(t,{type:"primary",onClick:E},{default:v(()=>a[6]||(a[6]=[h("confirm",-1)])),_:1,__:[6]})])]),default:v(()=>[g(R)?(p(),y("div",C,[a[3]||(a[3]=h(" Confirm delete folder ",-1)),m("span",k,w(g($).path?`[${g($).path}]`:""),1),a[4]||(a[4]=h(" ,it will move to recycle bin after delete, continue? ",-1))])):(p(),y("div",x,[a[2]||(a[2]=m("div",{class:"text-red-5 mb-15px text-14px"}," Recycle bin is not currently open, delete file cannot be restored after, continue? ",-1)),_(l,{ref_key:"calcVertifyRef",ref:q},null,512)]))]),_:1},8,["show"])}}}),[["__scopeId","data-v-9d32222b"]]))}}});
