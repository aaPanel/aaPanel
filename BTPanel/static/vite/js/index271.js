import{_ as e}from"./index109.js?v=1767769852656";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang23.js?v=1767769852656";import{c as t,d as s,h as o,_ as r}from"./public.js?v=1767769852656";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1767769852656";import{m as n,hz as d,hA as i,x as p}from"./page_layout.js?v=1767769852656";import{_ as c,aC as m}from"./naive.js?v=1767769852656";import{k as _,P as u,e as k,r as x,R as f,V as h,S as v,W as y,a3 as j,U as g,j as D,a4 as T,ak as b,N as w}from"./vue.js?v=1767769852656";import"./index.vue_vue_type_script_setup_true_lang.js?v=1767769852656";import"./index100.js?v=1767769852656";import"./theme-monokai.js?v=1767769852656";import"./__commonjsHelpers__.js?v=1767769852656";import"./file.js?v=1767769852656";import"./common.js?v=1767769852656";import"./index98.js?v=1767769852656";const C={class:"px-16px"},R={class:"flex mb-10px"},U={class:"flex-1"},$={class:"ml-16px"},z={class:"text-error"},L=_({__name:"index",setup(e,{expose:a}){const{t:_}=u(),L=k({path:"",checked:!1}),P=x([]),{keys:S,table:A,columns:B}=t([{type:"selection",width:40},{key:"project_name",title:_("Docker.Template.add.index_9")},{key:"conf_file",title:_("Docker.Template.add.index_10")},{key:"remark",title:_("Docker.Template.add.index_3")}]),{loading:H,setLoading:K}=s(),N=async()=>{if(""!==L.path.trim())try{K(!0);const{message:e}=await i({path:L.path,sub_dir:L.checked?"1":"0"});A.data=p(e)?e:[]}finally{S.value=[],P.value=[],K(!1)}else n.error(_("Docker.Template.add.index_11"))},V=(e,a)=>{P.value=a};return a({onConfirm:async()=>{0!==P.value.length?await d({template_list:w(P.value)}):n.error(_("Docker.Template.add.index_12"))}}),(e,a)=>{const t=c,s=l,n=m,d=o,i=r;return h(),f("div",C,[v("div",R,[v("div",U,[y(s,{value:g(L).path,"onUpdate:value":a[1]||(a[1]=e=>g(L).path=e),placeholder:e.$t("Docker.Template.add.index_5")},{suffix:j(()=>[y(t,{checked:g(L).checked,"onUpdate:checked":a[0]||(a[0]=e=>g(L).checked=e),class:"mr-8px"},{default:j(()=>[D(T(e.$t("Docker.Template.add.index_6")),1)]),_:1},8,["checked"])]),_:1},8,["value","placeholder"])]),v("div",$,[y(n,{type:"primary",onClick:N},{default:j(()=>[D(T(e.$t("Public.Btn.Search")),1)]),_:1})])]),y(d,{"checked-row-keys":g(S),"onUpdate:checkedRowKeys":[a[2]||(a[2]=e=>b(S)?S.value=e:null),V],"row-key":"project_name",loading:g(H),"loading-num":7,columns:g(B),data:g(A).data},null,8,["checked-row-keys","loading","columns","data"]),y(i,{class:"mt-20px"},{default:j(()=>[v("li",z,T(e.$t("Docker.Template.add.index_8",[g(S).length])),1)]),_:1})])}}}),P={class:"p-16px"},S=_({__name:"index",emits:["refresh"],setup(t,{expose:s,emit:o}){const r=o,{t:l}=u(),n=x(),d=x("normal"),i=[{key:"normal",label:l("Docker.Template.add.index_13"),isLazy:!0,data:{onRefresh:()=>{r("refresh")}},component:a},{key:"command",label:l("Docker.Template.add.index_14"),isLazy:!0,data:{onRefresh:()=>{r("refresh")}},component:L}];return s({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.onConfirm()),r("refresh")}}),(a,t)=>{const s=e;return h(),f("div",P,[y(s,{ref_key:"tabsRef",ref:n,value:g(d),"onUpdate:value":t[0]||(t[0]=e=>b(d)?d.value=e:null),options:i},null,8,["value"])])}}});export{S as default};
