const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index212.js?v=1763625242172","js/index.js?v=1763625242172","js/vue.js?v=1763625242172","js/__commonjsHelpers__.js?v=1763625242172","js/common.js?v=1763625242172","js/public.js?v=1763625242172","js/page_layout.js?v=1763625242172","js/naive.js?v=1763625242172","css/page_layout.css?v=1763625242172","css/public.css?v=1763625242172","css/index110.css?v=1763625242172","js/index.vue_vue_type_script_setup_true_lang.js?v=1763625242172","js/index.vue_vue_type_script_setup_true_lang8.js?v=1763625242172","css/index93.css?v=1763625242172","js/index213.js?v=1763625242172","js/index245.js?v=1763625242172","css/index59.css?v=1763625242172","css/index94.css?v=1763625242172","js/domain-verification.js?v=1763625242172","js/index214.js?v=1763625242172","js/site.js?v=1763625242172","js/ssl-lets-progress.js?v=1763625242172","css/ssl-lets-progress.css?v=1763625242172","js/index215.js?v=1763625242172","js/index99.js?v=1763625242172","css/index14.css?v=1763625242172","css/index95.css?v=1763625242172","js/index216.js?v=1763625242172","js/ssl-log.js?v=1763625242172","js/index104.js?v=1763625242172","css/index19.css?v=1763625242172","js/index115.js?v=1763625242172","js/planned.js?v=1763625242172","css/index74.css?v=1763625242172"])))=>i.map(i=>d[i]);
import{_ as e}from"./index107.js?v=1763625242172";import{k as t,a0 as a,P as n,e as s,X as o,j as i,R as l,a2 as r,a3 as d,V as _,U as u,a4 as c,_ as h,r as p,b as m,S as w,u as S,aj as f}from"./vue.js?v=1763625242172";import{u as y,ds as g,dt as x,a9 as L,du as v,c as k,dv as E,dw as b,a as j,_ as C,o as D,dx as R,dy as I}from"./page_layout.js?v=1763625242172";import{_ as P}from"./index132.js?v=1763625242172";import{_ as U}from"./index.js?v=1763625242172";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1763625242172";import{_ as B}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1763625242172";import{e as V,c as O,f as A,a as N,l as M,_ as z,h as F}from"./public.js?v=1763625242172";import{u as q,k as G,r as H}from"./utils3.js?v=1763625242172";import{A as X}from"./index217.js?v=1763625242172";import{dj as $,aC as J,dh as K,dS as Q}from"./naive.js?v=1763625242172";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1763625242172";import{T as Y}from"./transition.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";import"./common.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import"./paypal-js.js?v=1763625242172";const Z=t({__name:"index",setup(e){const t=h((()=>j((()=>import("./index212.js?v=1763625242172")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])))),p=h((()=>j((()=>import("./index213.js?v=1763625242172")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),m=h((()=>j((()=>import("./domain-verification.js?v=1763625242172")),__vite__mapDeps([18,6,2,3,7,4,5,9,8,11])))),w=y(),{userInfo:S}=a(w),{t:f}=n(),R=s({p:1,limit:10}),I=V(f("SSL.Business.index_41"),{onRefresh:(e,t)=>{W.data.request=!0,W.data.uc_id=t,W.data.verify=e,W.show=!0,ae()}}),H=V(f("SSL.index_44")),Q=V(f("SSL.index_49"),{onRefresh:()=>{ae()}}),W=V(f("SSL.Business.index_42"),{onRefresh:()=>{ae()}}),{table:Y,columns:Z}=O([{key:"provider",title:f("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:f("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:f("Site.Cert.index_44"),render:e=>e.order_info.title},q({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>void 0!==e.auto_renew?o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await g({hash:e.hash})}catch(t){e.auto_renew=1===e.auto_renew?0:1}}]},null):o("span",null,[i("--")])},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await x({hash:e.hash,alarm:t})}catch(a){e.alarm=1===t?0:1}}]},null):o("span",null,[i("--")])},{key:"create_time",title:f("Docker.Container.index_9"),render:e=>L(e.order_info.create_time)},G(((e,t)=>{Q.data.row=e,Q.show=!0,Q.data.menu=t})),{key:"order_status",title:f("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?o("span",{class:"color-warning"},[f("SSL.Business.index_45")]):"PENDING"===t.order_status&&1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_46")]):"COMPLETE"===t.order_status&&1===t.status?o("span",{class:"color-#20a53a"},[f("SSL.Business.index_47")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_48")]):"FAILED"===t.order_status&&1===t.status?o("span",{class:"color-error"},[f("SSL.Business.index_49")]):"EXPIRED"===t.order_status&&1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_50")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_52")]):void 0:o("span",{class:"color-warning"},[f("SSL.Business.index_51")]):o("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[f("SSL.Business.index_44")])}},A({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:f("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status||!e.order_info.order_status&&e.order_info.certId,label:f("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await v({uc_id:e.order_info.uc_id});k(t)&&(W.data.uc_id=e.order_info.uc_id,W.data.verify=t.data,W.data.paths=t.paths,W.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.index_58"),onClick:async()=>{Q.data.row=e,Q.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:f("Public.Btn.Del"),onClick:()=>{N({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await E({hash:e.hash}),ae()}})}}]})]),ee=e=>{I.data.row=e,I.show=!0},te=()=>{M()},ae=async()=>{try{Y.loading=!0;const{message:e}=await b(R);k(e)&&(Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}};return S.value.status&&ae(),(e,a)=>{const n=J,s=C,h=D,w=z,y=K,g=F,x=B,L=T,v=U,k=P;return l(),r(k,{install:_(S).status},{desc:d((()=>[a[7]||(a[7]=u("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),o(n,{type:"primary",onClick:te},{default:d((()=>[i(c(e.$t("Login.index_3")),1)])),_:1})])),default:d((()=>[o(L,{feedback:!0},{toolsLeft:d((()=>[o(n,{type:"primary",onClick:a[0]||(a[0]=e=>_(H).show=!0)},{default:d((()=>[i(c(_(f)("SSL.index_44")),1)])),_:1}),o(y,{trigger:"hover"},{trigger:d((()=>[o(s,{name:"base-info",size:18,color:"#999"})])),default:d((()=>[o(w,null,{default:d((()=>[a[9]||(a[9]=u("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),a[10]||(a[10]=u("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),a[11]||(a[11]=u("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),u("li",null,[a[8]||(a[8]=i("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ")),o(h,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:d((()=>[i(c(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1,__:[9,10,11]})])),_:1})])),table:d((()=>[o(g,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])])),pageRight:d((()=>[o(x,{page:_(R).p,"onUpdate:page":a[1]||(a[1]=e=>_(R).p=e),"page-size":_(R).limit,"onUpdate:pageSize":a[2]||(a[2]=e=>_(R).limit=e),"store-key":"ssl-business-page","item-count":_(Y).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),o(v,{show:_(H).show,"onUpdate:show":a[3]||(a[3]=e=>_(H).show=e),title:_(H).title,data:_(H).data,"min-height":250,component:X},null,8,["show","title","data"]),o(v,{show:_(I).show,"onUpdate:show":a[4]||(a[4]=e=>_(I).show=e),title:_(I).title,data:_(I).data,width:650,"min-height":450,component:_(t)},null,8,["show","title","data","component"]),o(v,{show:_(Q).show,"onUpdate:show":a[5]||(a[5]=e=>_(Q).show=e),title:_(Q).title,data:_(Q).data,width:720,height:530,component:_(p)},null,8,["show","title","data","component"]),o(v,{show:_(W).show,"onUpdate:show":a[6]||(a[6]=e=>_(W).show=e),title:_(W).title,data:_(W).data,width:650,"min-height":450,component:_(m)},null,8,["show","title","data","component"])])),_:1},8,["install"])}}});const ee=t({__name:"index",setup(e){const t=h((()=>j((()=>import("./index214.js?v=1763625242172")),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20,21,1,10,22])))),a=h((()=>j((()=>import("./index215.js?v=1763625242172")),__vite__mapDeps([23,11,2,3,7,4,24,6,5,9,8,25,26])))),r=h((()=>j((()=>import("./index216.js?v=1763625242172")),__vite__mapDeps([27,24,2,3,7,4,6,5,9,8,25,21,1,10,22])))),u=h((()=>j((()=>import("./index213.js?v=1763625242172")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),f=h((()=>j((()=>import("./ssl-log.js?v=1763625242172")),__vite__mapDeps([28,29,6,2,3,7,4,5,9,8,30])))),y=h((()=>j((()=>import("./index115.js?v=1763625242172")),__vite__mapDeps([31,29,6,2,3,7,4,5,9,8,30,11,32,33])))),{t:L}=n(),v=V(""),b=V(L("SSL.index_48"),{onRefresh:()=>{ne()}}),C=V(L("SSL.index_44"),{onRefresh:()=>{ne()},onOpenLog:e=>{ee(e)}}),P=V(L("SSL.index_45"),{onRefresh:()=>{ne()}}),M=V(L("SSL.index_49"),{onRefresh:()=>{ne()}}),z=V(L("SSL.index_50")),X=s({p:1,limit:10,is_order:0,search:""}),K=()=>{X.p=1,ne()},Q=()=>{N({title:L("SSL.index_51"),content:L("SSL.index_52"),onConfirm:async()=>{const{message:e}=await I();k(e)&&(v.title="Renew SSL Certificate Logs",v.data.id=e.id,v.show=!0)}})},{table:Y,columns:Z}=O([H((e=>{ee(e)})),{key:"ssl_type",title:L("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},q({title:L("SSL.index_54")}),{key:"proxy",title:L("SSL.index_55"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await g({hash:e.hash})}catch(t){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:L("SSL.Domain.index_26"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await x({hash:e.hash,alarm:t})}catch(a){e.alarm=1===t?0:1}}]},null)},G(((e,t)=>{M.data.row=e,M.show=!0,M.data.menu=t})),{key:"last_apply_time",title:L("SSL.index_56")},{key:"last_apply_log",title:L("SSL.index_57"),align:"center",render:e=>{let t;return e.log?o(D,{onClick:()=>{ee(e.log)}},"function"==typeof(a=t=L("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(a)&&!S(a)?t:{default:()=>[t]}):"--";var a}},A({width:250,options:e=>[{label:L("SSL.index_58"),onClick:async()=>{M.data.row=e,M.show=!0}},{label:L("Mail.Mass.index_61"),onClick:()=>{b.data.row=e,b.show=!0}},{label:L("Public.Btn.Del"),onClick:()=>{N({title:L("SSL.index_59"),content:L("SSL.index_60"),onConfirm:async()=>{await E({hash:e.hash}),ne()}})}}]})]),ee=e=>{z.data.path=e,z.show=!0};let te=null;const ae=p(!1),ne=async()=>{try{ae.value||(Y.loading=!0);const{message:e}=await R(X);k(e)&&(ae.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),ae.value?se():te&&clearTimeout(te),Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}},se=async()=>{te=window.setTimeout((()=>{ne()}),5e3)};return ne(),m((()=>{te&&clearTimeout(te)})),(e,n)=>{const s=J,h=W,p=F,m=B,S=T,g=U;return l(),w("div",null,[o(S,{feedback:!0},{toolsLeft:d((()=>[o(s,{type:"primary",onClick:n[0]||(n[0]=e=>_(C).show=!0)},{default:d((()=>[i(c(_(L)("SSL.index_44")),1)])),_:1}),o(s,{onClick:n[1]||(n[1]=e=>_(P).show=!0)},{default:d((()=>[i(c(_(L)("SSL.index_45")),1)])),_:1}),o(s,{onClick:Q},{default:d((()=>[i(c(_(L)("SSL.index_46")),1)])),_:1})])),toolsRight:d((()=>[o(h,{value:_(X).search,"onUpdate:value":n[2]||(n[2]=e=>_(X).search=e),onSearch:K},null,8,["value"])])),table:d((()=>[o(p,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])])),pageRight:d((()=>[o(m,{page:_(X).p,"onUpdate:page":n[3]||(n[3]=e=>_(X).p=e),"page-size":_(X).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>_(X).limit=e),"store-key":"ssl-lets-page","item-count":_(Y).total,onRefresh:ne},null,8,["page","page-size","item-count"])])),_:1}),o(g,{show:_(C).show,"onUpdate:show":n[5]||(n[5]=e=>_(C).show=e),title:_(C).title,data:_(C).data,width:550,"min-height":250,footer:!0,component:_(t),"confirm-text":_(L)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),o(g,{show:_(b).show,"onUpdate:show":n[6]||(n[6]=e=>_(b).show=e),title:_(b).title,data:_(b).data,width:650,"min-height":500,footer:!1,component:_(r)},null,8,["show","title","data","component"]),o(g,{show:_(P).show,"onUpdate:show":n[7]||(n[7]=e=>_(P).show=e),title:_(P).title,data:_(P).data,width:800,"min-height":500,footer:!0,component:_(a)},null,8,["show","title","data","component"]),o(g,{show:_(z).show,"onUpdate:show":n[8]||(n[8]=e=>_(z).show=e),title:_(z).title,data:_(z).data,width:650,"min-height":450,component:_(f)},null,8,["show","title","data","component"]),o(g,{show:_(M).show,"onUpdate:show":n[9]||(n[9]=e=>_(M).show=e),title:_(M).title,data:_(M).data,width:720,height:530,component:_(u)},null,8,["show","title","data","component"]),o(g,{show:_(v).show,"onUpdate:show":n[10]||(n[10]=e=>_(v).show=e),title:_(v).title,data:_(v).data,width:800,"min-height":550,footer:!1,component:_(y)},null,8,["show","title","data","component"])])}}}),te=t({__name:"index",setup(t){const{t:s}=n(),i=y(),{userInfo:u}=a(i),c=p("business"),h=[{key:"business",label:s("SSL.index_9"),component:Z},{key:"let-encrypt",label:"Let's Encrypt",component:ee}];return(t,a)=>{const n=e,s=Q;return _(u).status?(l(),r(s,{key:0,class:"p-16px"},{default:d((()=>[o(n,{value:_(c),"onUpdate:value":a[0]||(a[0]=e=>f(c)?c.value=e:null),options:h},null,8,["value"])])),_:1})):(l(),r(Y,{key:1}))}}});export{te as default};
