const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index217.js?v=1767769852656","js/index.js?v=1767769852656","js/vue.js?v=1767769852656","js/__commonjsHelpers__.js?v=1767769852656","js/common.js?v=1767769852656","js/public.js?v=1767769852656","js/page_layout.js?v=1767769852656","js/naive.js?v=1767769852656","css/page_layout.css?v=1767769852656","css/public.css?v=1767769852656","css/index120.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang8.js?v=1767769852656","css/index101.css?v=1767769852656","js/index218.js?v=1767769852656","js/index251.js?v=1767769852656","css/index64.css?v=1767769852656","css/index102.css?v=1767769852656","js/domain-verification.js?v=1767769852656","js/index219.js?v=1767769852656","js/site.js?v=1767769852656","js/ssl-lets-progress.js?v=1767769852656","css/ssl-lets-progress.css?v=1767769852656","js/index220.js?v=1767769852656","js/index99.js?v=1767769852656","css/index16.css?v=1767769852656","css/index103.css?v=1767769852656","js/index221.js?v=1767769852656","js/ssl-log.js?v=1767769852656","js/index104.js?v=1767769852656","css/index21.css?v=1767769852656","js/index118.js?v=1767769852656","js/planned.js?v=1767769852656","css/index79.css?v=1767769852656"])))=>i.map(i=>d[i]);
import{_ as e}from"./index109.js?v=1767769852656";import{k as a,a0 as t,P as n,e as s,W as o,j as i,a2 as l,V as r,a3 as d,U as u,a4 as _,S as c,_ as h,am as p,r as m,o as w,b as S,R as f,ak as y}from"./vue.js?v=1767769852656";import{u as g,aa as x,d7 as L,d as v,d8 as k,d9 as E,o as b,_ as C,a as j,da as D,db as R,dc as I,dd as P}from"./page_layout.js?v=1767769852656";import{_ as T}from"./index135.js?v=1767769852656";import{_ as U}from"./index.js?v=1767769852656";import{_ as B}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1767769852656";import{_ as V}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1767769852656";import{e as A,c as O,f as N,a as M,h as z,_ as q,l as F}from"./public.js?v=1767769852656";import{u as H,k as G,r as W}from"./utils3.js?v=1767769852656";import{A as X}from"./index222.js?v=1767769852656";import{dj as $,aC as J,dh as K,da as Q,dS as Y}from"./naive.js?v=1767769852656";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1767769852656";import{T as ee}from"./transition.js?v=1767769852656";import"./__commonjsHelpers__.js?v=1767769852656";import"./common.js?v=1767769852656";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1767769852656";import"./index.vue_vue_type_script_setup_true_lang.js?v=1767769852656";import"./paypal-js.js?v=1767769852656";const ae=a({__name:"index",setup(e){const a=h(()=>j(()=>import("./index217.js?v=1767769852656"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),p=h(()=>j(()=>import("./index218.js?v=1767769852656"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),m=h(()=>j(()=>import("./domain-verification.js?v=1767769852656"),__vite__mapDeps([18,6,2,3,7,4,5,9,8,11]))),w=g(),{userInfo:S}=t(w),{t:f}=n(),y=s({p:1,limit:10}),I=A(f("SSL.Business.index_41"),{onRefresh:(e,a)=>{Q.data.request=!0,Q.data.uc_id=a,Q.data.verify=e,Q.show=!0,te()}}),P=A(f("SSL.index_44")),W=A(f("SSL.index_49"),{onRefresh:()=>{te()}}),Q=A(f("SSL.Business.index_42"),{onRefresh:()=>{te()}}),{table:Y,columns:Z}=O([{key:"provider",title:f("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:f("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:f("Site.Cert.index_44"),render:e=>e.order_info.title},H({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>void 0!==e.auto_renew?o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await D({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null):o("span",null,[i("--")])},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await R({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null):o("span",null,[i("--")])},{key:"create_time",title:f("Docker.Container.index_9"),render:e=>x(e.order_info.create_time)},G((e,a)=>{W.data.row=e,W.show=!0,W.data.menu=a}),{key:"order_status",title:f("SSL.Business.index_43"),render:e=>{const a=e.order_info;return a.certId||a.domains.length?!a.certId&&a.domains.length?o("span",{class:"color-warning"},[f("SSL.Business.index_45")]):"PENDING"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_46")]):"COMPLETE"===a.order_status&&1===a.status?o("span",{class:"color-#20a53a"},[f("SSL.Business.index_47")]):"CANCELLED"===a.order_status&&1===a.status||-1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_48")]):"FAILED"===a.order_status&&1===a.status?o("span",{class:"color-error"},[f("SSL.Business.index_49")]):"EXPIRED"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_50")]):1!==a.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(a.order_status)?0===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_52")]):void 0:o("span",{class:"color-warning"},[f("SSL.Business.index_51")]):o("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[f("SSL.Business.index_44")])}},N({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:f("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status||!e.order_info.order_status&&e.order_info.certId,label:f("SSL.Business.index_54"),onClick:async()=>{const{message:a}=await L({uc_id:e.order_info.uc_id});v(a)&&(Q.data.uc_id=e.order_info.uc_id,Q.data.verify=a.data,Q.data.paths=a.paths,Q.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.index_58"),onClick:async()=>{W.data.row=e,W.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("Ftp.Label.index_11"),onClick:async()=>{const a=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(a)}},{show:!1,label:f("Public.Btn.Del"),onClick:()=>{M({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await k({hash:e.hash}),te()}})}}]})]),ee=e=>{I.data.row=e,I.show=!0},ae=()=>{F()},te=async()=>{try{Y.loading=!0;const{message:e}=await E(y);v(e)&&(Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}};return S.value.status&&te(),(e,t)=>{const n=J,s=C,h=b,w=q,g=K,x=z,L=V,v=B,k=U,E=T;return r(),l(E,{install:u(S).status},{desc:d(()=>[t[7]||(t[7]=c("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),o(n,{type:"primary",onClick:ae},{default:d(()=>[i(_(e.$t("Login.index_3")),1)]),_:1})]),default:d(()=>[o(v,{feedback:!0},{toolsLeft:d(()=>[o(n,{type:"primary",onClick:t[0]||(t[0]=e=>u(P).show=!0)},{default:d(()=>[i(_(u(f)("SSL.index_44")),1)]),_:1}),o(g,{trigger:"hover"},{trigger:d(()=>[o(s,{name:"base-info",size:18,color:"#999"})]),default:d(()=>[o(w,null,{default:d(()=>[t[9]||(t[9]=c("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=c("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=c("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),c("li",null,[t[8]||(t[8]=i("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ",-1)),o(h,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:d(()=>[i(_(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1,__:[9,10,11]})]),_:1})]),table:d(()=>[o(x,{loading:u(Y).loading,data:u(Y).data,columns:u(Z)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(L,{page:u(y).p,"onUpdate:page":t[1]||(t[1]=e=>u(y).p=e),"page-size":u(y).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>u(y).limit=e),"store-key":"ssl-business-page","item-count":u(Y).total,onRefresh:te},null,8,["page","page-size","item-count"])]),_:1}),o(k,{show:u(P).show,"onUpdate:show":t[3]||(t[3]=e=>u(P).show=e),title:u(P).title,data:u(P).data,"min-height":250,component:X},null,8,["show","title","data"]),o(k,{show:u(I).show,"onUpdate:show":t[4]||(t[4]=e=>u(I).show=e),title:u(I).title,data:u(I).data,width:650,"min-height":450,component:u(a)},null,8,["show","title","data","component"]),o(k,{show:u(W).show,"onUpdate:show":t[5]||(t[5]=e=>u(W).show=e),title:u(W).title,data:u(W).data,width:720,height:530,component:u(p)},null,8,["show","title","data","component"]),o(k,{show:u(Q).show,"onUpdate:show":t[6]||(t[6]=e=>u(Q).show=e),title:u(Q).title,data:u(Q).data,width:650,"min-height":450,component:u(m)},null,8,["show","title","data","component"])]),_:1},8,["install"])}}}),te=a({__name:"index",setup(e){const a=h(()=>j(()=>import("./index219.js?v=1767769852656"),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20,21,1,10,22]))),t=h(()=>j(()=>import("./index220.js?v=1767769852656"),__vite__mapDeps([23,11,2,3,7,4,24,6,5,9,8,25,26]))),l=h(()=>j(()=>import("./index221.js?v=1767769852656"),__vite__mapDeps([27,24,2,3,7,4,6,5,9,8,25,21,1,10,22]))),c=h(()=>j(()=>import("./index218.js?v=1767769852656"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),y=h(()=>j(()=>import("./ssl-log.js?v=1767769852656"),__vite__mapDeps([28,29,6,2,3,7,4,5,9,8,30]))),g=h(()=>j(()=>import("./index118.js?v=1767769852656"),__vite__mapDeps([31,29,6,2,3,7,4,5,9,8,30,11,32,33]))),{t:x}=n(),L=p().currentRoute.value.query,E=A(""),b=A(x("SSL.index_48"),{onRefresh:()=>{le()}}),T=A(x("SSL.index_44"),{onRefresh:()=>{le()},onOpenLog:e=>{se(e)}}),q=A(x("SSL.index_45"),{onRefresh:()=>{le()}}),F=A(x("SSL.index_49"),{onRefresh:()=>{le()}}),X=A(x("SSL.index_50")),K=s({p:1,limit:10,is_order:0,search:""}),Y=()=>{K.p=1,le()},ee={dns01:"DNS-01 Automatic",http01:"HTTP-01 Automatic",dns01_manual:"DNS-01 Manual"},ae=()=>{M({title:x("SSL.index_51"),content:x("SSL.index_52"),onConfirm:async()=>{const{message:e}=await P();v(e)&&(E.title="Renew SSL Certificate Logs",E.data.id=e.id,E.show=!0)}})},{table:te,columns:ne}=O([W(e=>{se(e)}),{key:"ssl_type",title:x("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},H({title:x("SSL.index_54")}),{key:"proxy",title:x("SSL.index_55"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await D({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:x("SSL.Domain.index_26"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await R({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null)},G((e,a)=>{F.data.row=e,F.show=!0,F.data.menu=a}),{key:"last_apply_time",title:x("SSL.index_56"),render:e=>o(Q,null,{default:()=>[o("span",null,[e.last_apply_time]),e.log?o(C,{class:"cursor-pointer",name:"base-left-logs",size:"18",onClick:()=>{se(e.log)}},null):"--"]})},{key:"last_apply_log",title:x("Waf.Setting.config_67"),align:"center",render:e=>ee[e.verify]},N({width:250,options:e=>[{label:x("SSL.index_58"),onClick:async()=>{F.data.row=e,F.show=!0}},{label:x("Mail.Mass.index_61"),onClick:()=>{b.data.row=e,b.show=!0}},{label:x("Public.Btn.Del"),onClick:()=>{M({title:x("SSL.index_59"),content:x("SSL.index_60"),onConfirm:async()=>{await k({hash:e.hash}),le()}})}}]})]),se=e=>{X.data.path=e,X.show=!0};let oe=null;const ie=m(!1),le=async()=>{try{ie.value||(te.loading=!0);const{message:e}=await I(K);v(e)&&(ie.value=e.data.some(e=>e.task.some(e=>100!==e.task_status)),ie.value?re():oe&&clearTimeout(oe),te.data=e.data,te.total=e.total)}finally{te.loading=!1}},re=async()=>{oe=window.setTimeout(()=>{le()},5e3)};return w(()=>{L.domain&&(K.search=L.domain),le()}),S(()=>{oe&&clearTimeout(oe)}),(e,n)=>{const s=J,h=Z,p=z,m=V,w=B,S=U;return r(),f("div",null,[o(w,{feedback:!0},{toolsLeft:d(()=>[o(s,{type:"primary",onClick:n[0]||(n[0]=e=>u(T).show=!0)},{default:d(()=>[i(_(u(x)("SSL.index_44")),1)]),_:1}),o(s,{onClick:n[1]||(n[1]=e=>u(q).show=!0)},{default:d(()=>[i(_(u(x)("SSL.index_45")),1)]),_:1}),o(s,{onClick:ae},{default:d(()=>[i(_(u(x)("SSL.index_46")),1)]),_:1})]),toolsRight:d(()=>[o(h,{value:u(K).search,"onUpdate:value":n[2]||(n[2]=e=>u(K).search=e),onSearch:Y},null,8,["value"])]),table:d(()=>[o(p,{loading:u(te).loading,data:u(te).data,columns:u(ne)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(m,{page:u(K).p,"onUpdate:page":n[3]||(n[3]=e=>u(K).p=e),"page-size":u(K).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>u(K).limit=e),"store-key":"ssl-lets-page","item-count":u(te).total,onRefresh:le},null,8,["page","page-size","item-count"])]),_:1}),o(S,{show:u(T).show,"onUpdate:show":n[5]||(n[5]=e=>u(T).show=e),title:u(T).title,data:u(T).data,width:550,"min-height":250,footer:!0,component:u(a),"confirm-text":u(x)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),o(S,{show:u(b).show,"onUpdate:show":n[6]||(n[6]=e=>u(b).show=e),title:u(b).title,data:u(b).data,width:650,"min-height":500,footer:!1,component:u(l)},null,8,["show","title","data","component"]),o(S,{show:u(q).show,"onUpdate:show":n[7]||(n[7]=e=>u(q).show=e),title:u(q).title,data:u(q).data,width:800,"min-height":500,footer:!0,component:u(t)},null,8,["show","title","data","component"]),o(S,{show:u(X).show,"onUpdate:show":n[8]||(n[8]=e=>u(X).show=e),title:u(X).title,data:u(X).data,width:650,"min-height":450,component:u(y)},null,8,["show","title","data","component"]),o(S,{show:u(F).show,"onUpdate:show":n[9]||(n[9]=e=>u(F).show=e),title:u(F).title,data:u(F).data,width:720,height:530,component:u(c)},null,8,["show","title","data","component"]),o(S,{show:u(E).show,"onUpdate:show":n[10]||(n[10]=e=>u(E).show=e),title:u(E).title,data:u(E).data,width:800,"min-height":550,footer:!1,component:u(g)},null,8,["show","title","data","component"])])}}}),ne=a({__name:"index",setup(a){const{t:s}=n(),i=p(),_=g(),{userInfo:c}=t(_),h=m("business"),w=[{key:"business",label:s("SSL.index_9"),component:ae},{key:"let-encrypt",label:"Let's Encrypt",component:te}];return i.currentRoute.value.query.domain&&(h.value="let-encrypt"),(a,t)=>{const n=e,s=Y;return u(c).status?(r(),l(s,{key:0,class:"p-16px"},{default:d(()=>[o(n,{value:u(h),"onUpdate:value":t[0]||(t[0]=e=>y(h)?h.value=e:null),options:w},null,8,["value"])]),_:1})):(r(),l(ee,{key:1}))}}});export{ne as default};
