const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index136.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang.js?v=1767769852656","js/vue.js?v=1767769852656","js/__commonjsHelpers__.js?v=1767769852656","js/naive.js?v=1767769852656","js/common.js?v=1767769852656","js/page_layout.js?v=1767769852656","js/public.js?v=1767769852656","css/public.css?v=1767769852656","css/page_layout.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang2.js?v=1767769852656","js/index98.js?v=1767769852656","css/index15.css?v=1767769852656","js/index134.js?v=1767769852656","js/index135.js?v=1767769852656","css/index26.css?v=1767769852656","js/soft.js?v=1767769852656","js/site.js?v=1767769852656"])))=>i.map(i=>d[i]);
import{i as a,aO as e,aR as t,aS as s,aV as i,d as n,x as o,y as l,q as d,a as r,aU as p}from"./page_layout.js?v=1767769852656";import{_}from"./index.js?v=1767769852656";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1767769852656";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1767769852656";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1767769852656";import{s as h,e as y,c as b,v as k,f,a as x,d as g,h as w}from"./public.js?v=1767769852656";import{_ as v}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1767769852656";import{g as j}from"./hooks.js?v=1767769852656";import{W as D,k as R,P as C,e as U,w as S,a2 as W,V as $,a3 as B,S as L,U as P,ak as z,j as V,a4 as q,_ as E,N as I}from"./vue.js?v=1767769852656";import{b as K,c as O,_ as A,d as H,e as N,g as T}from"./index134.js?v=1767769852656";import{dS as F,aC as G}from"./naive.js?v=1767769852656";import"./common.js?v=1767769852656";import"./__commonjsHelpers__.js?v=1767769852656";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1767769852656";import"./index135.js?v=1767769852656";import"./soft.js?v=1767769852656";import"./site.js?v=1767769852656";const{t:J}=a.global;const M={class:"p-16px"},Q=R({__name:"index",setup(a){const{t:R}=C(),Q=E(()=>r(()=>import("./index136.js?v=1767769852656"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),X=e(),Y=y(),Z=()=>{Y.show=!0},aa=()=>{T()},ea=async()=>{await s(X.type,{ids:[]}),ra()},{keys:ta,table:sa,columns:ia}=b([{type:"selection",width:40},{key:"name",title:R("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:R("Database.index_13"),width:"12%",minWidth:120},{key:"password",title:J("Database.index_14"),minWidth:150,render:a=>D(h,{value:a.password},null)},{key:"sid",title:J("Database.index_19"),width:"12%",minWidth:120,render:a=>j(a)},k({onBlur:async(a,e)=>{await p({id:e.id,ps:a})}}),f({width:140,options:a=>[{label:"Password",onClick:()=>{K(a)}},{label:R("Public.Btn.Del"),onClick:()=>{O([a])}}]})]),na=[{key:"sync",label:R("Database.index_24"),onBatch:a=>{x({title:R("Database.index_25"),content:R("Database.index_26"),onConfirm:async({hide:e})=>{await s(X.type,{ids:a.map(a=>a.id)}),e()}})}},{key:"backup",type:"confirm",label:R("Database.index_27"),confirm:{title:R("Database.index_28"),desc:R("Database.index_29"),api:a=>t(X.type,{id:a.id},!1),done:()=>{ra()},columns:[{key:"name",title:R("Database.index_12")}]}},{key:"delete",label:R("Database.index_30"),onBatch:a=>{O(a)}}],{loading:oa,setLoading:la}=g(),da=U({p:1,limit:10,sid:-1,search:""}),ra=async()=>{try{la(!0);const{message:a}=await i(X.type,(()=>{const a={...I(da)};return-1===a.sid&&delete a.sid,a})());n(a)?(sa.data=o(a.data)?a.data:[],sa.total=l(a.page)):(sa.data=[],sa.total=0)}finally{ta.value=[],la(!1)}};S(()=>X.isRefresh,a=>{a&&(X.setRefresh(!1),X.delRemoteId===da.sid&&(da.sid=-1),ra())});return(async()=>{await X.getRemote(),X.install&&ra()})(),(a,e)=>{const t=G,s=d,i=v,n=w,o=m,l=u,r=c,p=_,h=F;return $(),W(P(N),null,{default:B(()=>[D(h,null,{default:B(()=>[L("div",M,[D(r,{feedback:!0},{toolsLeft:B(()=>[D(t,{type:"primary",onClick:Z},{default:B(()=>[V(q(a.$t("Database.index_1")),1)]),_:1}),D(t,{onClick:aa},{default:B(()=>[V(q(a.$t("Database.index_4")),1)]),_:1}),D(s,{class:"mx-0!",vertical:""}),D(t,{onClick:ea},{default:B(()=>[V(q(a.$t("Database.index_5")),1)]),_:1}),D(t,{onClick:P(H)},{default:B(()=>[V(q(a.$t("Database.index_6")),1)]),_:1},8,["onClick"])]),toolsRight:B(()=>[D(P(A),{value:P(da).sid,"onUpdate:value":e[0]||(e[0]=a=>P(da).sid=a),"store-key":"database-sqlserver-page",onChange:ra},null,8,["value"]),D(i,{value:P(da).search,"onUpdate:value":e[1]||(e[1]=a=>P(da).search=a),placeholder:"Database search",onSearch:ra},null,8,["value"])]),table:B(()=>[D(n,{"checked-row-keys":P(ta),"onUpdate:checkedRowKeys":e[2]||(e[2]=a=>z(ta)?ta.value=a:null),loading:P(oa),data:P(sa).data,columns:P(ia)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:B(()=>[D(o,{"checked-row-keys":P(ta),"onUpdate:checkedRowKeys":e[3]||(e[3]=a=>z(ta)?ta.value=a:null),data:P(sa).data,options:na},null,8,["checked-row-keys","data"])]),pageRight:B(()=>[D(l,{page:P(da).p,"onUpdate:page":e[4]||(e[4]=a=>P(da).p=a),"page-size":P(da).limit,"onUpdate:pageSize":e[5]||(e[5]=a=>P(da).limit=a),"item-count":P(sa).total,onRefresh:ra},null,8,["page","page-size","item-count"])]),_:1}),D(p,{show:P(Y).show,"onUpdate:show":e[6]||(e[6]=a=>P(Y).show=a),title:a.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:P(Q)},null,8,["show","title","component"])])]),_:1})]),_:1})}}});export{Q as default};
