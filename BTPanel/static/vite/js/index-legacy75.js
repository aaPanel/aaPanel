System.register(["./vue-legacy.js?v=1769066082311","./page_layout-legacy.js?v=1769066082311","./public-legacy.js?v=1769066082311","./index-legacy114.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1769066082311","./terminal-legacy2.js?v=1769066082311","./naive-legacy.js?v=1769066082311","./index-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1769066082311","./__commonjsHelpers__-legacy.js?v=1769066082311","./common-legacy.js?v=1769066082311","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1769066082311","./xterm-legacy.js?v=1769066082311","./xterm-addon-canvas-legacy.js?v=1769066082311"],function(e,t){"use strict";var a,l,n,i,o,r,d,c,s,u,p,v,m,h,g,b,x,_,y,f,k,w,C,T,j,E,S,U,I,L,R,$,F,z,D,P,q,B,A,H,K,O,Y,V,W,X,G,J,M,N,Q,Z,ee,te,ae,le,ne,ie,oe,re;return{setters:[e=>{a=e.k,l=e.P,n=e.W,i=e.w,o=e.R,r=e.V,d=e.a3,c=e.U,s=e.ak,u=e.an,p=e.j,v=e.a4,m=e.a2,h=e.r,g=e.e,b=e.a0,x=e.S,_=e.F,y=e.O,f=e.au,k=e.H,w=e.I,C=e.b,T=e.a6,j=e.l,E=e.v,S=e.o},e=>{U=e.dp,I=e.m,L=e.x,R=e._,$=e.p},e=>{F=e.c,z=e.f,D=e.a,P=e.h,q=e.d,B=e.e,A=e.i},e=>{H=e._},e=>{K=e._},e=>{O=e.o,Y=e.d,V=e.g,W=e.s,X=e.l,G=e.e,J=e.a,M=e.u,N=e.b,Q=e.c,Z=e.T},e=>{ee=e.aC,te=e.dS,ae=e.au,le=e.db,ne=e.dT},e=>{ie=e._},e=>{oe=e._},e=>{re=e._},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.head[data-v-48cd70b1]{background:var(--terminal-head-bg);position:relative;height:40px;align-items:center}.head .item[data-v-48cd70b1]{width:160px;height:100%;display:flex;cursor:pointer;align-items:center;justify-content:space-between;padding-left:8px;padding-right:8px;border-right:1px solid rgb(231,225,225)}.head .item .close-terminal[data-v-48cd70b1]{--un-text-opacity:1;color:rgb(239 8 8 / var(--un-text-opacity))}.head .item .close-terminal[data-v-48cd70b1]:hover{background:var(--terminal-head-item-close-hover)}.head .item .text[data-v-48cd70b1]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.head .item .icon[data-v-48cd70b1]{margin-right:5px;width:10px;height:10px;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity));display:inline-block;border-radius:50%}.head .item .icon-active[data-v-48cd70b1]{--un-bg-opacity:1;background-color:rgb(247 11 60 / var(--un-bg-opacity))}.head .item[data-v-48cd70b1]:hover{background:var(--terminal-head-item-hover)}.head .item-active[data-v-48cd70b1]{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity));background:#424242!important}.head .add-terminal[data-v-48cd70b1]{width:40px;height:40px;text-align:center;line-height:50px}.head .add-terminal[data-v-48cd70b1]:hover{--un-bg-opacity:1;background-color:rgb(204 204 204 / var(--un-bg-opacity))}.context-menu[data-v-48cd70b1]{position:fixed;z-index:9999;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity));border-radius:5px;box-shadow:0 2px 12px rgba(0,0,0,.1)}.context-menu ul[data-v-48cd70b1]{width:150px;padding-top:5px;padding-bottom:5px;list-style:none}.context-menu ul li[data-v-48cd70b1]{cursor:pointer;padding:8px 10px}.context-menu ul li[data-v-48cd70b1]:hover{--un-bg-opacity:1;background-color:rgb(231 245 233 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(29 149 52 / var(--un-text-opacity))}.terminal[data-v-79cb6909]{position:relative;height:100%}.terminal-contract-tool[data-v-79cb6909]{position:absolute;right:0;top:50%;z-index:50;height:4rem;width:2rem;display:flex;cursor:pointer;align-items:center;justify-content:center;border-bottom-left-radius:9999px;border-top-left-radius:9999px;--un-bg-opacity:1;background-color:rgb(55 65 81 / var(--un-bg-opacity));background-color:#555;transform:translateY(-50%)}.terminal-contract-tool[data-v-79cb6909]:after{content:"";--un-border-opacity:1;border-color:rgb(255 255 255 / var(--un-border-opacity));border:2px solid rgb(255,255,255);transform:rotate(45deg);border-left-width:0;border-bottom-width:0;height:1rem;width:1rem}.terminal-contract-tool[data-v-79cb6909]:hover{--un-bg-opacity:1;background-color:rgb(107 114 128 / var(--un-bg-opacity))}.active[data-v-79cb6909]:after{transform:rotate(-135deg)!important}.box[data-v-57762b9d]{height:calc(100vh - 52px)}\n/*$vite$:1*/',document.head.appendChild(t);const de=a({__name:"index",setup(e,{expose:t}){const{t:a}=l(),m=U(),{keys:h,columns:g}=F([{key:"host",title:a("Term.index_8"),ellipsis:{tooltip:{width:"trigger"}},render:e=>n("span",{class:"cursor-pointer w-100%",onClick:()=>x(e)},[e.host])},z({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{const t={title:a("Term.index_22"),data:{isEdit:!0,row:e}};O(t)}},{label:a("Public.Btn.Del"),onClick:()=>{D({title:a("Term.index_6"),content:a("Term.index_7",[e.host]),onConfirm:async({hide:t})=>{await Y({host:e.host}),_(),t()}})}}]})]),b=()=>{const e={title:a("Term.index_19"),data:{isEdit:!1}};O(e)},x=e=>{m.server={...e,time:new Date}},_=async()=>{await V()};return i(()=>m.isRefresh,e=>{e&&(m.setRefresh(!1),_())}),t({init:_}),(e,t)=>{const a=ee,l=P,i=K;return r(),o("div",null,[n(i,null,{toolsLeft:d(()=>[n(a,{type:"primary",onClick:b},{default:d(()=>[p(v(e.$t("Term.index_19")),1)]),_:1})]),toolsRight:d(()=>[u("",!0)]),table:d(()=>[n(l,{"checked-row-keys":c(h),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>s(h)?h.value=e:null),loading:c(X),"max-height":"calc(100vh - 250px)",data:c(W),columns:c(g)},null,8,["checked-row-keys","loading","data","columns"])]),_:1})])}}}),ce={class:"p-20px"},se=a({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=l(),i=e,{isEdit:s,row:u,getList:p}=i.data,v=h(null),m=g({name:"",content:""}),b={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]},content:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return s&&u&&(m.name=u.title,m.content=u.shell),t({onConfirm:async({hide:e})=>{await(v.value?.validate()),s?await G({shell:m.content,title:u?u.title:"",new_title:m.name}):await J({shell:m.content,title:m.name}),p?.(),e()}}),(e,t)=>{const a=ae,l=te,i=re;return r(),o("div",ce,[n(i,{ref_key:"formRef",ref:v,model:c(m),rules:b},{default:d(()=>[n(l,{label:e.$t("Docker.Compose.form.index_3"),path:"name"},{default:d(()=>[n(a,{class:"w-280px!",value:c(m).name,"onUpdate:value":t[0]||(t[0]=e=>c(m).name=e),placeholder:e.$t("Term.idnex_1")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(l,{label:e.$t("Docker.LocalImage.build_5"),path:"content"},{default:d(()=>[n(a,{class:"w-280px!",type:"textarea",rows:6,value:c(m).content,"onUpdate:value":t[1]||(t[1]=e=>c(m).content=e),placeholder:e.$t("Term.index_2")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),ue=a({__name:"index",setup(e,{expose:t}){const{t:a}=l(),i=U(),{terminals:u}=M(),m=h(""),g=h([]),{loading:b,setLoading:x}=q(),_=()=>{m.value?f.data=g.value.filter(e=>e.title.includes(m.value)):f.data=g.value},{keys:y,table:f,columns:k}=F([{key:"title",title:a("Term.index_4"),sorter:"default",ellipsis:{tooltip:{width:"trigger"}},render:e=>n("span",{class:"cursor-pointer w-100%",onClick:()=>{var t;t=e.shell,A(t)}},[e.title])},z({width:170,options:e=>[{label:a("Run"),onClick:()=>{u.value.length?i.setCommand(e.shell):I.error(a("There are currently no activated terminals"))}},{label:a("file.paste"),onClick:()=>{u.value.length?i.setCommand(e.shell,!1):I.error(a("There are currently no activated terminals"))}},{label:a("Public.Btn.Edit"),onClick:()=>{j(e)}},{label:a("Public.Btn.Del"),onClick:()=>{D({title:a("Term.index_20"),content:a("Term.index_21",[e.title]),onConfirm:async({hide:t})=>{await N({title:e.title}),w(),t()}})}}]})]),w=async()=>{try{x(!0);const{message:e}=await Q();L(e)&&(g.value=e,f.data=e)}finally{y.value=[],x(!1)}},C=B(a("Term.index_3"),{isEdit:!1,getList:w}),T=()=>{C.data.isEdit=!1,C.title=a("Term.index_3"),C.show=!0},j=e=>{C.data.row=e,C.data.isEdit=!0,C.title=a("Term.index_5"),C.show=!0};return w(),t({init:w}),(e,t)=>{const a=ee,l=oe,i=P,u=K,h=ie;return r(),o("div",null,[n(u,null,{toolsLeft:d(()=>[n(a,{type:"primary",onClick:T},{default:d(()=>[p(v(e.$t("Term.index_3")),1)]),_:1})]),toolsRight:d(()=>[n(l,{class:"w-180px!",value:c(m),"onUpdate:value":[t[0]||(t[0]=e=>s(m)?m.value=e:null),_],placeholder:e.$t("Term.index_4"),clearable:""},null,8,["value","placeholder"])]),table:d(()=>[n(i,{"checked-row-keys":c(y),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>s(y)?y.value=e:null),loading:c(b),"max-height":"calc(100vh - 250px)",data:c(f).data,columns:c(k)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),n(h,{show:c(C).show,"onUpdate:show":t[2]||(t[2]=e=>c(C).show=e),title:c(C).title,data:c(C).data,width:480,footer:!0,component:se},null,8,["show","title","data"])])}}}),pe=a({__name:"index",setup(e){const{t:t}=l(),a=h("server"),i=[{key:"server",label:t("Term.index_23"),component:de},{key:"command",label:t("Term.index_24"),component:ue}];return(e,t)=>{const l=H;return r(),o("div",null,[n(l,{class:"w-300px!",value:c(a),"onUpdate:value":t[0]||(t[0]=e=>s(a)?a.value=e:null),options:i},null,8,["value"])])}}}),ve=["onClick","onContextmenu"],me=["title"],he=["onClick"],ge=a({__name:"menu",setup(e){const t=U(),{isFull:a}=b(t),{activeTerminalId:i,terminals:s,setActiveTerminal:g,onServerList:C}=M(),{t:T}=l(),j=h(0),E=h(0),S=h({id:"",host:"",port:0,ps:"",state:!1}),I=h(!1),L=["Copy session","Close session","Close to right","Close other"],$=()=>{const e={title:T("Term.index_19"),data:{isEdit:!1}};O(e)},F=e=>{const t=i.value===e,a=s.value.findIndex(t=>t.id===e);if(s.value=s.value.filter(t=>t.id!==e),t&&s.value.length>0){const e=a>0?a-1:0;i.value=s.value[e]?.id||"aaaaaaaaa"}else 0===s.value.length&&(i.value="aaaaaaaaa")};return document.addEventListener("click",()=>{I.value=!1}),(e,t)=>{const l=R,h=le;return r(),m(h,{class:"head gap-0! xterm-head"},{default:d(()=>[(r(!0),o(_,null,y(c(s),e=>(r(),o("div",{key:e.id,class:k(["item",{"item-active":c(i)===e.id}]),onClick:t=>c(g)(e.id),onContextmenu:f(t=>{return a=t,l=e,S.value=l,j.value=a.clientX,E.value=a.clientY,void(I.value=!0);var a,l},["prevent"])},[x("div",{class:"text",title:e.ps},[x("span",{class:k(["icon",{"icon-active":!e.state}])},null,2),p(v(e.ps?e.ps:e.host),1)],8,me),n(l,{name:"base-close",class:"close-terminal",size:16,onClick:f(t=>F(e.id),["stop"])},null,8,["onClick"])],42,ve))),128)),x("div",{class:"add-terminal",onClick:$},[n(l,{name:"base-add",size:24})]),x("div",{class:"absolute right-0px add-terminal",onClick:t[0]||(t[0]=e=>a.value=!c(a))},[n(l,{name:"base-full",size:24})]),c(I)?(r(),o("div",{key:0,class:"context-menu",style:w({top:c(E)+"px",left:c(j)+"px"})},[x("ul",null,[(r(),o(_,null,y(L,(e,t)=>x("li",{key:t,onClick:t=>(e=>{if(!S.value)return;let t;switch(e){case"Copy session":C(S.value);break;case"Close session":F(S.value.id);break;case"Close to right":t=s.value.findIndex(e=>e.id===S.value.id),-1!==t&&(s.value.splice(t+1),setTimeout(()=>{g(s.value[t]?.id||"aaaaaaaaa")},20));break;case"Close other":s.value=s.value.filter(e=>e.id===S.value.id),setTimeout(()=>{g(S.value.id)},20)}I.value=!1})(e)},v(e),9,he)),64))])],4)):u("",!0)]),_:1})}}}),be=$(ge,[["__scopeId","data-v-48cd70b1"]]),xe={class:"terminal bg-#333333"},_e=$(a({__name:"index",setup(e){const t=U(),{server:a,isShow:l}=b(t),{activeTerminalId:s,terminals:u,setActiveTerminal:p,onServerList:v,onUpdateState:h,resetTerminals:g}=M();return i(()=>a.value,e=>{null!==e&&v(e)},{deep:!0}),C(()=>{g()}),(e,t)=>{const a=le;return r(),m(a,{vertical:"",class:"gap-0!"},{default:d(()=>[n(be),x("div",xe,[(r(),m(T,null,[(r(!0),o(_,null,y(c(u),e=>j((r(),m(Z,{key:e.id,data:e,active:c(s)===e.id,onUpdateFull:c(p),onUpdateState:c(h)},null,8,["data","active","onUpdateFull","onUpdateState"])),[[E,e.id===c(s)]])),128))],1024)),x("div",{class:k(["terminal-contract-tool",{active:!c(l)}]),onClick:t[0]||(t[0]=e=>l.value=!c(l))},null,2)])]),_:1})}}}),[["__scopeId","data-v-79cb6909"]]),ye={class:"p-16px box"};e("default",$(a({__name:"index",setup(e){const t=U(),{isShow:a,isFull:l}=b(t),s=h(null);i(()=>l.value,e=>{e?(a.value=!1,s.value?.requestFullscreen()):document.exitFullscreen().catch(e=>{console.log(e.message)})});const u=()=>{document.fullscreenElement?l.value=!0:l.value=!1};return S(()=>{document.addEventListener("fullscreenchange",u)}),C(()=>{document.removeEventListener("fullscreenchange",u)}),(e,t)=>{const l=le,i=ne;return r(),o("div",ye,[n(i,{class:"p-16px h-100%"},{default:d(()=>[x("div",{class:"h-100%",ref_key:"contentRef",ref:s},[n(l,{class:"flex-nowrap! h-100%"},{default:d(()=>[n(_e,{class:"flex-1 overflow-hidden"}),j(n(pe,null,null,512),[[E,c(a)]])]),_:1})],512)]),_:1})])}}}),[["__scopeId","data-v-57762b9d"]]))}}});
