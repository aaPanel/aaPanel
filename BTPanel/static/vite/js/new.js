const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index246.js?v=1767769852656","js/public.js?v=1767769852656","js/page_layout.js?v=1767769852656","js/vue.js?v=1767769852656","js/__commonjsHelpers__.js?v=1767769852656","js/naive.js?v=1767769852656","js/common.js?v=1767769852656","css/page_layout.css?v=1767769852656","css/public.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang.js?v=1767769852656","js/index99.js?v=1767769852656","css/index16.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang11.js?v=1767769852656","js/index98.js?v=1767769852656","css/index15.css?v=1767769852656","js/index270.js?v=1767769852656","js/index135.js?v=1767769852656","css/index26.css?v=1767769852656","js/index.js?v=1767769852656","css/index120.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang5.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang6.js?v=1767769852656","css/index17.css?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang7.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang9.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang8.js?v=1767769852656","js/site.js?v=1767769852656","js/soft.js?v=1767769852656","js/index247.js?v=1767769852656","js/index251.js?v=1767769852656","css/index64.css?v=1767769852656","js/index100.js?v=1767769852656","js/theme-monokai.js?v=1767769852656","js/file.js?v=1767769852656","css/index18.css?v=1767769852656","js/index104.js?v=1767769852656","css/index21.css?v=1767769852656","js/index109.js?v=1767769852656","css/index23.css?v=1767769852656","css/index110.css?v=1767769852656","js/index245.js?v=1767769852656","js/index.vue_vue_type_script_setup_true_lang13.js?v=1767769852656"])))=>i.map(i=>d[i]);
import{i as e,a as t,d as a,o as n,dw as i,aN as o,n as s,dx as d,dy as l,x as r,y as c,dz as _,dA as u,dB as p}from"./page_layout.js?v=1767769852656";import{_ as m}from"./index135.js?v=1767769852656";import{_ as h}from"./index.js?v=1767769852656";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1767769852656";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1767769852656";import{_ as w}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1767769852656";import{u as g,e as k,c as j,E as x,o as b,v,f as P,a as S,d as C,h as N,m as O}from"./public.js?v=1767769852656";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1767769852656";import{s as U}from"./site.js?v=1767769852656";import{_ as W,W as B,u as E,k as I,P as L,r as V,e as z,w as A,a2 as D,V as H,a3 as T,U as $,ak as M,j as K,a4 as F,S as q,N as G}from"./vue.js?v=1767769852656";import{a as J}from"./soft.js?v=1767769852656";import{dS as Q,aC as X}from"./naive.js?v=1767769852656";const{t:Y}=e.global;function Z({onClick:e}){return{key:"ssl",title:Y("Site.PHP.index_27"),width:"9%",minWidth:100,render:t=>{let i;const{ssl:o}=t;return a(o)?B(n,{type:o.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[o.endtime<0?Y("Site.PHP.index_28"):Y("Site.PHP.index_29",[o.endtime])]}):B(n,{type:"warning",onClick:()=>{e(t)}},"function"==typeof(s=i=Y("WP.index_13"))||"[object Object]"===Object.prototype.toString.call(s)&&!E(s)?i:{default:()=>[i]});var s}}}const{t:ee}=e.global,te=()=>{J({name:"nodejs",title:ee("Node.index_3"),admin:!0})},ae=I({__name:"new",setup(e){const E=W(()=>t(()=>import("./index246.js?v=1767769852656"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]))),I=W(()=>t(()=>import("./index247.js?v=1767769852656").then(e=>e.i),__vite__mapDeps([28,2,3,4,5,6,1,8,7,29,30,20,21,22,24,10,11,31,32,33,34,9,12,13,14,15,35,36,37,38,26,18,19,39]))),J=i(),ee=o(),{t:ae}=L(),ne=V(!0),ie=()=>{O("nodejs",()=>{ye()})},oe=k(ae("Node.index_2")),se=k(),de=(e,t={})=>{se.title=ae("Site.PHP.index_13",[e.name,e.addtime]),se.data.siteInfo=e,se.data.config=Object.assign({menu:"",subMenu:""},t),se.show=!0},le=()=>{oe.show=!0},{keys:re,table:ce,columns:_e}=j([{type:"selection",width:40},{key:"name",title:ae("Site.TableRow.index_2"),width:"12%",ellipsis:{tooltip:{width:"trigger"}},render:e=>B(n,{onClick:()=>{de(e)}},{default:()=>[e.name]})},x({key:"run",width:"8%",checkedValue:!0,uncheckedValue:!1,minWidth:86,confirm:(e,t)=>({title:"".concat(ae(e?"Public.Status.Start":"Public.Status.Stop")," ").concat(ae("Node.index_5")),content:()=>{const a=ae("Node.index_6",[t.name]),n=ae("Node.index_7",[t.name]);return e?a:n},onConfirm:async({hide:a})=>{e?await u({project_name:t.name}):await p({project_name:t.name}),t.run=e,a()}})}),{key:"pid",title:"PID",width:"6%",minWidth:100,render:e=>0===Object.keys(e.load_info).length?"--":Object.keys(e.load_info).join(",")},{key:"cpu",title:"CPU",width:"6%",minWidth:70,render:e=>{if(!Object.keys(e.load_info).length)return"--";const t=Object.values(e.load_info).reduce((e,{cpu_percent:t})=>e+t,0);return"".concat(t.toFixed(2),"%")}},{key:"ram",title:"RAM",width:"6%",minWidth:70,render:e=>{if(!Object.keys(e.load_info).length)return"--";const t=Object.values(e.load_info).reduce((e,{memory_used:t})=>e+t,0);return s(t)}},b({minWidth:120}),{key:"noproject_config",title:ae("Node.index_8"),width:"9%",minWidth:100,render:e=>e.project_config.nodejs_version},v({width:"12%",onBlur:async(e,t)=>{await U({id:t.id,ps:e})}}),Z({onClick:e=>{de(e,{menu:"ssl"})}}),P({width:150,options:e=>[{label:ae("Public.Btn.Set"),onClick:()=>{de(e)}},{label:ae("Public.Btn.Del"),onClick:()=>{S({title:ae("Node.index_9"),content:ae("Node.index_10",[e.name]),onConfirm:async({hide:t})=>{await d({project_name:e.name}),fe(),t()}})}}]})]),ue=[{key:"delete",label:ae("Site.Batch.index_10"),onBatch:e=>{!function(e){g({title:Y("Site.Cert.index_57"),width:480,footer:!0,data:{rows:e},component:W(()=>t(()=>import("./index245.js?v=1767769852656"),__vite__mapDeps([40,2,3,4,5,6,1,8,7,41])))})}(e)}}],pe=z({p:1,limit:10,search:""}),{loading:me,setLoading:he}=C(),fe=async()=>{try{he(!0);const e={...G(pe)},{message:t}=await l(e);a(t)&&(ce.data=r(t.data)?t.data:[],ce.total=c(t.page))}finally{re.value=[],he(!1)}};A(()=>J.isRefresh,e=>{e&&(J.setRefresh(!1),fe())});const ye=async()=>{await(async()=>{try{await _({name:"nodejs"})}catch(e){ne.value="string"==typeof e}})(),await ee.getPHPConfig(),fe()};return ye(),(e,t)=>{const a=X,i=R,o=N,s=w,d=y,l=f,r=h,c=Q,_=m;return H(),D(_,{install:$(ne)},{desc:T(()=>[q("span",null,F(e.$t("Node.index_1"))+"ï¼Œ",1),B(n,{class:"ml-4px",onClick:ie},{default:T(()=>[K(F(e.$t("Public.Btn.Install")),1)]),_:1})]),default:T(()=>[B(c,null,{default:T(()=>[B(l,{class:"p-16px",feedback:!0},{toolsLeft:T(()=>[B(a,{type:"primary",onClick:le},{default:T(()=>[K(F(e.$t("Node.index_2")),1)]),_:1}),B(a,{onClick:$(te)},{default:T(()=>[K(F(e.$t("Node.index_3")),1)]),_:1},8,["onClick"])]),toolsRight:T(()=>[B(i,{value:$(pe).search,"onUpdate:value":t[0]||(t[0]=e=>$(pe).search=e),width:"300",placeholder:e.$t("Node.index_4"),onSearch:fe},null,8,["value","placeholder"])]),table:T(()=>[B(o,{"checked-row-keys":$(re),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>M(re)?re.value=e:null),loading:$(me),data:$(ce).data,columns:$(_e)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:T(()=>[B(s,{"checked-row-keys":$(re),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>M(re)?re.value=e:null),data:$(ce).data,options:ue},null,8,["checked-row-keys","data"])]),pageRight:T(()=>[B(d,{page:$(pe).p,"onUpdate:page":t[3]||(t[3]=e=>$(pe).p=e),"page-size":$(pe).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>$(pe).limit=e),"store-key":"site-node-page","item-count":$(ce).total,onRefresh:fe},null,8,["page","page-size","item-count"])]),_:1}),B(r,{show:$(oe).show,"onUpdate:show":t[5]||(t[5]=e=>$(oe).show=e),title:$(oe).title,width:640,height:730,footer:!0,component:$(E)},null,8,["show","title","component"]),B(r,{show:$(se).show,"onUpdate:show":t[6]||(t[6]=e=>$(se).show=e),title:$(se).title,data:$(se).data,width:860,height:720,component:$(I)},null,8,["show","title","data","component"])]),_:1})]),_:1},8,["install"])}}}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ne as _,te as o};
