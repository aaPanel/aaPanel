System.register(["./index-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763625242172","./public-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1763625242172","./page_layout-legacy.js?v=1763625242172","./index-legacy87.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1763625242172","./vue-legacy.js?v=1763625242172","./naive-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy20.js?v=1763625242172","./file-legacy.js?v=1763625242172","./common-legacy.js?v=1763625242172","./__commonjsHelpers__-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1763625242172","./index-legacy132.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1763625242172","./index-legacy130.js?v=1763625242172","./php-legacy.js?v=1763625242172","./soft-legacy.js?v=1763625242172","./site-legacy.js?v=1763625242172","./site-legacy4.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1763625242172","./index-legacy245.js?v=1763625242172","./index-legacy99.js?v=1763625242172","./index-legacy107.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1763625242172","./index-legacy98.js?v=1763625242172","./index-legacy100.js?v=1763625242172","./theme-monokai-legacy.js?v=1763625242172","./refersh-legacy.js?v=1763625242172","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1763625242172","./index-legacy104.js?v=1763625242172","./ssl-legacy.js?v=1763625242172","./cert-legacy.js?v=1763625242172","./ssl-lets-progress-legacy.js?v=1763625242172","./utils-legacy3.js?v=1763625242172","./index-legacy217.js?v=1763625242172","./paypal-js-legacy.js?v=1763625242172","./upload-legacy.js?v=1763625242172"],(function(e,t){"use strict";var l,a,n,i,s,d,o,u,p,c,r,_,y,g,h,x,m,f,v,w,S,b,P,k,j,W,$,R,C,U,z,L,T,B,I,q,D,N,A,E,F,H,K,M,O,V,J,X,G,Q,Y,Z,ee,te,le,ae,ne,ie;return{setters:[e=>{l=e._},e=>{a=e._},e=>{n=e._},e=>{i=e._,s=e.c,d=e.d,o=e.h,u=e.I,p=e.f,c=e.u,r=e.e,_=e.a},e=>{y=e._},e=>{g=e.x,h=e.m,x=e.c,m=e.bh,f=e.q,v=e.e1,w=e.p},e=>{S=e.q,b=e.r,P=e.t,k=e.v,j=e.w,W=e.x,$=e.y,R=e.z,C=e.A,U=e.B,z=e.C,L=e.D},e=>{T=e._},e=>{B=e.k,I=e.P,q=e.r,D=e.e,N=e.R,A=e.S,E=e.X,F=e.a3,H=e.U,K=e.V,M=e.a4,O=e.aj,V=e.ae,J=e.j,X=e.l,G=e.v,Q=e.av,Y=e.c,Z=e.N,ee=e.ay},e=>{te=e.au,le=e.dP,ae=e.aC},e=>{ne=e._},e=>{ie=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="[data-v-a0020a5f] .custom-table thead th{background-color:#fff}\n",document.head.appendChild(t);const se={class:"p-20px"},de={class:"w-280px"},oe=B({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:l}=I(),a=e,{getList:n}=a.data,s=q(null),d=D({name:""}),o={name:{required:!0,message:l("Security.Conf.Index_28"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(s.value?.validate()),await S({...d}),n?.(),e()}}),(e,t)=>{const l=te,a=le,n=T,u=i;return N(),A("div",se,[E(n,{ref_key:"formRef",ref:s,model:K(d),rules:o},{default:F((()=>[E(a,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:F((()=>[H("div",de,[E(l,{type:"text",value:K(d).name,"onUpdate:value":t[0]||(t[0]=e=>K(d).name=e),placeholder:e.$t("WP.Sets.index_11")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),E(u,{class:"mt-4px"},{default:F((()=>[H("li",null,M(e.$t("WP.Sets.index_12")),1)])),_:1})])}}}),ue={class:"p-20px"},pe=B({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:l}=I(),a=e,{id:n}=a.data,{keys:u,table:p,columns:c}=s([{type:"selection",width:40},{key:"name",title:l("Site.TableRow.index_2")}]),{loading:r,setLoading:_}=d();return(async()=>{try{_(!0);const{message:e}=await b();g(e)&&(p.data=e)}finally{u.value=[],_(!1)}})(),t({onConfirm:async()=>{if(!u.value.length)return h.error(l("WP.Sets.index_18")),!1;const e=u.value.join(",");await P({set_id:n,site_ids:e})}}),(e,t)=>{const l=o,a=i;return N(),A("div",ue,[E(l,{"checked-row-keys":K(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>O(u)?u.value=e:null),"row-key":"id",loading:K(r),data:K(p).data,"max-height":220,columns:K(c)},null,8,["checked-row-keys","loading","data","columns"]),E(a,{class:"mt-16px"},{default:F((()=>[H("li",null,M(e.$t("WP.Sets.index_17")),1),H("li",null,M(e.$t("WP.Sets.index_19")),1)])),_:1})])}}}),ce={class:"flex-1 flex flex-col gap-10px"},re="/tmp",_e=B({__name:"upload-btn",props:{path:{},pathModifiers:{},name:{default:""},nameModifiers:{}},emits:["update:path","update:name"],setup(e){const t=V(e,"path"),l=V(e,"name"),a=q([]),{t:n}=I(),i=async({file:e})=>{const{close:i}=h.loading(n("Component.Api.index_4"));try{const a=new FormData;a.append("f_path",re),a.append("f_name",e.name),a.append("f_start","0"),e.file&&(a.append("blob",e.file),a.append("f_size",e.file.size.toString()));const{message:n}=await ie(a);x(n)&&h.success(n.result),l.value=e.name,t.value=re+"/"+e.name}finally{a.value=[],i()}};return(e,t)=>{const n=ae,s=m;return N(),A("div",ce,[E(s,{"file-list":K(a),"onUpdate:fileList":t[0]||(t[0]=e=>O(a)?a.value=e:null),action:"",accept:".zip",multiple:!1,"show-file-list":!1,"custom-request":i},{default:F((()=>[E(n,{type:"primary"},{default:F((()=>[J(M(e.$t("WP.Sets.index_31")),1)])),_:1})])),_:1},8,["file-list"]),X(H("div",{class:"text-font3"},M(e.$t("WP.Sets.index_32")),513),[[G,!l.value]]),X(H("div",{class:"text-primary"},M(e.$t("WP.Sets.index_33",[l.value])),513),[[G,l.value]])])}}}),ye={class:"p-20px"},ge={class:"w-240px"},he={class:"w-240px"},xe={class:"my-16px"},me={class:"leading-20px text-font2"},fe=B({__name:"index",props:{id:{type:Number,default:0},type:{type:Number,default:1},refresh:{type:Function}},setup(e,{expose:t}){const l=Q("formRef"),a=Q("pathItemRef"),n=q(!1),i=q(""),{t:s}=I(),d=Y((()=>1===e.type?s("WP.Sets.index_28"):s("WP.Sets.index_29"))),o=Y((()=>1===e.type?s("WP.Sets.index_24"):s("WP.Sets.index_25"))),u=D({set_id:e.id,path:"",type:1===e.type?"plugin":"theme",slug:"",title:""}),p={path:{trigger:["change"],validator:(e,t)=>!!t||new Error(s("WP.Sets.index_30"))}},c=e=>{e&&i.value?(u.slug=i.value.replace(".zip",""),u.title=i.value.replace(".zip","")):(u.slug="",u.title="")},r=()=>{a.value?.restoreValidation()},_=e=>{n.value&&(u.slug=e.replace(".zip",""),u.title=e.replace(".zip",""))};return t({onConfirm:async()=>{await(l.value?.validate()),await k(Z(u)),e.refresh?.()}}),(e,t)=>{const s=le,y=te,g=ne,h=T,x=f;return N(),A("div",ye,[E(h,{ref_key:"formRef",ref:l,model:K(u),rules:p,"label-width":"160px"},{default:F((()=>[E(s,{ref_key:"pathItemRef",ref:a,label:K(d),path:"path"},{default:F((()=>[E(_e,{path:K(u).path,"onUpdate:path":[t[0]||(t[0]=e=>K(u).path=e),r],name:K(i),"onUpdate:name":[t[1]||(t[1]=e=>O(i)?i.value=e:null),_]},null,8,["path","name"])])),_:1},8,["label"]),E(g,{show:K(n),"onUpdate:show":[t[4]||(t[4]=e=>O(n)?n.value=e:null),c],title:e.$t("WP.Sets.index_20")},{default:F((()=>[E(s,{label:e.$t("WP.Sets.index_21")},{default:F((()=>[H("div",ge,[E(y,{value:K(u).slug,"onUpdate:value":t[2]||(t[2]=e=>K(u).slug=e),placeholder:e.$t("WP.Sets.index_22")},null,8,["value","placeholder"])])])),_:1},8,["label"]),E(s,{label:e.$t("WP.Sets.index_23")},{default:F((()=>[H("div",he,[E(y,{value:K(u).title,"onUpdate:value":t[3]||(t[3]=e=>K(u).title=e),placeholder:K(o)},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["show","title"])])),_:1},8,["model"]),H("div",xe,[E(x)]),H("div",me,[H("p",null,M(e.$t("WP.Sets.index_26")),1),H("p",null,M(e.$t("WP.Sets.index_27")),1)])])}}}),ve={class:"p-20px"},we=w(B({__name:"index",props:{id:{},type:{},getList:{}},setup(e){const{t:t}=I(),l=Q("searchRef"),n=e,{id:r,type:_,getList:m}=n,w=()=>{c({title:t(1===_?"WP.Sets.index_34":"WP.Sets.index_35"),width:500,footer:!0,data:{id:r,type:_,refresh:G},component:fe})},{keys:S,table:b,columns:P}=s([{key:"title",title:t("Site.TableRow.index_2"),width:"70%"},u({key:"state",title:t("WP.TableRow.index_9"),minWidth:100,onClick:async(e,t)=>{await j({item_ids:t.id,state:e?1:0,type:_}),G()}}),p({width:80,options:e=>[{label:t("Public.Btn.Del"),onClick:async()=>{await W({item_ids:e.id,type:_}),G(),m?.()}}]})]),{keys:k,table:z,columns:L}=s([{type:"selection",width:40,disabled:e=>e.is_in_set},{key:"name",title:t("Site.TableRow.index_2"),width:"60%"},{key:"title",title:t("WP.index_19"),render:e=>E(v,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)}]),T=D({p:1,p_size:999,keyword:"",set_id:r}),B=async()=>{if(!k.value.length)return h.error(t("WP.Sets.index_14")),void l.value?.focus();const e=z.data.filter((e=>k.value.includes(e.slug))).map((e=>({slug:e.slug,title:e.name,description:1===_?e.short_description:e.description})));await R({set_id:r,items:JSON.stringify(e),type:_}),G(),m?.()},q=async()=>{if(T.keyword)try{const{message:e}=1===_?await C(Z(T),!0):await U(Z(T),!0);x(e)&&(z.total=e.total,g(e.list)?(z.data=e.list,z.data.length||h.error(t("WP.Sets.index_16"))):(z.data=[],z.total=0))}finally{k.value=[]}else h.error(t("WP.Sets.index_15"))},{loading:V,setLoading:X}=d(),G=async()=>{try{X(!0);const{message:e}=await $({set_id:r,type:_});g(e)&&(b.data=e)}finally{S.value=[],X(!1)}};return G(),(e,t)=>{const n=ae,s=y,d=o,u=a,p=f,c=i;return N(),A("div",ve,[E(u,null,ee({toolsLeft:F((()=>[E(n,{type:"primary",onClick:B},{default:F((()=>[J(M(e.$t("Public.Btn.Add")),1)])),_:1}),E(n,{onClick:w},{default:F((()=>[J(M(e.$t("Public.Btn.Upload")),1)])),_:1})])),toolsRight:F((()=>[E(s,{ref_key:"searchRef",ref:l,value:K(T).keyword,"onUpdate:value":t[0]||(t[0]=e=>K(T).keyword=e),placeholder:e.$t("Public.Btn.Search"),onSearch:q},null,8,["value","placeholder"])])),_:2},[K(z).data.length?{name:"table",fn:F((()=>[E(d,{class:"custom-table",bordered:!1,"checked-row-keys":K(k),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>O(k)?k.value=e:null),"row-key":"slug","max-height":150,data:K(z).data,columns:K(L)},null,8,["checked-row-keys","data","columns"])])),key:"0"}:void 0]),1024),E(p,{class:"my-20px!"}),E(d,{loading:K(V),data:K(b).data,columns:K(P),"max-height":150},null,8,["loading","data","columns"]),E(c,{class:"mt-16px"},{default:F((()=>[H("li",null,M(e.$t("WP.Sets.index_13")),1),H("li",null,M(e.$t("WP.Sets.index_36")),1)])),_:1})])}}}),[["__scopeId","data-v-a0020a5f"]]),Se={class:"p-20px"};e("default",B({__name:"index",setup(e,{expose:t}){const{t:i}=I(),u=r(i("WP.Sets.index_2")),c=D({p:1,p_size:10,keyword:""}),g=()=>{j.show=!0},h=()=>{c.p=1,P()},m=(e,t,l)=>{k.title=t,k.data.id=e.id,k.data.type=l,k.show=!0},{keys:f,table:v,columns:w}=s([{key:"name",title:i("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},p({title:i("WP.Sets.index_3"),align:"center",options:e=>[{label:i("WP.Sets.index_4",[e.plugins.length]),onClick:()=>{m(e,i("WP.Sets.index_5"),1)}}]}),p({title:i("WP.Sets.index_6"),align:"center",options:e=>[{label:i("WP.Sets.index_7",[e.themes.length]),onClick:()=>{m(e,i("WP.Sets.index_8"),2)}}]}),p({width:100,align:"center",options:e=>[{label:i("WP.TableRow.index_13"),disabled:!e.plugins.length&&!e.themes.length,onClick:()=>{u.data.id=e.id,u.show=!0}},{label:i("Public.Btn.Del"),onClick:()=>{_({title:`${i("Site.TableOP.index_6")} [${e.name}]`,content:i("WP.Sets.index_9"),onConfirm:async({hide:t})=>{await z({set_id:e.id}),P(),t()}})}}]})]),{loading:S,setLoading:b}=d(),P=async()=>{try{b(!0);const{message:e}=await L(Z(c));x(e)&&(v.data=e.list,v.total=e.total)}finally{f.value=[],b(!1)}},k=r(i("WP.Sets.index_5"),{getList:P}),j=r(i("WP.Sets.index_10"),{getList:P});return P(),t({init:P}),(e,t)=>{const i=ae,s=y,d=o,p=n,r=a,_=l;return N(),A("div",Se,[E(r,null,{toolsLeft:F((()=>[E(i,{type:"primary",onClick:g},{default:F((()=>[J(M(e.$t("WP.Sets.index_1")),1)])),_:1})])),toolsRight:F((()=>[E(s,{value:K(c).keyword,"onUpdate:value":t[0]||(t[0]=e=>K(c).keyword=e),placeholder:e.$t("Security.History.Index_14"),onSearch:h},null,8,["value","placeholder"])])),table:F((()=>[E(d,{"max-height":250,loading:K(S),data:K(v).data,columns:K(w)},null,8,["loading","data","columns"])])),pageRight:F((()=>[E(p,{page:K(c).p,"onUpdate:page":t[1]||(t[1]=e=>K(c).p=e),"page-size":K(c).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>K(c).p_size=e),"item-count":K(v).total,onRefresh:P},null,8,["page","page-size","item-count"])])),_:1}),E(_,{show:K(j).show,"onUpdate:show":t[3]||(t[3]=e=>K(j).show=e),title:K(j).title,data:K(j).data,width:480,footer:!0,component:oe},null,8,["show","title","data"]),E(_,{show:K(k).show,"onUpdate:show":t[4]||(t[4]=e=>K(k).show=e),title:K(k).title,data:K(k).data,width:600,"min-height":350,footer:!1,component:we},null,8,["show","title","data"]),E(_,{show:K(u).show,"onUpdate:show":t[5]||(t[5]=e=>K(u).show=e),title:K(u).title,data:K(u).data,width:480,"min-height":350,footer:!0,"confirm-text":e.$t("WP.TableRow.index_13"),component:pe},null,8,["show","title","data","confirm-text"])])}}}))}}}));
