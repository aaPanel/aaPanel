import{n as e,c as t,_ as i,p as a,ap as s}from"./page_layout.js?v=1763625242172";import{u as l}from"./index87.js?v=1763625242172";import{b6 as n,b7 as o}from"./site.js?v=1763625242172";import{u as r}from"./public.js?v=1763625242172";import{a as p,_ as d}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1763625242172";import{e as u}from"./file.js?v=1763625242172";import{k as _,P as m,r as x,c,R as v,S,U as f,X as g,a4 as h,F as j,O as y,a3 as b,j as w,V as D,an as C,H as $,aj as T,I as k,ap as z}from"./vue.js?v=1763625242172";import{dc as H,dh as M,_ as R,d9 as P,eg as I,df as U}from"./naive.js?v=1763625242172";import"./common.js?v=1763625242172";import"./__commonjsHelpers__.js?v=1763625242172";import"./index132.js?v=1763625242172";import"./index.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1763625242172";import"./index130.js?v=1763625242172";import"./php.js?v=1763625242172";import"./soft.js?v=1763625242172";import"./site4.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1763625242172";import"./index245.js?v=1763625242172";import"./index99.js?v=1763625242172";import"./index107.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang10.js?v=1763625242172";import"./index98.js?v=1763625242172";import"./index100.js?v=1763625242172";import"./theme-monokai.js?v=1763625242172";import"./refersh.js?v=1763625242172";import"./index.vue_vue_type_script_setup_true_lang17.js?v=1763625242172";import"./index104.js?v=1763625242172";import"./ssl.js?v=1763625242172";import"./cert.js?v=1763625242172";import"./ssl-lets-progress.js?v=1763625242172";import"./utils3.js?v=1763625242172";import"./index217.js?v=1763625242172";import"./paypal-js.js?v=1763625242172";import"./upload.js?v=1763625242172";const O={class:"p-24px"},F={class:"flex"},V={class:"flex-1 ml-14px pt-6px"},X={class:"text-19px font-bold text-font1"},q={class:"site-content mt-24px"},A={class:"site-size"},B={class:"site-title"},E={class:"site-path"},G={class:"value"},J={class:"font-bold text-error"},K={key:1},L={key:0},N={class:"site-time"},Q={key:0,class:"site-db"},W={class:"db-name"},Y={class:"db-size"},Z={class:"db-time"},ee={class:"mt-24px text-13px text-error"},te={key:0},ie={key:1,class:"mt-6px"},ae={key:2,class:"mt-6px",style:{color:"var(--color-text-5)"}},se={class:"text-error font-bold"},le={key:3,class:"mt-6px"},ne=a(_({__name:"verify",props:{data:{}},emits:["setConfirm"],setup(a,{expose:s,emit:l}){const{t:o}=m(),r=a,p=l,{rows:d,type:_,delSite:T}=r.data,k=x(!0),z=x(!0),R=c((()=>!!_.find((e=>"database"===e)))),P=c((()=>!!_.find((e=>"path"===e)))),I=x([]),U=x(5);return(()=>{p("setConfirm",{type:"error",disabled:!0,text:o("Site.DelSite.ContentText16",[U.value])});const e=setInterval((()=>{U.value--,p("setConfirm",{text:o("Site.DelSite.ContentText16",[U.value])}),0===U.value&&(clearInterval(e),p("setConfirm",{disabled:!1,text:o("Site.DelSite.ContentText16")}))}),1e3)})(),(async()=>{const{message:e}=await n({ids:d.map((e=>e.id))});t(e)&&(I.value=e.data.map((e=>{const{database:i}=e;return t(i)&&(i.addtime_show=i.addtime.split(" ")[0],i.is_time_rule=Math.round(Date.now()/1e3)-i.st_time>2592e3&&i.total>10240),{...e,addtime_show:e.addtime.split(" ")[0],is_time_rule:Math.round(Date.now()/1e3)-e.st_time>2592e3&&e.total>10240}})))})(),(async()=>{const{message:e}=await u();t(e)&&(k.value=e.status,z.value=e.status_db)})(),s({onConfirm:async({hide:e})=>{await(null==T?void 0:T(e))}}),(a,s)=>{const l=i,n=H,o=M;return v(),S("div",O,[f("div",F,[g(l,{name:"base-warning",size:"34",color:"#f0a020"}),f("div",V,[f("div",X,h(a.$t("Site.DelSite.ContentText7")),1)])]),f("div",q,[(v(!0),S(j,null,y(D(I),(i=>(v(),S("div",{key:i.name,class:"content-item"},[f("div",A,[f("div",B,[g(n,null,{default:b((()=>[w(h(a.$t("Site.DelSite.index_3"))+": "+h(i.name),1)])),_:2},1024)]),g(o,{trigger:"hover"},{trigger:b((()=>[f("div",E,[f("div",null,h(a.$t("Site.DelSite.index_2"))+":",1),f("div",G,h(i.path),1),f("div",null,[s[1]||(s[1]=f("span",null,"(",-1)),i.limit?(v(),S(j,{key:0},[f("span",J,h(a.$t("Site.DelSite.index_9")),1),s[0]||(s[0]=f("span",{class:"glyphicon glyphicon-info-sign text-error"},null,-1))],64)):(v(),S("span",K,h(D(e)(i.total)),1)),s[2]||(s[2]=f("span",null,")",-1))])])])),default:b((()=>[f("div",null,[i.limit?(v(),S("p",L,h(a.$t("Site.DelSite.ContentText8")),1)):C("",!0),f("p",null,[f("span",null,h(a.$t("Site.DelSite.index_4"))+": "+h(i.path),1),f("span",null," ("+h((i.limit?"greater than ":"")+D(e)(i.total))+")",1)])])])),_:2},1024),f("div",N,[g(o,{trigger:"hover",disabled:!i.is_time_rule},{trigger:b((()=>[f("div",null,[f("span",null,h(a.$t("Site.DelSite.index_5"))+": ",1),f("span",{class:$({"text-error":i.is_time_rule})},h(i.addtime_show),3)])])),default:b((()=>[f("div",null,[f("p",null,h(a.$t("Site.DelSite.ContentText9")),1),f("p",null,h(a.$t("Site.DelSite.index_6"))+": "+h(i.addtime_show),1)])])),_:2},1032,["disabled"])])]),D(R)&&D(t)(i.database)?(v(),S("div",Q,[f("div",W,[g(n,null,{default:b((()=>[w(h(a.$t("Home.index_70"))+": "+h(i.name),1)])),_:2},1024)]),f("div",Y,[g(o,{trigger:"hover"},{trigger:b((()=>[w(h(a.$t("Site.DelSite.index_8"))+": "+h(D(e)(i.database.total)),1)])),default:b((()=>[f("div",null,[f("p",null,h(a.$t("Site.DelSite.ContentText10")),1),f("p",null,h(a.$t("Site.PHP.add_site_16"))+": "+h(D(e)(i.database.total)),1)])])),_:2},1024)]),f("div",Z,[g(o,{trigger:"hover",disabled:!i.database.is_time_rule},{trigger:b((()=>[f("div",null,[f("span",null,h(a.$t("Site.DelSite.index_5"))+": ",1),f("span",{class:$({"text-error":i.database.is_time_rule})},h(i.addtime_show),3)])])),default:b((()=>[f("div",null,[f("p",null,h(a.$t("Site.DelSite.ContentText11")),1),f("p",null,h(a.$t("Site.DelSite.index_6"))+": "+h(i.database.addtime_show),1)])])),_:2},1032,["disabled"])])])):C("",!0)])))),128))]),f("div",ee,[D(R)&&!D(z)?(v(),S("div",te,[s[3]||(s[3]=f("span",{class:"glyphicon glyphicon-info-sign"},null,-1)),f("span",null,h(a.$t("Site.DelSite.ContentText12")),1)])):C("",!0),D(P)&&!D(k)?(v(),S("div",ie,[s[4]||(s[4]=f("span",{class:"glyphicon glyphicon-info-sign"},null,-1)),f("span",null,h(a.$t("Site.DelSite.ContentText13")),1)])):C("",!0),D(U)>0?(v(),S("div",ae,[f("span",null,h(a.$t("Site.DelSite.ContentText14")),1),f("span",se,h(D(U)),1),f("span",null,h(a.$t("Site.DelSite.index_1")),1)])):(v(),S("div",le,h(a.$t("Site.DelSite.ContentText15")),1))])])}}}),[["__scopeId","data-v-2a911db4"]]),oe={class:"p-24px"},re={class:"flex pl-12px"},pe={class:"flex-1 ml-14px pt-8px"},de={class:"text-16px font-bold text-font1"},ue={class:"mt-20px"},_e={class:"mr-8px"},me={class:"flex items-center h-40px mt-24px mx-12px pl-48px text-14px",style:{backgroundColor:"var(--site-confirm-calc-box-bg)"}},xe={class:"mx-12px"},ce={class:"w-80px ml-12px"},ve=_({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=m(),n=e,{rows:u}=n.data,_=s(),j=l(),y=x(null),C=x([]),$=c((()=>1===C.value.length&&"ftp"===C.value[0])),H=x(0),O=x(0),F=x(null),V=x(!1),X=x("");let q=null;const A=e=>{z((()=>{(e=>{var t;X.value=e,V.value=!0,null==(t=y.value)||t.focus(),q&&clearTimeout(q),q=window.setTimeout((()=>{V.value=!1}),3e3)})(e)}))()},B=async e=>{1===u.length?(await E(u[0],!0),j.setRefresh(!0),null==e||e()):G(e)},E=async(e,t=!1)=>{const i=C.value.reduce(((e,t)=>(e[t]=1,e)),{});return await o(Object.assign({id:e.id,webname:e.name},i),t)},G=e=>{r({title:a("Site.Cert.index_56"),hideClose:!0,component:p,data:{title:a("Site.Cert.index_56"),api:E,data:u,callback:t=>{e(),J(t)}}})},J=e=>{j.setRefresh(!0),r({title:a("Site.DelSite.index_11"),width:440,footer:!0,component:d,data:{title:a("Site.Cert.index_56"),data:e,status:"done",columns:[{key:"name",title:a("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})};return F.value=null,H.value=Math.round(9*Math.random()+1),O.value=Math.round(9*Math.random()+1),t({onConfirm:async({hide:e})=>null==F.value||null==F.value?(A(a("Site.DelSite.ContentText5")),!1):F.value!==H.value+O.value?(A(a("Site.DelSite.ContentText6")),!1):void(0===C.value.length||$.value?await B(e):(r({title:1===u.length?"".concat(a("Site.DelSite.ContentText3")," [").concat(u[0].name,"]"):"".concat(a("Site.DelSite.ContentText4")),width:740,footer:!0,data:{rows:u,type:C.value,delSite:B},component:ne}),e()))}),(e,t)=>{const a=i,s=R,l=P,n=I,o=U,r=M;return v(),S("div",oe,[f("div",re,[g(a,{name:"base-warning",size:"34",color:"#f0a020"}),f("div",pe,[f("div",de,[f("div",null,h(e.$t("Site.DelSite.ContentText1")),1),f("div",ue,h(e.$t("Site.DelSite.ContentText2")),1)]),g(n,{value:D(C),"onUpdate:value":t[0]||(t[0]=e=>T(C)?C.value=e:null)},{default:b((()=>[g(l,{size:32,class:"items-center h-24px mt-24px"},{default:b((()=>[g(s,{value:"ftp"},{default:b((()=>[w(h(e.$t("Home.index_69")),1)])),_:1}),g(s,{value:"database"},{default:b((()=>[f("span",_e,h(e.$t("Site.PHP.add_site_16")),1),t[3]||(t[3]=f("span",{class:"glyphicon glyphicon-info-sign text-error"},null,-1))])),_:1,__:[3]}),g(s,{value:"path"},{default:b((()=>[w(h(e.$t("Site.TableRow.index_26")),1)])),_:1})])),_:1})])),_:1},8,["value"])])]),f("div",me,[f("span",null,h(e.$t("Site.DelSite.index_10"))+":",1),f("span",xe,h(D(H))+" + "+h(D(O)),1),t[4]||(t[4]=f("span",null,"=",-1)),f("div",ce,[g(r,{show:D(V),"onUpdate:show":t[2]||(t[2]=e=>T(V)?V.value=e:null),trigger:"manual",placement:"top-start","arrow-point-to-center":!0,style:k({"--n-color":D(_).errorColor,"--n-text-color":"#fff"})},{trigger:b((()=>[g(o,{ref_key:"inputRef",ref:y,value:D(F),"onUpdate:value":t[1]||(t[1]=e=>T(F)?F.value=e:null),size:"small","show-button":!1,placeholder:""},null,8,["value"])])),default:b((()=>[f("div",null,h(D(X)),1)])),_:1},8,["show","style"])])])])}}});export{ve as default};
