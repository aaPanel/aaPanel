import{u as a,R as t,o as s,q as e,l as o,_ as l,d as n,p as i}from"./page_layout.js?v=1767769852656";import{d as r,a as u}from"./public.js?v=1767769852656";import{g as c,s as m}from"./php.js?v=1767769852656";import{a as p}from"./soft.js?v=1767769852656";import{k as f,P as d,a0 as _,r as S,c as v,a2 as y,V as b,a3 as g,W as k,R as x,an as C,U as P,j as h,a4 as j,F as $,S as w,H as R}from"./vue.js?v=1767769852656";import{dh as N,da as q,aC as W}from"./naive.js?v=1767769852656";const z={key:0,class:"i-material-symbols:network-node color-#20a53a text-16px"},L={class:"m-2px"},B=i(f({__name:"index",props:{softName:{default:""},openSoft:{default:""},isWebSite:{type:Boolean,default:!1}},setup(i){const f=i,{t:B}=d(),{multiService:D}=_(a()),F=S({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),H=v(()=>t(F.value.name)+" "+F.value.version),{loading:I,setLoading:M}=r(),U=async()=>{try{M(!0);const{message:a}=await c({name:f.softName});n(a)&&(F.value=a)}finally{M(!1)}},V=(a,s)=>{const e="".concat(s," ").concat(H.value),o=B("Component.SoftState.index_1",[s.toLowerCase(),t(F.value.name)]);u({title:e,content:o,onConfirm:async()=>{await m({name:F.value.s_version,type:a}),U()}})},A=()=>{p({name:f.openSoft?f.openSoft:f.softName,title:t(F.value.name),admin:!0})};return U(),(a,t)=>{const n=o,i=l,r=W,u=s,c=e,m=q,p=N;return b(),y(p,{trigger:"hover"},{trigger:g(()=>[P(I)?(b(),y(n,{key:0,width:120,height:32,sharp:!1})):(b(),y(r,{key:1,class:"min-w-120px soft-btn",type:P(F).s_status?"default":"error",onClick:A},{default:g(()=>[a.isWebSite&&P(D)?(b(),x("i",z)):(b(),y(i,{key:1,name:"soft-".concat(a.softName),size:"20"},null,8,["name"])),w("span",L,j(P(H)),1),w("span",{class:R(["iconfont","icon-".concat(P(F).s_status?"start":"stop")])},null,2)]),_:1},8,["type"]))]),default:g(()=>[k(m,{class:"items-center",size:8},{default:g(()=>[k(u,{onClick:t[0]||(t[0]=t=>V(P(F).s_status?"stop":"start",P(F).s_status?a.$t("Public.Status.Stop"):a.$t("Public.Status.Start")))},{default:g(()=>[h(j(P(F).s_status?a.$t("Public.Status.Stop"):a.$t("Public.Status.Start")),1)]),_:1}),k(c,{class:"mx-0!",vertical:""}),k(u,{onClick:t[1]||(t[1]=a=>V("restart",P(B)("Public.Status.Restart")))},{default:g(()=>[h(j(a.$t("Public.Status.Restart")),1)]),_:1}),k(c,{class:"mx-0!",vertical:""}),k(u,{onClick:t[2]||(t[2]=a=>V("reload",P(B)("Public.Status.Reload")))},{default:g(()=>[h(j(a.$t("Public.Status.Reload")),1)]),_:1}),"pgsql"!==a.softName?(b(),x($,{key:0},[k(c,{class:"mx-0!",vertical:""}),k(u,{onClick:A},{default:g(()=>[h(j(a.$t("Database.Mysql.index_26")),1)]),_:1})],64)):C("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-c901a9ec"]]);export{B as _};
